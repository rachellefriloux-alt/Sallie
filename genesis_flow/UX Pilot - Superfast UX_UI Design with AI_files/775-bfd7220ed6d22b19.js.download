"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[775],{50142:function(e,n,t){t.d(n,{Hw:function(){return a},al:function(){return s},k1:function(){return r}});var r=["en","de","fr","es","pt","it","zh-CN","ko-KR","ja-JP"],s="en",a={en:{name:"English",short:"EN"},fr:{name:"Fran\xe7ais",short:"FR"},de:{name:"Deutsch",short:"DE"},es:{name:"Espa\xf1ol",short:"ES"},pt:{name:"Portugu\xeas",short:"PT"},it:{name:"Italiano",short:"IT"},"zh-CN":{name:"简体中文",short:"中文"},"ko-KR":{name:"한국어",short:"한국"},"ja-JP":{name:"日本語",short:"日本"}}},28462:function(e,n,t){t.d(n,{jD:function(){return c},rU:function(){return o},tv:function(){return u}});var r=t(71585),s=t(38546),a=t(50142),i=(0,r.Z)({locales:a.k1,defaultLocale:a.al,localePrefix:"as-needed",prefixDefault:!1,alternateLinks:!1}),l=(0,s.Z)(i),o=l.Link,c=(l.redirect,l.usePathname),u=l.useRouter},50775:function(e,n,t){t.d(n,{i:function(){return FeatureIcon},Z:function(){return PlanCardV2}});var r=t(45610),s=t(9),a=t(50044),i=t(57437),l=t(2265),o=t(72894),c=t(62442),u=t(74056),d=t(64224);t(15099);var p=t(7964),h=t(28462),f=t(4392),m=t(72319),x=t(96974);t(27106);var g=t(60453),v=t(47635),b=t(42146),C=t(27419),y=t(82826),w=t(76340),j=t(46615),N=t(46095),_=t(79398),I=t(82469),P=t(29467),F=t(97668),S=t(30698),FeatureIcon=function(e){var n=e.included;return"yes"===n?(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",children:(0,i.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2ZM16.2 10.3L11.4 15.1C11 15.5 10.4 15.5 10 15.1L7.8 12.9C7.4 12.5 7.4 11.9 7.8 11.5C8.2 11.1 8.8 11.1 9.2 11.5L10.7 13L14.8 8.9C15.2 8.5 15.8 8.5 16.2 8.9C16.6 9.3 16.6 9.9 16.2 10.3Z",fill:"#3F20FB"})}):"enterprise"===n?(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,i.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2ZM16.2 10.3L11.4 15.1C11 15.5 10.4 15.5 10 15.1L7.8 12.9C7.4 12.5 7.4 11.9 7.8 11.5C8.2 11.1 8.8 11.1 9.2 11.5L10.7 13L14.8 8.9C15.2 8.5 15.8 8.5 16.2 8.9C16.6 9.3 16.6 9.9 16.2 10.3Z",fill:"url(#paint0_linear_6204_34164)"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"paint0_linear_6204_34164",x1:"-4",y1:"-10",x2:"17.5",y2:"22",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#3F20FB"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#B377FF"})]})})]}):"limited"===n?(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:(0,i.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2ZM12 17C11.4 17 11 16.6 11 16C11 15.4 11.4 15 12 15C12.6 15 13 15.4 13 16C13 16.6 12.6 17 12 17ZM13 12C13 12.6 12.6 13 12 13C11.4 13 11 12.6 11 12V8C11 7.4 11.4 7 12 7C12.6 7 13 7.4 13 8V12Z",fill:"#BFB5FE"})}):(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:(0,i.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2ZM15.7 14.3C16.1 14.7 16.1 15.3 15.7 15.7C15.3 16.1 14.7 16.1 14.3 15.7L12 13.4L9.7 15.7C9.3 16.1 8.7 16.1 8.3 15.7C7.9 15.3 7.9 14.7 8.3 14.3L10.6 12L8.3 9.7C7.9 9.3 7.9 8.7 8.3 8.3C8.7 7.9 9.3 7.9 9.7 8.3L12 10.6L14.3 8.3C14.7 7.9 15.3 7.9 15.7 8.3C16.1 8.7 16.1 9.3 15.7 9.7L13.4 12L15.7 14.3Z",fill:"#BABABF"})})},ScreensIcon=function(){return(0,i.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M11 8H5C3.89543 8 3 8.89543 3 10V20C3 21.1046 3.89543 22 5 22H11C12.1046 22 13 21.1046 13 20V10C13 8.89543 12.1046 8 11 8Z",stroke:"#48484D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M5 4C5 3.46957 5.21071 2.96086 5.58579 2.58579C5.96086 2.21071 6.46957 2 7 2H19C19.5304 2 20.0391 2.21071 20.4142 2.58579C20.7893 2.96086 21 3.46957 21 4V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H16.6",stroke:"#48484D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M8 18H8.01",stroke:"#48484D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},UsersIcon=function(){return(0,i.jsx)("svg",{className:"w-5 h-5",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M8.19984 8.14667C8.55556 7.83876 8.84087 7.45793 9.03642 7.03002C9.23197 6.60211 9.33318 6.13714 9.33317 5.66667C9.33317 4.78261 8.98198 3.93477 8.35686 3.30965C7.73174 2.68453 6.88389 2.33334 5.99984 2.33334C5.11578 2.33334 4.26794 2.68453 3.64281 3.30965C3.01769 3.93477 2.6665 4.78261 2.6665 5.66667C2.6665 6.13714 2.76771 6.60211 2.96325 7.03002C3.1588 7.45793 3.44412 7.83876 3.79984 8.14667C2.8666 8.56926 2.07481 9.25169 1.51916 10.1124C0.963501 10.973 0.667485 11.9755 0.666504 13C0.666504 13.1768 0.736742 13.3464 0.861766 13.4714C0.98679 13.5964 1.15636 13.6667 1.33317 13.6667C1.50998 13.6667 1.67955 13.5964 1.80458 13.4714C1.9296 13.3464 1.99984 13.1768 1.99984 13C1.99984 11.9391 2.42126 10.9217 3.17141 10.1716C3.92156 9.42143 4.93897 9 5.99984 9C7.0607 9 8.07812 9.42143 8.82826 10.1716C9.57841 10.9217 9.99984 11.9391 9.99984 13C9.99984 13.1768 10.0701 13.3464 10.1951 13.4714C10.3201 13.5964 10.4897 13.6667 10.6665 13.6667C10.8433 13.6667 11.0129 13.5964 11.1379 13.4714C11.2629 13.3464 11.3332 13.1768 11.3332 13C11.3322 11.9755 11.0362 10.973 10.4805 10.1124C9.92486 9.25169 9.13308 8.56926 8.19984 8.14667ZM5.99984 7.66667C5.60427 7.66667 5.2176 7.54937 4.8887 7.32961C4.5598 7.10985 4.30345 6.79749 4.15208 6.43204C4.0007 6.06658 3.9611 5.66445 4.03827 5.27649C4.11544 4.88853 4.30592 4.53216 4.58562 4.25246C4.86533 3.97275 5.22169 3.78227 5.60966 3.7051C5.99762 3.62793 6.39975 3.66754 6.7652 3.81891C7.13066 3.97029 7.44301 4.22663 7.66278 4.55553C7.88254 4.88443 7.99984 5.27111 7.99984 5.66667C7.99984 6.1971 7.78912 6.70581 7.41405 7.08088C7.03898 7.45596 6.53027 7.66667 5.99984 7.66667ZM12.4932 7.88C12.9198 7.39956 13.1985 6.80604 13.2957 6.1709C13.3929 5.53575 13.3045 4.88605 13.041 4.3C12.7776 3.71395 12.3504 3.21653 11.8108 2.86762C11.2713 2.5187 10.6424 2.33316 9.99984 2.33334C9.82303 2.33334 9.65346 2.40357 9.52843 2.5286C9.40341 2.65362 9.33317 2.82319 9.33317 3C9.33317 3.17681 9.40341 3.34638 9.52843 3.47141C9.65346 3.59643 9.82303 3.66667 9.99984 3.66667C10.5303 3.66667 11.039 3.87738 11.4141 4.25246C11.7891 4.62753 11.9998 5.13624 11.9998 5.66667C11.9989 6.01683 11.906 6.3606 11.7305 6.66362C11.5551 6.96663 11.3031 7.21826 10.9998 7.39334C10.901 7.45035 10.8184 7.53178 10.7601 7.62983C10.7017 7.72788 10.6695 7.83927 10.6665 7.95334C10.6637 8.06651 10.6898 8.17853 10.7423 8.27884C10.7948 8.37915 10.8719 8.46444 10.9665 8.52667L11.2265 8.7L11.3132 8.74667C12.1168 9.12781 12.7947 9.73066 13.2672 10.4842C13.7396 11.2378 13.9869 12.1106 13.9798 13C13.9798 13.1768 14.0501 13.3464 14.1751 13.4714C14.3001 13.5964 14.4697 13.6667 14.6465 13.6667C14.8233 13.6667 14.9929 13.5964 15.1179 13.4714C15.2429 13.3464 15.3132 13.1768 15.3132 13C15.3186 11.977 15.0624 10.9695 14.5688 10.0734C14.0752 9.17725 13.3607 8.42221 12.4932 7.88Z",fill:"#495057"})})},LoadingSpinner=function(){return(0,i.jsx)("div",{className:"text-indigo-600 mt-2",children:(0,i.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 2.21.896 4.21 2.344 5.658l2.657-2.368z"})]})})},PlanCardV2=function(e){var n,t,A,B,k,U,T,E,L,M,D,R,Z,Y,J,q=e.plan,V=e.isYearlySelected,z=e.uxp18Variant,H=void 0===z?"control":z,W=e.highlightTitle,O=(0,s._)((0,l.useState)(!1),2),G=O[0],K=O[1],X=(0,_.z)(),Q=(0,s._)((0,l.useState)(!1),2),$=Q[0],ee=Q[1],en=(0,s._)((0,l.useState)(2),2),et=en[0],er=en[1],es=(0,P.j)().experiments[I.YN.UXP_77],ea=(null==es?void 0:es.variant)||I.I3[I.YN.UXP_77],ei=(0,m.mU)(),el=ei.isSubscribed,eo=(ei.isLoading,ei.subscriptionEndsAt),ec=ei.subscriptionCancelledAt,eu=ei.planType,ed=ei.hasActiveTrialAccess,ep=ei.isAllAccessTrialUser,eh=ei.isPaused,ef=(0,S.useChangePlanModal)(),em=ef.closeModal,ex=ef.isUpgradeFromBannerClicked,eg=(0,j.Z)(),ev=eg.myPlanLevel,eb=eg.findSubscriptionCTAText,eC=eg.planChanged,ey=eg.confirmationModalText,ew=(0,f.aC)(),ej=ew.currentUser,eN=ew.userInfo,e_=ew.refetch,eI=(0,h.tv)(),eP=(0,x.useStripe)(),eF=(n=(0,x.useStripe)(),A=(t=(0,s._)((0,l.useState)(null),2))[0],B=t[1],U=(k=(0,s._)((0,l.useState)(!1),2))[0],T=k[1],E=(0,f.aC)().currentUser,L=(0,s._)((0,b.pr)(),1)[0],M=(0,s._)((0,C.h3)(),1)[0],{subscribe:(D=(0,r._)(function(e){var t,r,s,i,l,o,c,u,d,p;return(0,a.Jh)(this,function(a){switch(a.label){case 0:if(B(null),!E||!E.email)return B(t="User not authenticated"),[2,{success:!1,error:t}];T(!0),a.label=1;case 1:return a.trys.push([1,7,8,9]),r=window.tolt_referral||"",[4,L().unwrap()];case 2:return s=a.sent().ip,i=navigator.userAgent,[4,M((0,v.q)({email:E.email,planId:e,toltReferral:r,userIpAddress:s,userAgent:i})).unwrap()];case 3:if("success"!==(l=a.sent()).status)return[3,5];return[4,(0,v.V)(l.sessionId,n,B)];case 4:if((o=a.sent())&&o.error)return B(c=o.error.message||"Checkout failed"),T(!1),[2,{success:!1,error:c}];return T(!1),[2,{success:!0}];case 5:if("error"===l.status&&"User already has an active subscription."===l.message)return B(u="You already have an active subscription."),T(!1),[2,{success:!1,error:u}];return B(d=l.message||"Subscription failed"),T(!1),[2,{success:!1,error:d}];case 6:return[3,9];case 7:return B(p=a.sent().message||"An error occurred while processing your subscription"),T(!1),[2,{success:!1,error:p}];case 8:return(0,g.hb)("userInfoData"),[7];case 9:return[2]}})}),function(e){return D.apply(this,arguments)}),error:A,isSubscriptionLoading:U}),eS=eF.subscribe,eA=eF.isSubscriptionLoading,eB=(0,s._)((0,C.A1)(),2),ek=eB[0],eU=eB[1].isLoading,eT=(0,s._)((0,C.db)(),1)[0],eE=(0,s._)((0,C.ZU)(),1)[0],eL=(0,w.Z)().notify,eM=(0,p.T_)("components.plans"),eD=(0,F.R)(null==eN?void 0:eN.createdDate),eR="pro"===q.planId,eZ=H===I.ZC.UXP_18.VARIANT_2||H===I.ZC.UXP_18.VARIANT_3,eY=eZ?"".concat(q.currency).concat(q.discount):q.discount,handleStartFree=function(){eI.push("/signup")},eJ=(R=(0,r._)(function(){var e,n,t,s,i,l,o,c,u,d;return(0,a.Jh)(this,function(p){switch(p.label){case 0:if(eh)return eL({message:"Your subscription is paused. You will be able to subscribe again on the next billing date.",type:"info"}),[2];if(eC)return eL({message:"You have a new plan coming up! Your current plan will be cancelled on your next billing date!",type:"info"}),[2];if(eo&&ec)return eL({message:"Your subscription will be cancelled on your next billing date! You will be able to subscribe again on the next billing date.",type:"info"}),[2];p.label=1;case 1:if(p.trys.push([1,13,14,15]),!ej||!ej.email)return eI.push("/signup"),[2];if(K(!0),e=q.upgradeProUrl||q.paymentUrl,!(eb(q.paymentUrl)===eM("planCard.subscribe")||eu===N.FD.FREE||ep))return[3,3];return[4,eS(e)];case 2:if(!(n=p.sent()).success&&n.error)return eL({message:n.error,type:"error"}),[2];return(0,g.hb)("userInfoData"),ex&&X.capture(N.Je.UPGRADE_BANNER_SUBSCRIBE_ATTEMPT,{event_type:N.Je.UPGRADE_BANNER_SUBSCRIBE_ATTEMPT,user_id:null==eN?void 0:eN.uid,email:null==eN?void 0:eN.email,distinct_id:null==eN?void 0:eN.uid,plan:null==q?void 0:q.planLevel}),eI.push("/a/ui-list"),[3,12];case 3:return p.trys.push([3,11,,12]),[4,ek({planId:q.paymentUrl}).unwrap()];case 4:if(t=p.sent(),i=(s=(0,y.Kf)(t)).clientSecret,!(s.requiresAction&&i))return[3,6];return console.info("Authenticating payment..."),[4,(0,y.fv)(i,eP,null==ej?void 0:ej.email)];case 5:if(!(l=p.sent()).success)return eL({message:l.error||"Payment authentication failed",type:"error"}),[2];p.label=6;case 6:var h;return[4,(0,y.c5)(t,{fetchSubscriptionStatus:(h=(0,r._)(function(e){return(0,a.Jh)(this,function(e){return[2,{status:"active"}]})}),function(e){return h.apply(this,arguments)}),fetchUserSubscription:(0,r._)(function(){return(0,a.Jh)(this,function(e){switch(e.label){case 0:return[4,e_()];case 1:return e.sent(),[2,{subscriptionPlanId:null==eN?void 0:eN.subscriptionPlanId}]}})}),onProgress:function(e){console.info("Processing upgrade...",e)}})];case 7:if(!((o=p.sent()).success&&!o.pending))return[3,9];return[4,e_()];case 8:return p.sent(),(0,g.hb)("userInfoData"),eL({message:"Subscription updated successfully",type:"success"}),ex&&X.capture(N.Je.UPGRADE_BANNER_SUBSCRIBE_ATTEMPT,{event_type:N.Je.UPGRADE_BANNER_SUBSCRIBE_ATTEMPT,user_id:null==eN?void 0:eN.uid,email:null==eN?void 0:eN.email,distinct_id:null==eN?void 0:eN.uid,plan:null==q?void 0:q.planLevel}),em(),[3,10];case 9:o.pending?console.info("Processing upgrade...",o.pending):eL({message:o.error||"Error updating subscription",type:"error"}),p.label=10;case 10:return[3,12];case 11:return d=(null==(u=(null==(c=p.sent())?void 0:c.data)||c)?void 0:u.message)||(null==c?void 0:c.message)||"Error updating subscription",(null==u?void 0:u.requiresAction)&&(null==u?void 0:u.paymentIntentClientSecret)?eL({message:"Payment authentication required. Please try again.",type:"error"}):eL({message:d,type:"error"}),[3,12];case 12:return[3,15];case 13:return eL({message:p.sent().message||"An unexpected error occurred",type:"error"}),[3,15];case 14:return K(!1),[7];case 15:return[2]}})}),function(){return R.apply(this,arguments)}),eq=(Z=(0,r._)(function(){var e,n,t,s,i,l,o,c,u,d,p,h,f,m,x,v,b,C,w,j,_,I;return(0,a.Jh)(this,function(P){switch(P.label){case 0:return P.trys.push([0,8,9,10]),[4,eT({adminEmail:null==eN?void 0:eN.email,teamPlanId:null==eN?void 0:eN.enterpriseId,priceId:q.paymentUrl,isYearly:V,newSeats:et}).unwrap()];case 1:if(console.log("upgradeResponse",x={success:"success"===(m=P.sent()).status,status:m.status,requiresAction:(null===(n=m.data)||void 0===n?void 0:null===(e=n.subscription)||void 0===e?void 0:e.requiresAction)||!1,paymentIntentClientSecret:(null===(s=m.data)||void 0===s?void 0:null===(t=s.subscription)||void 0===t?void 0:t.paymentIntentClientSecret)||null,paymentIntentStatus:(null===(l=m.data)||void 0===l?void 0:null===(i=l.subscription)||void 0===i?void 0:i.paymentIntentStatus)||null,latestInvoiceId:(null===(c=m.data)||void 0===c?void 0:null===(o=c.subscription)||void 0===o?void 0:o.latestInvoiceId)||null,subscriptionId:(null===(d=m.data)||void 0===d?void 0:null===(u=d.subscription)||void 0===u?void 0:u.stripeSubscriptionId)||"",message:m.message,data:{teamPlanId:null===(p=m.data)||void 0===p?void 0:p.teamPlanId,upgrade:null===(h=m.data)||void 0===h?void 0:h.upgrade,subscription:null===(f=m.data)||void 0===f?void 0:f.subscription}}),b=(v=(0,y.Kf)(x)).clientSecret,!((C=v.requiresAction)&&b))return[3,3];return console.info("Authenticating payment...",C,b),[4,(0,y.fv)(b,eP,null==ej?void 0:ej.email)];case 2:if(!(w=P.sent()).success)return eL({message:w.error||"Payment authentication failed",type:"error"}),[2];P.label=3;case 3:var F;return[4,(0,y.c5)(x,{fetchSubscriptionStatus:(F=(0,r._)(function(e){return(0,a.Jh)(this,function(e){return[2,{status:"active"}]})}),function(e){return F.apply(this,arguments)}),fetchUserSubscription:(0,r._)(function(){return(0,a.Jh)(this,function(e){switch(e.label){case 0:return[4,e_()];case 1:return e.sent(),[2,{subscriptionPlanId:null==eN?void 0:eN.subscriptionPlanId}]}})}),onProgress:function(e){console.info("Processing upgrade...",e)}})];case 4:if(!((j=P.sent()).success&&!j.pending))return[3,6];return[4,e_()];case 5:return P.sent(),(0,g.hb)("userInfoData"),eL({message:j.pending?"Your upgrade is being processed. You'll receive a confirmation email when it's complete.":"Team plan upgraded successfully",type:j.pending?"info":"success"}),ex&&X.capture(N.Je.UPGRADE_BANNER_SUBSCRIBE_ATTEMPT,{event_type:N.Je.UPGRADE_BANNER_SUBSCRIBE_ATTEMPT,user_id:null==eN?void 0:eN.uid,email:null==eN?void 0:eN.email,distinct_id:null==eN?void 0:eN.uid,plan:null==q?void 0:q.planLevel}),em(),[3,7];case 6:j.pending?console.info("Processing upgrade...",j.pending):eL({message:j.error||"Error confirming upgrade",type:"error"}),P.label=7;case 7:return[3,10];case 8:return console.error("Error upgrading team plan:",_=P.sent()),(null==(I=(null==_?void 0:_.data)||_)?void 0:I.requiresAction)&&(null==I?void 0:I.paymentIntentClientSecret)?eL({message:"Payment authentication required. Please try again.",type:"error"}):eL({message:(null==I?void 0:I.message)||(null==_?void 0:_.message)||"An unexpected error occurred",type:"error"}),[3,10];case 9:return K(!1),[7];case 10:return[2]}})}),function(){return Z.apply(this,arguments)}),eV=(Y=(0,r._)(function(){var e;return(0,a.Jh)(this,function(n){switch(n.label){case 0:return n.trys.push([0,5,6,7]),[4,eE({adminEmail:null==eN?void 0:eN.email,teamPlanId:null==eN?void 0:eN.enterpriseId,priceId:q.paymentUrl,isYearly:V,newSeats:et}).unwrap()];case 1:if("success"!==(e=n.sent()).status)return[3,3];return[4,e_()];case 2:return n.sent(),eL({message:"Team plan downgraded successfully",type:"success"}),em(),[3,4];case 3:eL({message:e.message||"Error downgrading team plan",type:"error"}),n.label=4;case 4:return[3,7];case 5:return eL({message:n.sent().message||"An unexpected error occurred",type:"error"}),[3,7];case 6:return K(!1),[7];case 7:return[2]}})}),function(){return Y.apply(this,arguments)}),ez=(J=(0,r._)(function(){return(0,a.Jh)(this,function(e){switch(e.label){case 0:if(eh)return eL({message:"Your subscription is paused. You will be able to subscribe again on the next billing date.",type:"info"}),[2];if(eC)return eL({message:"You have a new plan coming up! Your current plan will be cancelled on your next billing date!",type:"info"}),[2];if(eo&&ec)return eL({message:"Your subscription will be cancelled on your next billing date! You will be able to subscribe again on the next billing date.",type:"info"}),[2];e.label=1;case 1:if(e.trys.push([1,6,7,8]),!ej||!ej.email)return eI.push("/signup"),[2];if(K(!0),!V)return[3,3];return[4,eq()];case 2:return e.sent(),[3,5];case 3:return[4,eV()];case 4:e.sent(),e.label=5;case 5:return[3,8];case 6:return eL({message:e.sent().message||"An unexpected error occurred",type:"error"}),[3,8];case 7:return K(!1),[7];case 8:return[2]}})}),function(){return J.apply(this,arguments)}),handleTooltipHover=function(e,n){X.capture(N.Je.PLAN_FEATURE_TOOLTIP_SHOWN,{featureName:e,planTitle:n})};return(0,i.jsxs)("div",{className:"w-full block relative",children:[q.highlight&&(0,i.jsx)("div",{className:"hidden lg:block absolute -top-7 left-0 right-0 text-center mb-2",children:(0,i.jsx)("span",{className:"font-caveat text-3xl ".concat("betterValue"===W?"text-white":"text-[#7F6AFC]"),children:eM("planCard.".concat(W))})}),V&&"free"!==q.planId&&"teams"!==q.planId&&(0,i.jsxs)("div",{className:"absolute top-[3.75rem] right-4 text-xs font-bold px-2 py-1 rounded-full ".concat(eR&&eZ||"teams"===q.planId?"text-[#125F06] bg-[#D5F3A7]":"bg-carbon-200 text-carbon-700"),children:[eM("planCard.saveKeyword")," ",eY]}),"free"===q.planId&&ed&&(0,i.jsxs)("div",{className:"absolute top-[3.75rem] right-4 bg-[#F8F8F8] text-[#28A745] text-xs font-bold px-3 py-1 rounded-full flex items-center gap-1.5",children:[(0,i.jsx)(c.Z,{className:"w-2.5 h-2.5 stroke-[3]"}),eM("planCard.currentPlan")]}),(0,i.jsxs)("div",{className:"flex-1 flex mx-auto flex-col w-full mt-4 md:mt-6 max-w-xl rounded-[28px] shadow-lg bg-white text-gray-800\n          ".concat(q.borderOutline?"outline outline-offset-2 outline-4 outline-amethyst-300":""),children:[(0,i.jsxs)("div",{className:"p-4 py-8 border-b md:h-[250px]",children:[(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsxs)("div",{className:"flex flex-row h-[32px] w-full items-center mb-4 justify-between",children:[(0,i.jsx)("span",{className:"text-xl px-2 py-1 rounded-md font-semibold ".concat(q.titleClass),children:q.title}),"teams"===q.planId&&(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none",children:(0,i.jsx)(UsersIcon,{})}),(0,i.jsx)("select",{value:et,name:"team-size",onChange:function(e){return er(Number(e.target.value))},className:"appearance-none pl-11 pr-8 py-2 border border-carbon-300 rounded-lg bg-white text-carbon-800 font-medium cursor-pointer hover:border-carbon-400 focus:outline-none focus:ring-2 focus:ring-amethyst-300",children:Array.from({length:14},function(e,n){return n+2}).map(function(e){return(0,i.jsx)("option",{value:e,children:e},e)})}),(0,i.jsx)("svg",{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 pointer-events-none text-carbon-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),(0,i.jsx)("div",{className:"flex text-6xl font-bold mb-4 items-start",children:(0,i.jsxs)("span",{children:[q.currency,q.price,q.planId&&(0,i.jsx)("span",{className:"text-xl font-normal opacity-50 ",children:q.priceSuffix})]})})]}),(0,i.jsx)("div",{className:"max-h-[48px] h-[48px]",children:function(){if(eA||G||eU)return(0,i.jsx)(LoadingSpinner,{});if(!ej&&"free"===q.planId)return(0,i.jsx)("button",{onClick:handleStartFree,className:"w-full h-full border-0 flex text-xl pb-0.5 bg-[#3F20FB] hover:bg-[#2104D1] active:bg-[#2104D1] text-white items-center justify-center gap-x-3 border rounded-full duration-150",children:eM("planCard.startForFree")});if(el&&eo&&ev===q.planLevel)return(0,i.jsxs)("p",{className:"font-bold mt-3 text-indigo-600",children:[eM("planCard.planCancellation")," ",eo]});var e=eb(q.paymentUrl)===eM("planCard.upgrade")||eb(q.paymentUrl,ed)===eM("planCard.upgradeToPro")?"w-full h-full flex text-xl xl:text-lg hover:bg-[#3F20FB] active:bg-[#3F20FB] text-[#3F20FB] hover:text-white items-center justify-center gap-x-3 border border-[#3F20FB] rounded-full duration-150 font-semibold":eb(q.paymentUrl)==="".concat(eM("planCard.downgrade"))||eb(q.paymentUrl)===eM("planCard.startFree")?"w-full h-full flex text-xl xl:text-lg text-[#3F20FB] hover:bg-[#3F20FB] active:bg-[#3F20FB] hover:text-white active:border-[#3F20FB] border border-[#3F20FB] items-center justify-center gap-x-3 border rounded-full duration-150 font-semibold":eb(q.paymentUrl)===eM("planCard.activePlan")||eb(q.paymentUrl)===eM("planCard.activeOnNextBilling")?"w-full h-full flex text-xl xl:text-lg bg-carbon-200 text-[#0BAC46] items-center justify-center gap-x-3 border rounded-full duration-150 font-semibold":"w-full h-full flex text-xl xl:text-lg hover:bg-[#3F20FB] active:bg-[#3F20FB] text-[#3F20FB] hover:text-white items-center justify-center gap-x-3 border border-[#3F20FB] rounded-full duration-150 font-semibold",n=eb(q.paymentUrl,ed),t=n.includes(eM("planCard.downgrade")),r=n.includes(eM("planCard.upgrade")),s=n===eM("planCard.activePlan"),a=(null==q?void 0:q.planId)!=="pro"||s||t?"":"bg-[linear-gradient(99deg,_#3F20FB_3.03%,_#B377FF_94.71%)] border-none text-white";return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("button",{disabled:eA||G||s||eb(q.paymentUrl,ed)===eM("planCard.activeOnNextBilling"),className:"".concat(e," ").concat(a),onClick:function(){if(ej&&ej.email&&"teams"===q.planId&&!(null==eN?void 0:eN.enterpriseId)){window.location.href="".concat("/a/account?tab=manageplan&showTeamsPlanModal=true&teamSize=").concat(et);return}ee(!0)},children:[n," ",!t&&!r&&!s&&"".concat(q.title)]}),"free"!==q.planId&&(0,i.jsx)("p",{className:"text-xs text-center mt-1 font-medium opacity-70",children:eM("planCard.securePayment")}),"free"===q.planId&&ed&&(0,i.jsxs)("div",{className:"flex items-center gap-1 justify-center mt-2",children:[(0,i.jsx)(o.Z,{className:"w-3 h-3 text-[#EFBF56]"}),(0,i.jsx)("p",{className:"text-[#8F6036] text-xs",children:eM("planCard.proTrialActive",{daysLeft:eD})})]})]})}()})]}),(0,i.jsxs)("div",{className:"pl-6 pr-4 py-4 border-b",children:[(0,i.jsx)("div",{className:"pb-2 col-span-2 font-medium text-left",children:(0,i.jsx)("p",{children:eM("planCard.credits")})}),(0,i.jsxs)("div",{className:"flex flex-row space-x-2 items-start",children:[(0,i.jsx)(ScreensIcon,{}),(0,i.jsx)("div",{className:"flex flex-col",children:q.isLoading&&"free"===q.planId?(0,i.jsxs)("div",{className:"animate-pulse",children:[(0,i.jsx)("div",{className:"h-6 bg-gray-200 rounded w-32 mb-2"}),(0,i.jsx)("div",{className:"h-5 bg-gray-200 rounded w-24"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("p",{children:["teams"!==q.planId&&eM("planCard.upTo").charAt(0).toUpperCase()+eM("planCard.upTo").slice(1)," ",q.screensNumb," ",eM("planCard.screens")," ",(0,i.jsx)("span",{className:"text-[#B377FF]",children:"teams"===q.planId?eM("planCard.perUser"):""})]}),(0,i.jsxs)("p",{className:"font-medium opacity-50",children:[q.creditsNumb," ","teams"!==q.planId&&eM("planCard.credits").toLowerCase()," ",(0,i.jsx)("span",{className:"font-normal",children:q.Creditsconditions})]})]})})]})]}),(0,i.jsxs)("ul",{className:"px-4 py-4 pb-8 space-y-3 md:block",children:[(0,i.jsx)("div",{className:"col-span-2 font-medium text-left",children:(0,i.jsx)("p",{children:eM("planCard.features")})}),q.features&&q.features.filter(function(e){return"true"!=e["uxp-77"]||ea!==I.ZC.UXP_77.CONTROL}).map(function(e,n){return(0,i.jsxs)("li",{className:"flex items-start gap-3 font-medium rounded-sm transition-colors duration-200","data-feature-index":n,children:[(0,i.jsx)(FeatureIcon,{included:e.included}),(0,i.jsxs)("div",{className:"flex items-start justify-between w-full gap-2 flex-1 min-w-0",children:[(0,i.jsxs)("div",{className:"flex items-start gap-2 flex-wrap flex-1 min-w-0",children:[(0,i.jsx)("span",{className:"".concat(e.highlight?"text-amethyst-800":""," break-words"),children:e.name}),e.conditions&&!e.renderHighlightAway&&(0,i.jsx)("span",{className:"text-xs whitespace-nowrap ".concat(e.highlight?"text-amethyst-700/80":""),children:e.conditions}),e.conditions&&e.renderHighlightAway&&(0,i.jsx)("span",{className:"text-xs whitespace-nowrap ".concat(e.highlight?"text-amethyst-700/80 bg-[#ECE9FF] py-1 px-2 rounded-full":""),children:e.conditions})]}),(0,i.jsx)("div",{className:"flex items-center flex-shrink-0",children:e.tooltip&&(0,i.jsx)(d.ZP,{className:"text-xs p-0 bg-carbon-800 text-white w-56 text-center rounded-md",content:e.tooltip,placement:"top",onShow:function(){return handleTooltipHover(e.name,q.title)},children:(0,i.jsx)("div",{className:"cursor-help flex-shrink-0",children:(0,i.jsx)(u.Z,{size:16,className:"text-amethyst-300 hover:text-amethyst-400"})})})})]})]},n)})]})]}),$&&(0,i.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:(0,i.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-lg",children:[(0,i.jsx)("p",{className:"mb-4",children:ey(q.paymentUrl,et)}),(0,i.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,i.jsx)("button",{onClick:function(){if(ej&&(null==ej?void 0:ej.email)){if("teams"===q.planId&&(null==eN?void 0:eN.enterpriseId)&&(null==eN?void 0:eN.isEnterpriseAdmin)){ez(),ee(!1);return}}else{eI.push("/signup");return}eJ(),ee(!1)},className:"px-4 py-1 bg-amethyst-700 text-white rounded hover:bg-amethyst-800",children:"Yes"}),(0,i.jsx)("button",{onClick:function(){return ee(!1)},className:"px-4 py-1 bg-carbon-300 text-carbon-800 rounded hover:bg-carbon-400",children:"No"})]})]})})]})}},30698:function(e,n,t){t.r(n),t.d(n,{ChangePlanModalContext:function(){return i},ChangePlanModalProvider:function(){return ChangePlanModalProvider},useChangePlanModal:function(){return useChangePlanModal}});var r=t(9),s=t(57437),a=t(2265),i=(0,a.createContext)(),ChangePlanModalProvider=function(e){var n=e.children,t=(0,r._)((0,a.useState)(!1),2),l=t[0],o=t[1],c=(0,r._)((0,a.useState)(!1),2),u=c[0],d=c[1];return(0,s.jsx)(i.Provider,{value:{isModalOpen:l,openModal:function(){o(!0)},closeModal:function(){o(!1),u&&d(!1)},isUpgradeFromBannerClicked:u,setIsUpgradeFromBannerClicked:d},children:n})},useChangePlanModal=function(){return(0,a.useContext)(i)}},82826:function(e,n,t){t.d(n,{Kf:function(){return extractPaymentIntent},c5:function(){return waitForWebhookConfirmation},fv:function(){return handle3DSecure}});var r=t(45610),s=t(41369),a=t(50044),i=t(27106);function handle3DSecure(e,n,t){return _handle3DSecure.apply(this,arguments)}function _handle3DSecure(){return(_handle3DSecure=(0,r._)(function(e,n,t){var r,l,o,c;return(0,a.Jh)(this,function(a){switch(a.label){case 0:if(n)return[3,2];return[4,(0,i.J)("pk_live_51Ng1Q3Fa1DYVihNz7yQ5AAiIUyqXhnGh02JFITxGh9iQFIS8BziNe0ehN0TYAcekilDDCveh5Gqo09PPlOkn0sSi00jJlg0MHz")];case 1:if(!(n=a.sent()))return[2,{success:!1,error:"Failed to initialize Stripe"}];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,n.confirmPayment({clientSecret:e,confirmParams:(0,s._)({},t&&{payment_method_data:{billing_details:{email:t}}}),redirect:"if_required"})];case 3:if(l=(r=a.sent()).error,o=r.paymentIntent,l)return[2,{success:!1,error:l.message||"Payment authentication failed"}];if((null==o?void 0:o.status)==="succeeded")return[2,{success:!0,paymentIntent:o}];if((null==o?void 0:o.status)==="requires_action")return[2,{success:!1,error:"Additional authentication still required. Please try again."}];return[2,{success:!0,paymentIntent:o}];case 4:return console.error("3D Secure error:",c=a.sent()),[2,{success:!1,error:c instanceof Error?c.message:"An error occurred during payment authentication"}];case 5:return[2]}})})).apply(this,arguments)}function waitForWebhookConfirmation(e){return _waitForWebhookConfirmation.apply(this,arguments)}function _waitForWebhookConfirmation(){return(_waitForWebhookConfirmation=(0,r._)(function(e){var n,t,s,i,l,o,c,u,d,p,h,f,m,x,g,v,b,C,y,w=arguments;return(0,a.Jh)(this,function(j){switch(j.label){case 0:l=(n=w.length>1&&void 0!==w[1]?w[1]:{}).fetchSubscriptionStatus,o=n.fetchTeamPlanStatus,c=n.fetchUserSubscription,u=n.onProgress,p=void 0===(d=n.maxAttempts)?30:d,f=void 0===(h=n.pollInterval)?1e3:h,m=e.subscriptionId,x=null===(t=e.data)||void 0===t?void 0:t.teamPlanId,g=null===(i=e.data)||void 0===i?void 0:null===(s=i.upgrade)||void 0===s?void 0:s.newSeats,u&&u("Processing your upgrade..."),j.label=1;case 1:j.trys.push([1,11,,12]),v=0,j.label=2;case 2:if(!(v<p))return[3,10];return[4,new Promise(function(e){return setTimeout(e,f)})];case 3:if(j.sent(),!l)return[3,9];return[4,l(m)];case 4:if(console.info("subscriptionData",b=j.sent()),(null==b?void 0:b.status)!=="active")return[3,9];if(!(x&&o))return[3,6];return[4,o(x)];case 5:if(console.info("teamPlanData",C=j.sent()),console.log("expectedNewSeats",g),g&&(null==C?void 0:C.seats)===g)return u&&u("Upgrade completed successfully!"),[2,{success:!0}];return[3,9];case 6:if(!c)return[3,8];return[4,c()];case 7:if(null==(y=j.sent())?void 0:y.subscriptionPlanId)return u&&u("Upgrade completed successfully!"),[2,{success:!0}];return[3,9];case 8:return u&&u("Upgrade completed successfully!"),[2,{success:!0}];case 9:return v++,[3,2];case 10:var N,_,I;return u&&u("Your upgrade is being processed. This may take a few moments. You'll receive a confirmation email when it's complete."),l&&(N=m,_=l,I=setInterval((0,r._)(function(){var e;return(0,a.Jh)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,_(N)];case 1:return(null==(e=n.sent())?void 0:e.status)==="active"&&(clearInterval(I),window.dispatchEvent(new CustomEvent("subscription_changed")),window.dispatchEvent(new CustomEvent("userInfoData"))),[3,3];case 2:return console.error("Background polling error:",n.sent()),[3,3];case 3:return[2]}})}),5e3),setTimeout(function(){clearInterval(I)},3e5)),[2,{success:!0,pending:!0}];case 11:return console.error("Webhook confirmation error:",j.sent()),[2,{success:!1,error:"Confirmation timeout"}];case 12:return[2]}})})).apply(this,arguments)}function extractPaymentIntent(e){var n,t,r,s;return{clientSecret:e.paymentIntentClientSecret||(null===(t=e.data)||void 0===t?void 0:null===(n=t.subscription)||void 0===n?void 0:n.paymentIntentClientSecret)||null,requiresAction:e.requiresAction||(null===(s=e.data)||void 0===s?void 0:null===(r=s.subscription)||void 0===r?void 0:r.requiresAction)||!1}}},47635:function(e,n,t){t.d(n,{V:function(){return redirectToCheckout},q:function(){return addParamToStripePayload}});var r=t(41369),s=t(43654);function redirectToCheckout(e,n,t){n&&n.redirectToCheckout({sessionId:e}).then(function(e){e.error&&t(e.error.message)})}function addParamToStripePayload(){var e,n,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null===(e=window)||void 0===e?void 0:e.Rewardful)&&(null===(t=window)||void 0===t?void 0:null===(n=t.Rewardful)||void 0===n?void 0:n.referral)?(0,s._)((0,r._)({},a),{clientReferenceId:window.Rewardful.referral}):a}}}]);