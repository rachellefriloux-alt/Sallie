"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9309],{81530:function(e,t,r){r.d(t,{B0:function(){return i},Fi:function(){return extractGoogleFontLinkFromDocument},KU:function(){return extractBodyContentFromHtml},Qi:function(){return getIframeDocument},TY:function(){return setupFontAwesomeInIframe},fB:function(){return setupGoogleFontsUpdater},lH:function(){return removeGoogleFontLinksFromHtml},m:function(){return ensureCdnTagsInHtml},of:function(){return removeGoogleFontLinksFromHead},yd:function(){return extractGoogleFontLinkFromHtml}});var n={autoReplaceSvg:"nest",searchPseudoElements:!0,autoA11y:!1},a={js:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js",css:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"},o="https://cdn.tailwindcss.com",u={"Caveat, cursive":"Caveat","Inter, sans-serif":"Inter","Lato, sans-serif":"Lato","Merriweather, serif":"Merriweather","Montserrat, sans-serif":"Montserrat","Noto Sans, sans-serif":"Noto+Sans","Nunito Sans, sans-serif":"Nunito+Sans","Open Sans, sans-serif":"Open+Sans","Oswald, sans-serif":"Oswald","Raleway, sans-serif":"Raleway","Roboto, sans-serif":"Roboto","Source Sans Pro, sans-serif":"Source+Sans+Pro"},i={tailwind:o,fontAwesome:a,googleFonts:"https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap"},injectFontAwesomeConfig=function(e){var t=e.createElement("script");t.textContent="\n    window.FontAwesomeConfig = ".concat(JSON.stringify(n),";\n  "),e.head.insertBefore(t,e.head.firstChild)},getIframeWindow=function(e){if(!(null==e?void 0:e.Canvas))return null;var t=e.Canvas.getFrameEl();return(null==t?void 0:t.contentWindow)||null},getIframeDocument=function(e){if(!(null==e?void 0:e.Canvas))return null;var t=e.Canvas.getFrameEl();return(null==t?void 0:t.contentDocument)||null},setupFontAwesomeInIframe=function(e){var t=getIframeDocument(e),r=getIframeWindow(e);t&&r&&injectFontAwesomeConfig(t)},getUsedGoogleFonts=function(e){var t,r=new Set;if(!e)return r;var n=null===(t=e.getWrapper())||void 0===t?void 0:t.components(),scanComponent=function(e){var t=e.getStyle()["font-family"];t&&u[t]&&r.add(u[t]),e.components().forEach(scanComponent)};return null==n||n.forEach(scanComponent),r},scanComponentForFonts=function(e,t){var r=e.getStyle()["font-family"];r&&u[r]&&t.add(u[r]),e.components().forEach(function(e){return scanComponentForFonts(e,t)})},generateGoogleFontsUrl=function(e){if(0===e.size)return"";var t=Array.from(e).map(function(e){return"family=".concat(e,":wght@400;600;700;800")}).join("&");return"https://fonts.googleapis.com/css2?".concat(t,"&display=swap")},updateGoogleFontsLink=function(e,t){var r=getIframeDocument(e);if(!r)return t||new Set;var n=t||getUsedGoogleFonts(e),a=r.querySelector('link[data-manual-edit-font="true"]');if(n.size>0){var o=generateGoogleFontsUrl(n);if(a&&a.href===o)return n;var u=r.createElement("link");u.rel="stylesheet",u.href=o,u.setAttribute("data-manual-edit-font","true"),u.onload=function(){a&&a.parentNode&&a.remove()},u.onerror=function(){console.error("Failed to load Google Fonts:",o),a&&a.parentNode&&a.remove()},r.head.appendChild(u)}else a&&a.remove();return n},setupGoogleFontsUpdater=function(e){var t=null,r=null,debouncedUpdate=function(n){t&&clearTimeout(t),t=setTimeout(function(){if(n&&r){var t=new Set;scanComponentForFonts(n,t),t.forEach(function(e){return r.add(e)}),r=updateGoogleFontsLink(e,r)}else r=updateGoogleFontsLink(e)},10)};e.on("component:styleUpdate",function(e){debouncedUpdate(e)}),e.on("component:add",function(){return debouncedUpdate()}),e.on("component:remove",function(){return debouncedUpdate()}),r=updateGoogleFontsLink(e)},extractGoogleFontLinkFromDocument=function(e){var t=e.querySelector('link[href*="fonts.googleapis.com"][data-manual-edit-font="true"]');if(!t)return null;var r=e.createElement("link");return r.rel="stylesheet",r.href=t.href,r.setAttribute("data-manual-edit-font","true"),r.outerHTML},extractGoogleFontLinkFromHtml=function(e){var t=e.match(/<link[^>]*href="[^"]*fonts\.googleapis\.com[^"]*"[^>]*data-manual-edit-font="true"[^>]*>/gi);if(!t)return null;var r=t[0].match(/href="([^"]*)"/i);if(!r||!r[1])return null;var n=document.createElement("link");return n.rel="stylesheet",n.href=r[1],n.setAttribute("data-manual-edit-font","true"),n.outerHTML},removeGoogleFontLinksFromHtml=function(e){return e.replace(/<link[^>]*href="[^"]*fonts\.googleapis\.com[^"]*"[^>]*data-manual-edit-font="true"[^>]*>/gi,"")},removeGoogleFontLinksFromHead=function(e){e.querySelectorAll('link[href*="fonts.googleapis.com"][data-manual-edit-font="true"]').forEach(function(e){return e.remove()})},extractBodyContentFromHtml=function(e){if(!e.includes("<html")&&!e.includes("<head")&&!e.includes("<!DOCTYPE"))return e;var t=new DOMParser().parseFromString(e,"text/html").body;if(!t){var r=e.match(/<body[^>]*>([\s\S]*)<\/body>/i);return r&&r[1]?r[1]:e}return t.querySelectorAll("meta, title, link, script[src], style, base").forEach(function(e){return e.remove()}),t.innerHTML},ensureCdnTagsInHtml=function(e){if(!e||"string"!=typeof e)return e;var t=/<head[^>]*>/i.test(e),r=/<html[\s>]/i.test(e),n=/<script[^>]*src=["'][^"']*cdn\.tailwindcss\.com[^"']*["'][^>]*>/i.test(e),u=/<script[^>]*src=["'][^"']*font-awesome[^"']*\/js\/all\.min\.js[^"']*["'][^>]*>/i.test(e),i=/<link[^>]*href=["'][^"']*font-awesome[^"']*\/css\/all\.min\.css[^"']*["'][^>]*>/i.test(e),s=/window\.FontAwesomeConfig/i.test(e);if(n&&u&&i&&s)return e;var c=[];s||c.push("<script>\n        window.FontAwesomeConfig = {\n          autoReplaceSvg: 'nest'\n        };\n      </script>"),n||c.push('<script src="'.concat(o,'"></script>')),i||c.push('<link rel="stylesheet" href="'.concat(a.css,'">')),u||c.push('<script src="'.concat(a.js,'" crossorigin="anonymous" referrerpolicy="no-referrer"></script>'));var d=c.join("\n    ");return t?e.replace(/(<head[^>]*>)/i,"$1\n    ".concat(d)):r&&!t?e.replace(/(<html[^>]*>)/i,"$1\n  <head>\n    ".concat(d,"\n  </head>")):"<!DOCTYPE html>\n<html>\n  <head>\n    ".concat(d,"\n  </head>\n  <body>\n    ").concat(e,"\n  </body>\n</html>")}},16972:function(e,t,r){r.d(t,{H1:function(){return A},JV:function(){return y},_x:function(){return l},dt:function(){return T},g$:function(){return I},hD:function(){return S},mp:function(){return f},qV:function(){return p},yk:function(){return m}});var n=r(45610),a=r(75104),o=r(44313),u=r(50044),i=r(85687),s=r(90012),c=r(65800),d=r(16958),E=r(12991),m=(0,i.LC)({reducerPath:d.V.PAGES,baseQuery:c.hK,tagTypes:[d.q.PAGES,d.q.GROUPS,d.q.WIREFRAMES],endpoints:function(e){return{getPages:e.query({query:function(){return{url:E.q.GET_PAGES}},transformResponse:function(e){return e},transformErrorResponse:s.z,providesTags:function(e){return e?(0,o._)(e.pages.map(function(e){var t=e.id;return{type:d.q.PAGES,id:t}})).concat([{type:d.q.PAGES,id:"LIST"}]):[{type:d.q.PAGES,id:"LIST"}]},keepUnusedDataFor:600}),getPage:e.query({query:function(e){var t=e.pageId;return{url:"".concat(E.q.GET_PAGE,"/").concat(t)}},keepUnusedDataFor:600,transformResponse:function(e){return e},transformErrorResponse:s.z,providesTags:function(e,t,r){var n,a=r.pageId;return[{type:d.q.PAGES,id:a}].concat((0,o._)((null==e?void 0:null===(n=e.groups)||void 0===n?void 0:n.map(function(e){return{type:d.q.GROUPS,id:e.id}}))||[]))}}),getPageV2:e.query({query:function(e){var t=e.pageId;return{url:"".concat(E.q.GET_PAGE_V2,"/").concat(t)}},keepUnusedDataFor:600,transformResponse:function(e){return e},transformErrorResponse:s.z,providesTags:function(e,t,r){var n,a=r.pageId;return[{type:d.q.PAGES,id:a}].concat((0,o._)((null==e?void 0:null===(n=e.groups)||void 0===n?void 0:n.map(function(e){return{type:d.q.GROUPS,id:e.id}}))||[]))}}),createPage:e.mutation({query:function(e){return{url:E.q.CREATE_PAGE,method:"POST",body:e}},transformErrorResponse:s.z,invalidatesTags:[{type:d.q.PAGES,id:"LIST"}]}),updatePage:e.mutation({query:function(e){return{url:"".concat(E.q.UPDATE_PAGE,"/").concat(e.pageId),method:"PUT",body:e}},transformErrorResponse:s.z,onQueryStarted:function(e,t){return(0,n._)(function(){var r,n,o,i,s,c,d;return(0,u.Jh)(this,function(u){switch(u.label){case 0:r=e.pageId,n=(0,a._)(e,["pageId"]),o=t.dispatch,i=t.queryFulfilled,t.getState,s=o(m.util.updateQueryData("getPages",void 0,function(e){var t,a=null===(t=e.pages)||void 0===t?void 0:t.find(function(e){return e.id===r});a&&Object.assign(a,n)})),c=o(m.util.updateQueryData("getPage",{pageId:r},function(e){e.page&&Object.assign(e.page,n)})),d=o(m.util.updateQueryData("getPageV2",{pageId:r},function(e){e.page&&Object.assign(e.page,n)})),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,i];case 2:return u.sent(),[3,4];case 3:return u.sent(),s.undo(),c.undo(),d.undo(),[3,4];case 4:return[2]}})})()},invalidatesTags:function(e,t,r){var n=r.pageId;return[{type:d.q.PAGES,id:n},{type:d.q.PAGES,id:"LIST"}]}}),deletePage:e.mutation({query:function(e){var t=e.pageId;return{url:"".concat(E.q.DELETE_PAGE,"/").concat(t),method:"DELETE"}},transformErrorResponse:s.z,invalidatesTags:function(e,t,r){var n=r.pageId;return[{type:d.q.PAGES,id:n},{type:d.q.PAGES,id:"LIST"}]}}),addWireframeToPage:e.mutation({query:function(e){return{url:E.q.ADD_WIREFRAME_TO_PAGE,method:"POST",body:e}},transformErrorResponse:s.z,invalidatesTags:function(e,t,r){var n=r.pageId,a=r.existingGroupId,o=r.wireframeId;return[{type:d.q.PAGES,id:n},{type:d.q.PAGES,id:"LIST"},{type:d.q.GROUPS,id:a},{type:d.q.GROUPS,id:"LIST"},{type:d.q.WIREFRAMES,id:o}]}}),moveVersionGroup:e.mutation({query:function(e){return{url:E.q.MOVE_VERSION_GROUP,method:"POST",body:e}},transformErrorResponse:s.z,invalidatesTags:function(e,t,r){var n=r.pageId,a=r.existingPageId,u=r.existingGroupId,i=r.wireframeIds;return[{type:d.q.PAGES,id:n},{type:d.q.PAGES,id:a},{type:d.q.PAGES,id:"LIST"},{type:d.q.GROUPS,id:u},{type:d.q.GROUPS,id:"LIST"}].concat((0,o._)(i.map(function(e){return{type:d.q.WIREFRAMES,id:e}})))}}),createPageFromTemplate:e.mutation({query:function(e){return{url:E.q.CREATE_PAGE_FROM_TEMPLATE,method:"POST",body:e}},transformErrorResponse:s.z,invalidatesTags:[{type:d.q.PAGES,id:"LIST"}]})}}}),l=m.useGetPagesQuery,T=(m.useGetPageQuery,m.useGetPageV2Query),f=m.useCreatePageMutation,p=m.useUpdatePageMutation,S=m.useDeletePageMutation,I=(m.useAddWireframeToPageMutation,m.useMoveVersionGroupMutation,m.useLazyGetPagesQuery),A=(m.useLazyGetPageQuery,m.useLazyGetPageV2Query),y=m.useCreatePageFromTemplateMutation},93629:function(e,t,r){r.d(t,{Mk:function(){return m},UY:function(){return T},YY:function(){return E},aG:function(){return c},rl:function(){return l},tV:function(){return d}});var n=r(85687),a=r(65800),o=r(16958),u=r(12991),i=r(90012),s=r(47637),c=(0,n.LC)({reducerPath:o.V.PROMPT,baseQuery:a.hK,tagTypes:[o.q.PROMPTS],endpoints:function(e){return{getPromptList:e.query({query:function(e){e.uid;var t=e.limit,r=e.lastDocId,n=e.sort,a=(0,s.qn)({limit:void 0===t?null:t,lastDocId:r,sort:n});return{url:"".concat(u.q.GET_PROMPT_LIST,"/?").concat(a),method:"GET"}},transformErrorResponse:i.z,providesTags:function(e,t,r){var n=r.uid;return[{type:o.q.PROMPTS,id:n}]},keepUnusedDataFor:600}),getPromptHistory:e.query({query:function(e){var t=e.wireframeId,r=e.limit,n=e.lastDocId,a=e.sort,o=(0,s.qn)({limit:void 0===r?null:r,lastDocId:n,sort:a});return{url:"".concat(u.q.GET_PROMPT_HISTORY,"/").concat(t,"?").concat(o),method:"GET"}},transformErrorResponse:i.z,providesTags:function(e,t,r){var n=r.wireframeId;return[{type:o.q.PROMPTS,id:n}]},keepUnusedDataFor:600}),enhancePrompt:e.query({query:function(e){return{url:u.q.ENHANCE_WIREPROMPT,params:{data:JSON.stringify(e.topic).replace(/%/g," percent"),selectedDesignMode:e.selectedDesignMode,selectedType:e.selectedType,pageContext:e.pageContext,uploadedDocumentId:e.uploadedDocumentId}}},transformResponse:function(e){return e.content}}),enhancePagePrompt:e.query({query:function(e){var t=e.topic,r=e.uploadedDocumentId;return{url:u.q.ENHANCE_PAGE_PROMPT,params:{data:JSON.stringify(t).replace(/%/g," percent"),uploadedDocumentId:r}}},transformResponse:function(e){return e.content}})}}}),d=c.useGetPromptListQuery,E=(c.useLazyGetPromptListQuery,c.useGetPromptHistoryQuery),m=c.useLazyGetPromptHistoryQuery,l=c.useLazyEnhancePromptQuery,T=c.useLazyEnhancePagePromptQuery},36902:function(e,t,r){r.d(t,{F6:function(){return C},Jo:function(){return _},KE:function(){return O},L1:function(){return L},L_:function(){return g},N1:function(){return P},NF:function(){return A},Qy:function(){return y},Vq:function(){return G},cr:function(){return S},hB:function(){return N},jw:function(){return U},lT:function(){return R},lj:function(){return I},oJ:function(){return q},qg:function(){return h},s3:function(){return v},wy:function(){return D},x1:function(){return M}});var n=r(45610),a=r(41369),o=r(43654),u=r(44313),i=r(50044),s=r(85687),c=r(27419),d=r(93629),E=r(90012),m=r(65800),l=r(16958),T=r(12991),f=r(47637),p=r(81530),S=(0,s.LC)({reducerPath:l.V.WIREFRAMES,baseQuery:m.hK,tagTypes:[l.q.WIREFRAMES,l.q.PAGES,l.q.SUBSCRIPTION,l.q.SAVED_WIREFRAMES],endpoints:function(e){return{getAllWireframes:e.query({query:function(e){var t=e.limit,r=e.lastDocId,n=void 0===r?null:r,a=new URLSearchParams({limit:(void 0===t?20:t).toString()});return n&&a.append("lastDocId",n),{url:"".concat(T.q.GET_ALL_WIREFRAMES,"?").concat(a),method:"GET"}},providesTags:[l.q.WIREFRAMES],transformResponse:function(e){return e?(e.wireframes&&Array.isArray(e.wireframes)&&(e.wireframes=e.wireframes.map(function(e){return e.wireframeOutputHtml?(0,o._)((0,a._)({},e),{wireframeOutputHtml:(0,p.m)(e.wireframeOutputHtml)}):e})),e):{wireframes:[]}}}),getWireframeById:e.query({query:function(e){var t=e.wireframeId;return{url:"".concat(T.q.GET_WIREFRAME_BY_ID,"/").concat(t)}},transformResponse:function(e){var t;return(null==e?void 0:null===(t=e.wireframe)||void 0===t?void 0:t.wireframeOutputHtml)&&(e.wireframe.wireframeOutputHtml=(0,p.m)(e.wireframe.wireframeOutputHtml)),e},transformErrorResponse:E.z,providesTags:function(e,t,r){var n=r.wireframeId;return[{type:l.q.WIREFRAMES,id:n}]}}),getWireframeByIdV2:e.query({query:function(e){var t=e.wireframeId;return{url:"".concat(T.q.GET_WIREFRAME_BY_ID_V2,"/").concat(t)}},transformResponse:function(e){var t;return(null==e?void 0:null===(t=e.wireframe)||void 0===t?void 0:t.wireframeOutputHtml)&&(e.wireframe.wireframeOutputHtml=(0,p.m)(e.wireframe.wireframeOutputHtml)),e},transformErrorResponse:E.z,providesTags:function(e,t,r){var n=r.wireframeId;return[{type:l.q.WIREFRAMES,id:n}]}}),getWireframesByIds:e.query({query:function(e){return{url:T.q.GET_WIREFRAMES_BY_IDS,method:"POST",body:e}},transformResponse:function(e){return"success"===e.status?((null==e?void 0:e.wireframes)||[]).map(function(e){return e.wireframeOutputHtml?(0,o._)((0,a._)({},e),{wireframeOutputHtml:(0,p.m)(e.wireframeOutputHtml)}):e}):[]},onQueryStarted:function(e,t){var r=e.wireframeIds,a=t.dispatch,o=t.queryFulfilled;return(0,n._)(function(){return(0,i.Jh)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,o];case 1:return e.sent().data.some(function(e){return"completed"===e.status})&&(a(c.h7.util.invalidateTags([{type:l.q.SUBSCRIPTION,id:"STATUS"}])),setTimeout(function(){r.forEach(function(e){a(d.aG.util.invalidateTags([{type:l.q.PROMPTS,id:e}]))})},500)),[3,3];case 2:return console.error("Failed to fetch wireframes by IDs",e.sent()),[3,3];case 3:return[2]}})})()},transformErrorResponse:E.z,providesTags:function(e){return e?(0,u._)(e.map(function(e){var t=e.id;return{type:l.q.WIREFRAMES,id:t}})).concat([{type:l.q.WIREFRAMES,id:"LIST"}]):[{type:l.q.WIREFRAMES,id:"LIST"}]}}),generatePrototype:e.mutation({query:function(e){return{url:T.q.GENERATE_HTML_PROTOTYPE,method:"POST",body:e}}}),saveWireframe:e.mutation({query:function(e){var t=e.wireframeId;return{url:T.q.SAVE_WIREFRAME,method:"POST",body:{wireframeId:t}}},onQueryStarted:function(e,t){var r=e.wireframeId,a=t.dispatch,o=t.queryFulfilled;return t.getState,(0,n._)(function(){var e;return(0,i.Jh)(this,function(t){switch(t.label){case 0:e=a(S.util.updateQueryData("getWireframeById",{wireframeId:r},function(e){(null==e?void 0:e.wireframe)&&(e.wireframe.isSaved=!0)})),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,o];case 2:return t.sent(),[3,4];case 3:return t.sent(),e.undo(),[3,4];case 4:return[2]}})})()},transformErrorResponse:E.z,invalidatesTags:function(e,t,r){var n=r.wireframeId;return[{type:l.q.WIREFRAMES,id:n},l.q.WIREFRAMES,{type:l.q.SAVED_WIREFRAMES,id:"LIST"}]}}),unsaveWireframe:e.mutation({query:function(e){var t=e.wireframeId;return{url:T.q.UNSAVE_WIREFRAME,method:"POST",body:{wireframeId:t}}},onQueryStarted:function(e,t){var r=e.wireframeId,a=t.dispatch,o=t.queryFulfilled;return(0,n._)(function(){var e,t;return(0,i.Jh)(this,function(n){switch(n.label){case 0:e=a(S.util.updateQueryData("getWireframeById",{wireframeId:r},function(e){(null==e?void 0:e.wireframe)&&(e.wireframe.isSaved=!1)})),t=a(S.util.updateQueryData("getSavedWireframes",{},function(e){(null==e?void 0:e.wireframes)&&(e.wireframes=e.wireframes.filter(function(e){return e.id!==r}))})),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,o];case 2:return n.sent(),[3,4];case 3:return n.sent(),e.undo(),t.undo(),[3,4];case 4:return[2]}})})()},transformErrorResponse:E.z,invalidatesTags:function(e,t,r){var n=r.wireframeId;return[{type:l.q.WIREFRAMES,id:n},l.q.WIREFRAMES]}}),saveNewWireframes:e.mutation({query:function(e){return{url:T.q.SAVE_NEW_WIREFRAMES,method:"POST",body:e}},transformErrorResponse:E.z,invalidatesTags:[l.q.WIREFRAMES,{type:l.q.SAVED_WIREFRAMES,id:"LIST"}]}),updateWireframe:e.mutation({query:function(e){var t=e.wireframeId,r=e.data;return{url:T.q.UPDATE_WIREFRAME,method:"POST",body:{wireframeId:t,data:r}}},transformErrorResponse:E.z,invalidatesTags:function(e,t,r){var n=r.wireframeId;return[{type:l.q.WIREFRAMES,id:n},{type:l.q.SAVED_WIREFRAMES,id:"LIST"}]}}),updateWireframeImage:e.mutation({query:function(e){return{url:T.q.UPDATE_WIREFRAME_IMAGE,method:"POST",body:e}},transformErrorResponse:E.z,invalidatesTags:function(e,t,r){var n=r.wireframeId;return[{type:l.q.WIREFRAMES,id:n}]}}),uploadPreview:e.mutation({query:function(e){var t=e.id,r=e.image,n=new FormData;return n.append("image",r),{url:"".concat(T.q.UPLOAD_PREVIEW,"/wireframe/").concat(t),method:"POST",body:n}},transformErrorResponse:E.z,invalidatesTags:function(e,t,r){var n=r.id;return[{type:l.q.WIREFRAMES,id:n}]}}),getSavedWireframes:e.query({query:function(e){var t=e.limit,r=e.lastDocId,n=(0,f.qn)({limit:void 0===t?20:t,lastDocId:void 0===r?null:r});return{url:"".concat(T.q.GET_SAVED_WIREFRAMES,"?").concat(n),method:"GET"}},transformResponse:function(e){return e?{wireframes:Array.isArray(e.wireframes)?e.wireframes:[],hasMore:e.hasMore||!1,lastDocId:e.lastDocId||null}:(localStorage.setItem("savedWireframes",JSON.stringify([])),{wireframes:[],hasMore:!1,lastDocId:null})},transformErrorResponse:E.z,providesTags:[l.q.WIREFRAMES,{type:l.q.SAVED_WIREFRAMES,id:"LIST"}],keepUnusedDataFor:300}),unsaveNewWireframes:e.mutation({query:function(e){return{url:T.q.UNSAVE_NEW_WIREFRAMES,method:"POST",body:e}},transformErrorResponse:E.z,invalidatesTags:[l.q.WIREFRAMES,{type:l.q.SAVED_WIREFRAMES,id:"LIST"}]}),addWireframeToPage:e.mutation({query:function(e){return{url:T.q.ADD_WIREFRAME_TO_PAGE,method:"POST",body:e}},transformErrorResponse:E.z,invalidatesTags:function(e,t,r){var n=r.wireframeId,a=r.pageId;return[{type:l.q.WIREFRAMES,id:n},{type:l.q.PAGES,id:a}]}}),movePage:e.mutation({query:function(e){return{url:T.q.MOVE_PAGE,method:"POST",body:e}},transformErrorResponse:E.z,invalidatesTags:function(e,t,r){var n=r.wireframeId,a=r.targetPageId,o=r.sourcePageId;return[{type:l.q.WIREFRAMES,id:n},{type:l.q.PAGES,id:a}].concat((0,u._)(o?[{type:l.q.PAGES,id:o}]:[]))}}),moveVersionGroup:e.mutation({query:function(e){return{url:T.q.MOVE_VERSION_GROUP,method:"POST",body:e}},transformErrorResponse:E.z,invalidatesTags:function(e,t,r){var n=r.pageId,a=r.existingPageId;return[{type:l.q.WIREFRAMES,id:"LIST"},{type:l.q.PAGES,id:n},{type:l.q.PAGES,id:a}]}}),moveMultipleWireframes:e.mutation({query:function(e){return{url:T.q.MOVE_MULTIPLE_WIREFRAMES,method:"POST",body:e}},transformErrorResponse:E.z,invalidatesTags:function(e,t,r){var n=r.pageId;return[{type:l.q.WIREFRAMES,id:"LIST"},{type:l.q.PAGES,id:n}]}}),generateFigmaCode:e.mutation({query:function(e){var t=e.html,r=e.width,n=e.height;return{url:T.q.GENERATE_FIGMA_CODE,method:"POST",body:{html:t,width:r,height:n}}},transformErrorResponse:E.z})}}}),I=S.useGetAllWireframesQuery,A=(S.useGetWireframeByIdQuery,S.useGetWireframesByIdsQuery),y=S.useGeneratePrototypeMutation,P=S.useSaveWireframeMutation,_=S.useUnsaveWireframeMutation,R=S.useSaveNewWireframesMutation,g=S.useUpdateWireframeMutation,v=(S.useUpdateWireframeImageMutation,S.useLazyGetWireframesByIdsQuery),M=(S.useUploadPreviewMutation,S.useGetSavedWireframesQuery),O=S.useLazyGetSavedWireframesQuery,N=S.useUnsaveNewWireframesMutation,G=S.useAddWireframeToPageMutation,q=S.useMovePageMutation,h=S.useMoveVersionGroupMutation,C=S.useMoveMultipleWireframesMutation,U=S.useGenerateFigmaCodeMutation,L=S.useGetWireframeByIdV2Query,D=(S.useLazyGetWireframeByIdV2Query,S.useLazyGetWireframeByIdQuery)},12991:function(e,t,r){r.d(t,{q:function(){return n}});var n={GET_WIREFRAME_BY_ID:"/crud/get-wireframe-by-id",GET_WIREFRAME_BY_ID_V2:"/crud/get-wireframe-by-id-v2",GET_WIREFRAMES_BY_IDS:"/crud/get-wireframes-by-ids",GENERATE_HTML_PROTOTYPE:"/generate-html-prototype",SAVE_WIREFRAME:"/crud/saveWireframe",UNSAVE_WIREFRAME:"/crud/unsaveWireframe",SAVE_NEW_WIREFRAMES:"/crud/saveNewWireframes",UPDATE_WIREFRAME:"/crud/updateWireframe",UPDATE_WIREFRAME_IMAGE:"/crud/updateWireframeImage",UPLOAD_PREVIEW:"/crud/uploadPreview",GENERATE_SHARING_URL:"/sharing/generate",RETRIEVE_SHARING_DATA:"/sharing/retrieve",GET_PROMPT_LIST:"/get-prompt-list",GET_PROMPT_HISTORY:"/get-prompt-history",GET_PAGINATED_WIREFRAME_PROMPT_HISTORY:"/get-wireframe-prompt-history",GET_PAGES:"/crud/getPages",GET_PAGE:"/crud/getPage",GET_PAGE_V2:"/crud/getPage/v2",CREATE_PAGE:"/crud/createPage",UPDATE_PAGE:"/crud/updatePage",DELETE_PAGE:"/crud/deletePage",ADD_WIREFRAME_TO_PAGE:"/crud/addWireframeToPage",MOVE_PAGE:"/crud/movePage",MOVE_VERSION_GROUP:"/crud/moveVersionGroup",MOVE_MULTIPLE_WIREFRAMES:"/crud/moveMultipleWireframes",GET_GROUPS:"/crud/getGroups",GET_GROUP_WIREFRAMES:"/crud/getGroupWireframes",CREATE_GROUP:"/crud/createGroup",UPDATE_GROUP:"/crud/updateGroup",DELETE_GROUP:"/crud/deleteGroup",SAVE_GROUP:"/crud/saveGroup",UNSAVE_GROUP:"/crud/unsaveGroup",MOVE_GROUP:"/crud/moveGroup",GENERATE_WIREFRAMES:"/generate-wireframes-v3",RETRY_WIREFRAMES_GENERATION:"/generate-wireframes-v3/retry",RETRY_PROTOTYPE_GENERATION:"/generate-html-prototype/retry",GENERATE_HIFI:"/generate-ui-v3",RETRY_HIFI_GENERATION:"/generate-ui-v3/retry",GENERATE_BY_FLOW:"/generate-by-flow",PROMPT_ENHANCER:"/prompt-enhancer",ENHANCE_PAGE_PROMPT:"/enhance-pageprompt",GENERATE_USERFLOW:"/generate-userflow",GENERATE_VARIATIONS:"/generate-variations",GENERATE_BY_VARIATION_FLOW:"/generate-by-variation-flow",GENERATE_FLOW_EDIT:"/generate-flow-edit",HEATMAP:"/heatmap",STORE_SESSIONS:"/crud/storeSessions",GET_ALL_WIREFRAMES:"/crud/getAllWireframes",ENHANCE_WIREPROMPT:"/enhance-wireprompt",GET_SAVED_WIREFRAMES:"/crud/getSavedWireframesPaginated",UNSAVE_NEW_WIREFRAMES:"/crud/unsaveNewWireframes",SAVE_TEXT_CHANGES:"/crud/saveTextChanges",SAVE_MANUAL_EDIT_CHANGES:"/crud/saveManualChanges",GET_CANVAS_SHAPES_BY_PAGE:"/crud/canvas-shapes/page",GET_CANVAS_SHAPE_BY_ID:"/crud/canvas-shapes",UPDATE_CANVAS_SHAPE:"/crud/canvas-shapes",DELETE_CANVAS_SHAPE:"/crud/canvas-shapes",UPDATE_FLOWCHART_SHAPE:"/crud/update-flow-chart-shape",CREATE_CANVAS_ASSET:"/crud/canvas-assets",GET_CANVAS_ASSETS_ON_PAGE:"/crud/canvas-assets/page",GET_CANVAS_ASSET_BY_ID:"/crud/canvas-assets",DELETE_CANVAS_ASSET:"/crud/canvas-assets",GET_DESIGN_COLLECTIONS:"/design-assets/collections",UPDATE_COLLECTION_SHARING:"/design-assets/collections/share",GET_SHARED_EMAILS:"/design-assets/collections/emails",INVITE_USERS:"/design-assets/collections/invite",GET_PENDING_INVITATIONS:"/design-assets/collections/pending",ACCEPT_INVITATION:"/design-assets/collections/accept",ACCEPT_ALL_INVITATIONS:"/design-assets/collections/accept-all",DECLINE_INVITATION:"/design-assets/collections/decline",GET_ACCESS_LIST:"/design-assets/collections/access",REMOVE_ACCESS:"/design-assets/collections/remove-access",RENAME_COLLECTION:"/design-assets/collections/rename",DELETE_COLLECTION:"/design-assets/collection",CREATE_PAGE_FROM_TEMPLATE:"/crud/createTemplatePage",GET_THEMES:"/themes",GET_THEME_BY_ID:"/themes",CREATE_THEME:"/themes",UPDATE_THEME:"/themes",DELETE_THEME:"/themes",EXPORTS:{PREVIEW:"export/preview",BATCH_PREVIEWS:"export/batch-previews",SINGLE:"export/single",BATCH:"export/batch"},GENERATE_FIGMA_CODE:"/generate-figma-code",GET_SYMBOLS:"/editor/symbols",GET_SYMBOL_BY_ID:"/editor/symbols",CREATE_SYMBOL:"/editor/symbols",UPDATE_SYMBOL:"/editor/symbols",DELETE_SYMBOL:"/editor/symbols",GET_PAGE_SYMBOLS:"/editor/symbols/page"}},27419:function(e,t,r){r.d(t,{h7:function(){return s},NU:function(){return M},sE:function(){return g},kL:function(){return I},x:function(){return p},UE:function(){return O},ty:function(){return c},ZU:function(){return R},sn:function(){return N},IB:function(){return f},LL:function(){return y},yY:function(){return P},lP:function(){return q},OR:function(){return S},lT:function(){return T},qv:function(){return A},Bk:function(){return v},h3:function(){return E},Q7:function(){return m},dB:function(){return G},A1:function(){return d},G0:function(){return l},db:function(){return _}});var n=r(75104),a=r(85687),o=r(65800),u={CHECK_SUBSCRIPTION_ENDPOINT:"/check-subscription",UPDATE_SUBSCRIPTION_ENDPOINT:"/subscription/update-subscription",CANCEL_SUBSCRIPTION_ENDPOINT:"/subscription/cancel-subscription",PAUSE_SUBSCRIPTION_ENDPOINT:"/api/subscription/pause",GET_PAYMENT_LOGS_ENDPOINT:"/payment-logs/get-payment-logs",MARK_PAYMENT_SENT_ENDPOINT:"/payment-logs/mark-data-layer-sent",SUBSCRIBE_TO_PLAN:"/subscription/subscribe-to-plan",SUBSCRIBE_TO_TEAM_PLAN:"/subscription/team/subscribe-team-plan",UPGRADE_FROM_PLAN_TO_TEAM_PLAN:"/subscription/team/upgrade-team-plan",PURCHASE_CREDITS:"/purchase-credits",CREDITS_LOG:"/credits/log",ADD_TEAM_MEMBER:"/team/members/add-member",REMOVE_TEAM_MEMBER:"/team/members/remove-member",GET_TEAM_MEMBERS:"/team/members",GET_TEAM_STATUS:"/team/status",UPDATE_TEAM_SUBSCRIPTION:"/team/status/subscription",GET_TEAM_BILLING:"/team/status/billing",UPGRADE_TEAM_PLAN:"/team/plan/upgrade",DOWNGRADE_TEAM_PLAN:"/team/plan/downgrade",ACCEPT_TEAM_INVITATION:"/team/invitations/accept",SEND_EMAIL_INVITATION:"/team/invitations/email/send",ACCEPT_EMAIL_INVITATION:"/team/invitations/email/accept",DECLINE_EMAIL_INVITATION:"/team/invitations/email/decline",CHECK_PENDING_INVITATIONS:"/team/invitations/email/check",COMPANY_INFORMATION:"/team/company",GET_USERS_BY_DOMAIN:"/team/members/users-by-domain"},i=r(16958),s=(0,a.LC)({reducerPath:i.V.SUBSCRIPTION,baseQuery:o.hK,tagTypes:[i.q.SUBSCRIPTION,i.q.PAYMENT_LOGS,i.q.USER,i.q.COMPANY_INFORMATION],endpoints:function(e){return{checkSubscription:e.query({query:function(e){return{url:u.CHECK_SUBSCRIPTION_ENDPOINT,method:"POST",body:e}},providesTags:function(e){return[{type:i.q.SUBSCRIPTION,id:"STATUS"}]}}),updateSubscription:e.mutation({query:function(e){var t=e.planId;return{url:u.UPDATE_SUBSCRIPTION_ENDPOINT,method:"POST",body:{planId:t}}},invalidatesTags:function(e,t){return[{type:i.q.SUBSCRIPTION,id:"STATUS"},{type:i.q.SUBSCRIPTION,id:"global"},{type:i.q.USER}]}}),getPaymentLogs:e.query({query:function(){return{url:u.GET_PAYMENT_LOGS_ENDPOINT,method:"GET"}},providesTags:[{type:i.q.PAYMENT_LOGS,id:"LIST"}],transformResponse:function(e){return e.success&&e.paymentLog?e.paymentLog:{payments:[]}}}),markPaymentSent:e.mutation({query:function(e){var t=e.paymentId;return{url:u.MARK_PAYMENT_SENT_ENDPOINT,method:"POST",body:{paymentId:t}}},invalidatesTags:[{type:i.q.PAYMENT_LOGS,id:"LIST"}]}),subscribeToPlan:e.mutation({query:function(e){return{url:u.SUBSCRIBE_TO_PLAN,method:"POST",body:e}}}),subscribeToTeamPlan:e.mutation({query:function(e){return{url:u.SUBSCRIBE_TO_TEAM_PLAN,method:"POST",body:e}}}),upgradeFromPlanToTeamPlan:e.mutation({query:function(e){return{url:u.UPGRADE_FROM_PLAN_TO_TEAM_PLAN,method:"POST",body:e}},invalidatesTags:[{type:i.q.USER,id:"current"}]}),purchaseCredits:e.mutation({query:function(e){return{url:u.PURCHASE_CREDITS,method:"POST",body:e}}}),getCreditHistory:e.query({query:function(e){var t=e.lastIndex,r=e.limit;return{url:u.CREDITS_LOG,method:"GET",params:{lastIndex:t,limit:r}}}}),cancelSubscription:e.mutation({query:function(e){return{url:u.CANCEL_SUBSCRIPTION_ENDPOINT,method:"POST",body:e}},invalidatesTags:[{type:i.q.SUBSCRIPTION,id:"STATUS"}]}),pauseSubscription:e.mutation({query:function(e){return{url:u.PAUSE_SUBSCRIPTION_ENDPOINT,method:"POST",body:e}},invalidatesTags:[{type:i.q.SUBSCRIPTION,id:"STATUS"},{type:i.q.USER,id:"current"}]}),addTeamMember:e.mutation({query:function(e){return{url:u.ADD_TEAM_MEMBER,method:"POST",body:e}},invalidatesTags:[{type:i.q.SUBSCRIPTION,id:"TEAM"},{type:i.q.SUBSCRIPTION,id:"TEAM_STATUS"}]}),removeTeamMember:e.mutation({query:function(e){return{url:u.REMOVE_TEAM_MEMBER,method:"POST",body:e}},invalidatesTags:[{type:i.q.SUBSCRIPTION,id:"TEAM"},{type:i.q.SUBSCRIPTION,id:"TEAM_STATUS"}]}),getTeamMembers:e.query({query:function(e){var t=e.teamPlanId,r=e.adminEmail;return{url:"".concat(u.GET_TEAM_MEMBERS,"/").concat(t),method:"GET",params:{adminEmail:r}}},providesTags:[{type:i.q.SUBSCRIPTION,id:"TEAM"}]}),getTeamStatus:e.query({query:function(e){var t=e.teamPlanId,r=e.adminEmail;return{url:"".concat(u.GET_TEAM_STATUS,"/").concat(t),method:"GET",params:{adminEmail:r}}},providesTags:[{type:i.q.SUBSCRIPTION,id:"TEAM_STATUS"}]}),updateTeamSubscription:e.mutation({query:function(e){var t=e.teamPlanId,r=(0,n._)(e,["teamPlanId"]);return{url:"".concat(u.UPDATE_TEAM_SUBSCRIPTION,"/").concat(t),method:"PUT",body:r}},invalidatesTags:[{type:i.q.SUBSCRIPTION,id:"TEAM_STATUS"},{type:i.q.SUBSCRIPTION,id:"TEAM"}]}),getTeamBilling:e.query({query:function(e){var t=e.teamPlanId,r=e.adminEmail;return{url:"".concat(u.GET_TEAM_BILLING,"/").concat(t),method:"GET",params:{adminEmail:r}}},providesTags:[{type:i.q.SUBSCRIPTION,id:"TEAM_BILLING"}]}),upgradeTeamPlan:e.mutation({query:function(e){return{url:u.UPGRADE_TEAM_PLAN,method:"POST",body:e}},invalidatesTags:[{type:i.q.SUBSCRIPTION,id:"TEAM_STATUS"},{type:i.q.SUBSCRIPTION,id:"TEAM"},{type:i.q.SUBSCRIPTION,id:"TEAM_BILLING"}]}),downgradeTeamPlan:e.mutation({query:function(e){return{url:u.DOWNGRADE_TEAM_PLAN,method:"POST",body:e}},invalidatesTags:[{type:i.q.SUBSCRIPTION,id:"TEAM_STATUS"},{type:i.q.SUBSCRIPTION,id:"TEAM"},{type:i.q.SUBSCRIPTION,id:"TEAM_BILLING"}]}),acceptTeamInvitation:e.mutation({query:function(e){return{url:u.ACCEPT_TEAM_INVITATION,method:"POST",body:e}},invalidatesTags:[{type:i.q.SUBSCRIPTION,id:"STATUS"},{type:i.q.SUBSCRIPTION,id:"TEAM_STATUS"},{type:i.q.SUBSCRIPTION,id:"TEAM"}]}),sendEmailInvitation:e.mutation({query:function(e){return{url:u.SEND_EMAIL_INVITATION,method:"POST",body:e}},invalidatesTags:[{type:i.q.SUBSCRIPTION,id:"TEAM"}]}),acceptEmailInvitation:e.mutation({query:function(e){return{url:u.ACCEPT_EMAIL_INVITATION,method:"POST",body:e}},invalidatesTags:[{type:i.q.SUBSCRIPTION,id:"STATUS"},{type:i.q.SUBSCRIPTION,id:"TEAM_STATUS"},{type:i.q.SUBSCRIPTION,id:"TEAM"},{type:i.q.USER,id:"current"}]}),declineEmailInvitation:e.mutation({query:function(e){return{url:u.DECLINE_EMAIL_INVITATION,method:"POST",body:e}},invalidatesTags:[{type:i.q.USER,id:"current"}]}),checkPendingInvitations:e.mutation({query:function(e){return{url:u.CHECK_PENDING_INVITATIONS,method:"POST",body:e}}}),getCompanyInfo:e.query({query:function(e){var t=e.teamPlanId;return{url:"".concat(u.COMPANY_INFORMATION,"/").concat(t),method:"GET"}},providesTags:[i.q.COMPANY_INFORMATION]}),updateCompanyInfo:e.mutation({query:function(e){var t=e.teamPlanId,r=(0,n._)(e,["teamPlanId"]);return{url:"".concat(u.COMPANY_INFORMATION,"/").concat(t),method:"PUT",body:r}},invalidatesTags:[{type:i.q.COMPANY_INFORMATION,id:"COMPANY_INFORMATION"}]}),getUsersByDomain:e.query({query:function(e){var t=e.teamPlanId,r=e.adminEmail;return{url:u.GET_USERS_BY_DOMAIN,method:"GET",params:{teamPlanId:t,adminEmail:r}}}})}}}),c=s.useCheckSubscriptionQuery,d=s.useUpdateSubscriptionMutation,E=(s.useGetPaymentLogsQuery,s.useMarkPaymentSentMutation,s.useSubscribeToPlanMutation),m=s.useSubscribeToTeamPlanMutation,l=s.useUpgradeFromPlanToTeamPlanMutation,T=s.usePurchaseCreditsMutation,f=s.useGetCreditHistoryQuery,p=s.useCancelSubscriptionMutation,S=s.usePauseSubscriptionMutation,I=s.useAddTeamMemberMutation,A=s.useRemoveTeamMemberMutation,y=s.useGetTeamMembersQuery,P=s.useGetTeamStatusQuery,_=(s.useUpdateTeamSubscriptionMutation,s.useGetTeamBillingQuery,s.useUpgradeTeamPlanMutation),R=s.useDowngradeTeamPlanMutation,g=s.useAcceptTeamInvitationMutation,v=s.useSendEmailInvitationMutation,M=s.useAcceptEmailInvitationMutation,O=(s.useDeclineEmailInvitationMutation,s.useCheckPendingInvitationsMutation),N=s.useGetCompanyInfoQuery,G=s.useUpdateCompanyInfoMutation,q=s.useGetUsersByDomainQuery},90012:function(e,t,r){r.d(t,{z:function(){return handleApiError}});var handleApiError=function(e){var t,r=(null===(t=JSON)||void 0===t?void 0:t.parse((null==e?void 0:e.data)||"{}"))||!1;return r?{status:"error",message:(null==r?void 0:r.message)||"Server error occurred",code:r.status,originalStatus:null==e?void 0:e.originalStatus}:e.request?{status:"error",message:"No response from server",code:"NETWORK_ERROR"}:{status:"error",message:e.message||"An unexpected error occurred",code:"UNKNOWN_ERROR"}}},47637:function(e,t,r){r.d(t,{BK:function(){return formatTimeAgo},iR:function(){return currentDateStamp},qn:function(){return buildPagingQueryParams}});var buildPagingQueryParams=function(e){var t=new URLSearchParams;return e.limit&&t.append("limit",e.limit.toString()),e.uid&&t.append("uid",e.uid),e.lastDocId&&t.append("lastDocId",e.lastDocId),e.sort&&t.append("sort",e.sort),t},formatTimeAgo=function(e){var t=Math.floor((new Date().getTime()-new Date(e).getTime())/1e3);return t<30?"just now":t<60?"1m ago":t<3600?"".concat(Math.floor(t/60),"m ago"):t<86400?"".concat(Math.floor(t/3600),"h ago"):"".concat(Math.floor(t/86400),"d ago")},currentDateStamp=function(){var e=new Date,t=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),n=String(e.getFullYear()).slice(-2);return"".concat(t,"-").concat(r,"-").concat(n)}}}]);