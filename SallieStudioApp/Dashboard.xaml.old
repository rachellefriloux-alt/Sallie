<UserControl
    x:Class="SallieStudioApp.Dashboard"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Background="{StaticResource WindowBackground}">

    <Grid Padding="10" RowSpacing="12" ColumnSpacing="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Status Pills -->
        <StackPanel Orientation="Horizontal" Spacing="10">
            <Border x:Name="BackendStatusPill"
                    CornerRadius="12"
                    Padding="10 4"
                    Background="#333">
                <TextBlock x:Name="BackendStatusText"
                           Text="Backend: Unknown"
                           Foreground="White"/>
            </Border>

            <Border x:Name="DockerStatusPill"
                    CornerRadius="12"
                    Padding="10 4"
                    Background="#333">
                <TextBlock x:Name="DockerStatusText"
                           Text="Docker: Unknown"
                           Foreground="White"/>
            </Border>

            <Border x:Name="FrontendStatusPill"
                    CornerRadius="12"
                    Padding="10 4"
                    Background="#333">
                <TextBlock x:Name="FrontendStatusText"
                           Text="Frontend: Unknown"
                           Foreground="White"/>
            </Border>
        </StackPanel>

        <!-- System Metrics -->
        <Grid Grid.Row="1" ColumnSpacing="12">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Border Background="{StaticResource CardBackground}" CornerRadius="6" Padding="10">
                <StackPanel>
                    <TextBlock Text="CPU Usage" Foreground="{StaticResource TextPrimary}" FontSize="14"/>
                    <ProgressBar x:Name="CpuBar" Height="8"/>
                    <TextBlock x:Name="CpuText" Foreground="{StaticResource TextSecondary}" FontSize="12"/>
                </StackPanel>
            </Border>

            <Border Grid.Column="1" Background="{StaticResource CardBackground}" CornerRadius="6" Padding="10">
                <StackPanel>
                    <TextBlock Text="Memory Usage" Foreground="{StaticResource TextPrimary}" FontSize="14"/>
                    <ProgressBar x:Name="RamBar" Height="8"/>
                    <TextBlock x:Name="RamText" Foreground="{StaticResource TextSecondary}" FontSize="12"/>
                </StackPanel>
            </Border>

            <Border Grid.Column="2" Background="{StaticResource CardBackground}" CornerRadius="6" Padding="10">
                <StackPanel>
                    <TextBlock Text="Disk Usage" Foreground="{StaticResource TextPrimary}" FontSize="14"/>
                    <ProgressBar x:Name="DiskBar" Height="8"/>
                    <TextBlock x:Name="DiskText" Foreground="{StaticResource TextSecondary}" FontSize="12"/>
                </StackPanel>
            </Border>
        </Grid>

        <!-- Docker + Agents -->
        <Grid Grid.Row="2" ColumnSpacing="12">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="3*"/>
            </Grid.ColumnDefinitions>

            <!-- Docker -->
            <Border Background="{StaticResource CardBackground}" CornerRadius="6" Padding="10">
                <StackPanel>
                    <TextBlock Text="Docker Containers" Foreground="{StaticResource TextPrimary}" FontSize="16"/>
                    <ItemsControl x:Name="DockerList">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Background="#222" CornerRadius="4" Padding="6" Margin="0 4">
                                    <TextBlock Text="{Binding}" Foreground="{StaticResource TextSecondary}"/>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </StackPanel>
            </Border>

            <!-- Agents -->
            <Border Grid.Column="1" Background="{StaticResource CardBackground}" CornerRadius="6" Padding="10">
                <StackPanel>
                    <TextBlock Text="Agents" Foreground="{StaticResource TextPrimary}" FontSize="16"/>
                    <ItemsControl x:Name="AgentList">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Background="#222" CornerRadius="4" Padding="6" Margin="0 4">
                                    <TextBlock Text="{Binding}" Foreground="{StaticResource TextSecondary}"/>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </StackPanel>
            </Border>
        </Grid>

    </Grid>
</UserControl>
