<Page
    x:Class="SallieStudioApp.ThoughtsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Background="{StaticResource WindowBackground}">

    <Grid Padding="20" RowSpacing="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel>
            <TextBlock Text="Thoughts Log"
                       FontSize="28"
                       Foreground="{StaticResource TextPrimary}"/>
            <TextBlock Text="Internal monologue and cognitive processes"
                       FontSize="14"
                       Foreground="{StaticResource TextSecondary}"/>
        </StackPanel>

        <!-- Filters and Search -->
        <Grid Grid.Row="1" ColumnSpacing="12">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <TextBox x:Name="SearchBox"
                     PlaceholderText="Search log entries..."
                     TextChanged="SearchBox_TextChanged"/>

            <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="8">
                <Button x:Name="FilterAllBtn" Content="All" Click="Filter_Click" Tag="all"/>
                <Button x:Name="FilterDebatesBtn" Content="Debates" Click="Filter_Click" Tag="debates"/>
                <Button x:Name="FilterFrictionBtn" Content="Friction" Click="Filter_Click" Tag="friction"/>
                <Button x:Name="FilterDecisionsBtn" Content="Decisions" Click="Filter_Click" Tag="decisions"/>
            </StackPanel>

            <Button Grid.Column="2" Content="Export" Click="Export_Click"/>
        </Grid>

        <!-- Log Entries -->
        <Border Grid.Row="2"
                Background="{StaticResource CardBackground}"
                CornerRadius="6"
                Padding="12">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <ItemsControl x:Name="EntriesList">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Border Background="#222"
                                    CornerRadius="8"
                                    Padding="12"
                                    Margin="0,0,0,8"
                                    BorderBrush="#374151"
                                    BorderThickness="1">
                                <StackPanel>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>

                                        <TextBlock Text="{Binding Type}"
                                                   FontSize="11"
                                                   FontWeight="SemiBold"
                                                   Foreground="#a78bfa"/>

                                        <TextBlock Grid.Column="1"
                                                   Text="{Binding Timestamp}"
                                                   FontSize="11"
                                                   Foreground="#6b7280"
                                                   HorizontalAlignment="Right"/>
                                    </Grid>

                                    <TextBlock Text="{Binding Content}"
                                               FontSize="13"
                                               Foreground="#d1d5db"
                                               TextWrapping="Wrap"
                                               Margin="0,8,0,0"/>
                                </StackPanel>
                            </Border>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </ScrollViewer>
        </Border>

    </Grid>
</Page>
