<UserControl
    x:Class="SallieStudioApp.Dashboard"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="{StaticResource WindowBackground}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Enhanced Header with Gradient -->
        <Border Grid.Row="0" Background="{StaticResource PrimaryGradient}" Padding="24,16">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <StackPanel Grid.Column="0">
<TextBlock x:Name="TitleText" 
                           Text="Sallie Studio Dashboard"
                           FontSize="28" 
                           FontWeight="SemiBold"
                           Foreground="White"/>
                    <Text x:Name="SubtitleText" 
                           Text="Your AI companion's control center" 
                           FontSize="14" 
                           Foreground="#E0E7FF"
                           Margin="0,4,0,0"/>
                </StackPanel>
                
                <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="12">
                    <!-- Backend Status -->
                    <Border x:Name="BackendStatusBorder"
                            CornerRadius="20"
                            Padding="12,6"
                            Background="#1F2937">
                        <StackPanel Orientation="Horizontal" Spacing="6">
                            <Ellipse x:Name="BackendStatusDot" 
                                   Width="8" Height="8" 
                                   Fill="#10B981"/>
                            <Text x:Name="BackendStatusText" 
                                   Text="Backend: Connected" 
                                   Foreground="White"
                                   FontSize="12"/>
                        </StackPanel>
                    </Border>
                    
                    <!-- Docker Status -->
                    <Border x:Name="DockerStatusBorder"
                            CornerRadius="20"
                            Padding="12,6"
                            Background="#1F2937">
                        <StackPanel Orientation="Horizontal" Spacing="6">
                            <Ellipse x:Name="DockerStatusDot" 
                                   Width="8" Height="8" 
                                   Fill="#10B981"/>
                            <Text x:Name="DockerStatusText" 
                                   Text="Docker: Running" 
                                   Foreground="White"
                                   FontSize="12"/>
                        </StackPanel>
                    </Border>
                    
                    <!-- User Avatar -->
                    <Border CornerRadius="20" Width="40" Height="40">
                        <Border.Background>
                            <ImageBrush ImageSource="/Assets/user-avatar.png" Stretch="UniformToFill"/>
                        </Border.Background>
                    </Border>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Key Metrics Cards -->
        <Grid Grid.Row="1" Margin="24,16,24,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            
            <!-- Connection Strength -->
            <Border Grid.Column="0" 
                    Background="{StaticResource CardBackground}"
                    CornerRadius="12"
                    Padding="20"
                    Margin="0,0,6,0">
                <StackPanel>
                    <StackPanel Orientation="Horizontal" Spacing="8" Margin="0,0,0,12">
                        <Text Text="ðŸ”—" FontSize="20"/>
                        <Text Text="Connection" 
                               FontSize="14" 
                               Foreground="{StaticResource TextSecondary}"/>
                    </StackPanel>
                    <Text x:Name="ConnectionStrengthText" 
                           Text="98%" 
                           FontSize="24" 
                           FontWeight="SemiBold"
                           Foreground="{StaticResource TextPrimary}"/>
                    <Text x:Name="ConnectionQualityText" 
                           Text="Excellent" 
                           FontSize="12" 
                           Foreground="#10B981"
                           Margin="0,4,0,0"/>
                </StackPanel>
            </Border>
            
            <!-- Response Time -->
            <Border Grid.Column="1" 
                    Background="{StaticResource CardBackground}"
                    CornerRadius="12"
                    Padding="20"
                    Margin="6,0">
                <StackPanel>
                    <StackPanel Orientation="Horizontal" Spacing="8" Margin="0,0,0,12">
                        <Text Text="âš¡" FontSize="20"/>
                        <Text Text="Response Time" 
                               FontSize="14" 
                               Foreground="{StaticResource TextSecondary}"/>
                    </StackPanel>
                    <Text x:Name="ResponseTimeText" 
                           Text="45ms" 
                           FontSize="24" 
                           FontWeight="SemiBold"
                           Foreground="{StaticResource TextPrimary}"/>
                    <Text x:Name="ResponseQualityText" 
                           Text="Very Fast" 
                           FontSize="12" 
                           Foreground="#10B981"
                           Margin="0,4,0,0"/>
                </StackPanel>
            </Border>
            
            <!-- Memory Usage -->
            <Border Grid.Column="2" 
                    Background="{StaticResource CardBackground}"
                    CornerRadius="12"
                    Padding="20"
                    Margin="6,0">
                <StackPanel>
                    <StackPanel Orientation="Horizontal" Spacing="8" Margin="0,0,0,12">
                        <Text Text="ðŸ’¾" FontSize="20"/>
                        <Text Text="Memory Usage" 
                               FontSize="14" 
                               Foreground="{StaticResource TextSecondary}"/>
                    </StackPanel>
                    <Text x:Name="MemoryUsageText" 
                           Text="256MB" 
                           FontSize="24" 
                           FontWeight="SemiBold"
                           Foreground="{StaticResource TextPrimary}"/>
                    <Text x:Name="MemoryEfficiencyText" 
                           Text="Optimal" 
                           FontSize="12" 
                           Foreground="#10B981"
                           Margin="0,4,0,0"/>
                </StackPanel>
            </Border>
            
            <!-- Active Sessions -->
            <Border Grid.Column="3" 
                    Background="{StaticResource CardBackground}"
                    CornerRadius="12"
                    Padding="20"
                    Margin="6,0,0,0">
                <StackPanel>
                    <StackPanel Orientation="Horizontal" Spacing="8" Margin="0,0,0,12">
                        <Text Text="ðŸ‘¥" FontSize="20"/>
                        <Text Text="Active Sessions" 
                               FontSize="14" 
                               Foreground="{StaticResource TextSecondary}"/>
                    </StackPanel>
                    <Text x:Name="ActiveSessionsText" 
                           Text="3" 
                           FontSize="24" 
                           FontWeight="SemiBold"
                           Foreground="{StaticResource TextPrimary}"/>
                    <Text x:Name="SessionStatusText" 
                           Text="All Active" 
                           FontSize="12" 
                           Foreground="#10B981"
                           Margin="0,4,0,0"/>
                </StackPanel>
            </Border>
        </Grid>

        <!-- Main Content Area -->
        <Grid Grid.Row="2" Margin="24,16">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            
            <!-- Chat Interface -->
            <Border Grid.Column="0" 
                    Background="{StaticResource CardBackground}"
                    CornerRadius="16"
                    Padding="24">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Chat Header -->
                    <Border Grid.Row="0" 
                            BorderBrush="#E5E7EB" 
                            BorderThickness="0,0,0,1" 
                            Padding="0,0,0,16">
                        <StackPanel>
                            <Text Text="Conversation with Sallie" 
                                   FontSize="18" 
                                   FontWeight="SemiBold"
                                   Foreground="{StaticResource TextPrimary}"/>
                            <Text x:Name="ConversationStatusText" 
                                   Text="Ready to chat" 
                                   FontSize="12" 
                                   Foreground="{StaticResource TextSecondary}"
                                   Margin="0,4,0,0"/>
                        </StackPanel>
                    </Border>
                    
                    <!-- Messages Area -->
                    <ScrollViewer Grid.Row="1" 
                                  x:Name="MessagesScrollViewer"
                                  VerticalScrollBarVisibility="Auto"
                                  Padding="0,8">
                        <StackPanel x:Name="MessagesPanel" Spacing="12">
                            <!-- Sample messages -->
                            <Border Background="#F3F4F6" 
                                    CornerRadius="12" 
                                    Padding="16"
                                    HorizontalAlignment="Left"
                                    MaxWidth="400">
                                <Text Text="Hello! I'm Sallie, your AI companion. How can I help you today?" 
                                       Foreground="{StaticResource TextPrimary}"
                                       TextWrapping="Wrap"/>
                            </Border>
                            
                            <Border Background="#8B5CF6" 
                                    CornerRadius="12" 
                                    Padding="16"
                                    HorizontalAlignment="Right"
                                    MaxWidth="400">
                                <Text Text="Hi Sallie! I'd like to know more about your capabilities." 
                                       Foreground="White"
                                       TextWrapping="Wrap"/>
                            </Border>
                            
                            <Border Background="#F3F4F6" 
                                    CornerRadius="12" 
                                    Padding="16"
                                    HorizontalAlignment="Left"
                                    MaxWidth="400">
                                <Text Text="I'm here to assist you with various tasks including conversation, analysis, creative work, and much more. I'm designed to be a helpful and intelligent companion." 
                                       Foreground="{StaticResource TextPrimary}"
                                       TextWrapping="Wrap"/>
                            </Border>
                        </StackPanel>
                    </ScrollViewer>
                    
                    <!-- Input Area -->
                    <Border Grid.Row="2" 
                            BorderBrush="#E5E7EB" 
                            BorderThickness="0,1,0,0" 
                            Padding="0,16,0,0">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBox x:Name="MessageInput"
                                     Grid.Column="0"
                                     Text="Type your message..."
                                     Foreground="{StaticResource TextPrimary}"
                                     Background="#F9FAFB"
                                     BorderBrush="#E5E7EB"
                                     BorderThickness="1"
                                     Padding="12,8"
                                     FontSize="14"/>
                            
                            <Button Grid.Column="1" 
                                    Content="Send" 
                                    Background="#8B5CF6"
                                    Foreground="White"
                                    Padding="16,8"
                                    Margin="8,0,0,0"
                                    Style="{StaticResource AccentButtonStyle}"/>
                        </Grid>
                    </Border>
                </Grid>
            </Border>
            
            <!-- Side Panel -->
            <StackPanel Grid.Column="1" Margin="16,0,0,0" Spacing="16">
                <!-- Quick Actions -->
                <Border Background="{StaticResource CardBackground}"
                        CornerRadius="12"
                        Padding="20">
                    <StackPanel>
                        <Text Text="Quick Actions" 
                               FontSize="16" 
                               FontWeight="SemiBold"
                               Foreground="{StaticResource TextPrimary}"
                               Margin="0,0,0,12"/>
                        
                        <StackPanel Spacing="8">
                            <Button Content="ðŸŽ¤ Start Voice Chat" 
                                    Background="#F3F4F6"
                                    Foreground="{StaticResource TextPrimary}"
                                    Padding="12,8"
                                    HorizontalAlignment="Stretch"
                                    Style="{StaticResource DefaultButtonStyle}"/>
                            <Button Content="ðŸ“Š View Analytics" 
                                    Background="#F3F4F6"
                                    Foreground="{StaticResource TextPrimary}"
                                    Padding="12,8"
                                    HorizontalAlignment="Stretch"
                                    Style="{StaticResource DefaultButtonStyle}"/>
                            <Button Content="âš™ï¸ Settings" 
                                    Background="#F3F4F6"
                                    Foreground="{StaticResource TextPrimary}"
                                    Padding="12,8"
                                    HorizontalAlignment="Stretch"
                                    Style="{StaticResource DefaultButtonStyle}"/>
                        </StackPanel>
                    </StackPanel>
                </Border>
                
                <!-- Recent Activity -->
                <Border Background="{StaticResource CardBackground}"
                        CornerRadius="12"
                        Padding="20">
                    <StackPanel>
                        <Text Text="Recent Activity" 
                               FontSize="16" 
                               FontWeight="SemiBold"
                               Foreground="{StaticResource TextPrimary}"
                               Margin="0,0,0,12"/>
                        
                        <StackPanel Spacing="8">
                            <Border Background="#F9FAFB" 
                                    CornerRadius="8" 
                                    Padding="12">
                                <Text Text="Conversation started" 
                                       FontSize="12" 
                                       Foreground="{StaticResource TextSecondary}"/>
                                <Text Text="2 minutes ago" 
                                       FontSize="10" 
                                       Foreground="#9CA3AF"/>
                            </Border>
                            
                            <Border Background="#F9FAFB" 
                                    CornerRadius="8" 
                                    Padding="12">
                                <Text Text="Voice interaction" 
                                       FontSize="12" 
                                       Foreground="{StaticResource TextSecondary}"/>
                                <Text Text="15 minutes ago" 
                                       FontSize="10" 
                                       Foreground="#9CA3AF"/>
                            </Border>
                            
                            <Border Background="#F9FAFB" 
                                    CornerRadius="8" 
                                    Padding="12">
                                <Text Text="File analysis completed" 
                                       FontSize="12" 
                                       Foreground="{StaticResource TextSecondary}"/>
                                <Text Text="1 hour ago" 
                                       FontSize="10" 
                                       Foreground="#9CA3AF"/>
                            </Border>
                        </StackPanel>
                    </StackPanel>
                </Border>
                
                <!-- System Status -->
                <Border Background="{StaticResource CardBackground}"
                        CornerRadius="12"
                        Padding="20">
                    <StackPanel>
                        <Text Text="System Status" 
                               FontSize="16" 
                               FontWeight="SemiBold"
                               Foreground="{StaticResource TextPrimary}"
                               Margin="0,0,0,12"/>
                        
                        <StackPanel Spacing="8">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <Text Text="CPU Usage" 
                                       FontSize="12" 
                                       Foreground="{StaticResource TextSecondary}"/>
                                <Text Grid.Column="1" 
                                       Text="23%" 
                                       FontSize="12" 
                                       Foreground="#10B981"/>
                            </Grid>
                            
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <Text Text="Memory" 
                                       FontSize="12" 
                                       Foreground="{StaticResource TextSecondary}"/>
                                <Text Grid.Column="1" 
                                       Text="256MB" 
                                       FontSize="12" 
                                       Foreground="#10B981"/>
                            </Grid>
                            
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <Text Text="Uptime" 
                                       FontSize="12" 
                                       Foreground="{StaticResource TextSecondary}"/>
                                <Text Grid.Column="1" 
                                       Text="2h 34m" 
                                       FontSize="12" 
                                       Foreground="#10B981"/>
                            </Grid>
                        </StackPanel>
                    </StackPanel>
                </Border>
            </StackPanel>
        </Grid>

        <!-- Footer -->
        <Border Grid.Row="3" 
                Background="#F9FAFB" 
                Padding="24,16"
                Margin="24,0,24,24">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="16">
                    <Button Content="ðŸ  Home" 
                            Background="Transparent"
                            Foreground="{StaticResource TextSecondary}"
                            Padding="8,4"
                            Style="{StaticResource DefaultButtonStyle}"/>
                    <Button Content="ðŸ’¬ Chat" 
                            Background="Transparent"
                            Foreground="{StaticResource TextPrimary}"
                            Padding="8,4"
                            Style="{StaticResource DefaultButtonStyle}"/>
                    <Button Content="ðŸ“Š Analytics" 
                            Background="Transparent"
                            Foreground="{StaticResource TextSecondary}"
                            Padding="8,4"
                            Style="{StaticResource DefaultButtonStyle}"/>
                    <Button Content="âš™ï¸ Settings" 
                            Background="Transparent"
                            Foreground="{StaticResource TextSecondary}"
                            Padding="8,4"
                            Style="{StaticResource DefaultButtonStyle}"/>
                </StackPanel>
                
                <Text Grid.Column="1" 
                       Text="Â© 2024 Sallie Studio" 
                       FontSize="12" 
                       Foreground="{StaticResource TextSecondary}"/>
            </Grid>
        </Border>
    </Grid>
</UserControl>
