(()=>{var e={};e.id=350,e.ids=[350],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8650:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>h,tree:()=>c}),r(4914),r(4752),r(5866);var s=r(3191),a=r(8716),n=r(7922),o=r.n(n),l=r(5231),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);r.d(t,i);let c=["",{children:["control",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4914)),"C:\\Sallie\\web\\app\\control\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,4752)),"C:\\Sallie\\web\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Sallie\\web\\app\\control\\page.tsx"],x="/control/page",m={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/control/page",pathname:"/control",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2528:(e,t,r)=>{Promise.resolve().then(r.bind(r,2504))},4628:(e,t,r)=>{Promise.resolve().then(r.bind(r,253))},438:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},2504:(e,t,r)=>{"use strict";r.d(t,{Providers:()=>b});var s=r(326),a=r(4951),n=r(4976),o=r(7577);class l extends o.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 p-4",children:(0,s.jsxs)("div",{className:"max-w-md w-full bg-gray-800 rounded-lg p-6 border border-red-500/30",children:[s.jsx("h2",{className:"text-xl font-semibold text-red-400 mb-2",children:"Something went wrong"}),s.jsx("p",{className:"text-gray-400 mb-4",children:this.state.error?.message||"An unexpected error occurred"}),s.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null}),window.location.reload()},className:"px-4 py-2 bg-violet-600 hover:bg-violet-700 text-white rounded-lg transition-colors",children:"Reload Page"})]})}):this.props.children}}var i=r(7626),c=r.n(i),d=r(3401),x=r(6902),m=r(9381),h=r(6799),u=r(2591);let p=(0,o.createContext)(void 0);function g({children:e}){let[t,r]=(0,o.useState)([]),a=(0,o.useCallback)(e=>{let t=Date.now().toString()+Math.random().toString(36).substring(2,9),s={...e,id:t,duration:e.duration??5e3};r(e=>[...e,s]);let a=s.duration??0;a>0&&setTimeout(()=>{n(t)},a)},[]),n=(0,o.useCallback)(e=>{r(t=>t.filter(t=>t.id!==e))},[]),l=(0,o.useCallback)((e,t)=>{a({type:"error",title:e,message:t,duration:7e3})},[a]),i=(0,o.useCallback)((e,t)=>{a({type:"success",title:e,message:t,duration:4e3})},[a]),g=(0,o.useCallback)((e,t)=>{a({type:"warning",title:e,message:t,duration:6e3})},[a]),b=(0,o.useCallback)((e,t)=>{a({type:"info",title:e,message:t,duration:5e3})},[a]),y=e=>{let t="w-6 h-6";switch(e){case"success":return s.jsx(d.Z,{className:`${t} text-green-500`});case"error":return s.jsx(x.Z,{className:`${t} text-red-500`});case"warning":return s.jsx(m.Z,{className:`${t} text-yellow-500`});case"info":return s.jsx(h.Z,{className:`${t} text-blue-500`})}},f=e=>{switch(e){case"success":return"bg-green-900/90 border-green-700";case"error":return"bg-red-900/90 border-red-700";case"warning":return"bg-yellow-900/90 border-yellow-700";case"info":return"bg-blue-900/90 border-blue-700"}};return(0,s.jsxs)(p.Provider,{value:{showNotification:a,hideNotification:n,showError:l,showSuccess:i,showWarning:g,showInfo:b},children:[e,s.jsx("div",{className:"jsx-8b69c450d13cc772 fixed top-4 right-4 z-50 space-y-2 max-w-md",children:t.map(e=>s.jsx("div",{className:`jsx-8b69c450d13cc772 ${f(e.type)} border rounded-lg shadow-lg p-4 backdrop-blur-sm animate-slide-in`,children:(0,s.jsxs)("div",{className:"jsx-8b69c450d13cc772 flex items-start space-x-3",children:[s.jsx("div",{className:"jsx-8b69c450d13cc772 flex-shrink-0",children:y(e.type)}),(0,s.jsxs)("div",{className:"jsx-8b69c450d13cc772 flex-1",children:[s.jsx("h4",{className:"jsx-8b69c450d13cc772 font-semibold text-white text-sm",children:e.title}),e.message&&s.jsx("p",{className:"jsx-8b69c450d13cc772 text-gray-300 text-sm mt-1",children:e.message}),e.action&&s.jsx("button",{onClick:e.action.onClick,className:"jsx-8b69c450d13cc772 mt-2 text-sm text-white underline hover:no-underline",children:e.action.label})]}),s.jsx("button",{onClick:()=>n(e.id),className:"jsx-8b69c450d13cc772 flex-shrink-0 text-gray-400 hover:text-white transition-colors",children:s.jsx(u.Z,{className:"w-5 h-5"})})]})},e.id))}),s.jsx(c(),{id:"8b69c450d13cc772",children:"@-webkit-keyframes slide-in{from{-webkit-transform:translatex(100%);transform:translatex(100%);opacity:0}to{-webkit-transform:translatex(0);transform:translatex(0);opacity:1}}@-moz-keyframes slide-in{from{-moz-transform:translatex(100%);transform:translatex(100%);opacity:0}to{-moz-transform:translatex(0);transform:translatex(0);opacity:1}}@-o-keyframes slide-in{from{-o-transform:translatex(100%);transform:translatex(100%);opacity:0}to{-o-transform:translatex(0);transform:translatex(0);opacity:1}}@keyframes slide-in{from{-webkit-transform:translatex(100%);-moz-transform:translatex(100%);-o-transform:translatex(100%);transform:translatex(100%);opacity:0}to{-webkit-transform:translatex(0);-moz-transform:translatex(0);-o-transform:translatex(0);transform:translatex(0);opacity:1}}.animate-slide-in{-webkit-animation:slide-in.3s ease-out;-moz-animation:slide-in.3s ease-out;-o-animation:slide-in.3s ease-out;animation:slide-in.3s ease-out}"})]})}function b({children:e}){let[t]=(0,o.useState)(()=>new a.S({defaultOptions:{queries:{staleTime:6e4,refetchOnWindowFocus:!1,retry:2,retryDelay:e=>Math.min(1e3*2**e,3e4)}}}));return s.jsx(l,{children:s.jsx(n.aH,{client:t,children:s.jsx(g,{children:e})})})}},253:(e,t,r)=>{"use strict";r.d(t,{ControlPanel:()=>n});var s=r(326),a=r(7577);function n(){let[e,t]=(0,a.useState)({creator_has_control:!1,emergency_stop_active:!1,state_locked:!1,can_proceed:!0,last_control_ts:null,control_reason:null}),[r,n]=(0,a.useState)([]),[o,l]=(0,a.useState)(!0),[i,c]=(0,a.useState)(!1),[d,x]=(0,a.useState)(.5),m=async()=>{try{let e=await fetch("/api/control/status");if(e.ok){let r=await e.json();t(r)}let r=await fetch("/api/control/history?limit=10");if(r.ok){let e=await r.json();n(e.history||[])}}catch(e){console.error("Failed to load control status:",e)}finally{l(!1)}},h=async(e,t)=>{try{(await fetch(`/api/control/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:t||`${e} via web dashboard`})})).ok&&await m()}catch(t){console.error(`Failed to ${e}:`,t)}},u=e=>e?new Date(1e3*e).toLocaleString():"Never";return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Control Panel"}),s.jsx("p",{className:"text-gray-400",children:"Creator control mechanisms and agency management"})]}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Current Status"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Control Mode"}),s.jsx("p",{className:`text-lg font-semibold ${e.creator_has_control?"text-orange-400":"text-green-400"}`,children:e.creator_has_control?"Creator Control":"Autonomous"})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"State Lock"}),s.jsx("p",{className:`text-lg font-semibold ${e.state_locked?"text-orange-400":"text-green-400"}`,children:e.state_locked?"Locked":"Unlocked"})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Emergency Stop"}),s.jsx("p",{className:`text-lg font-semibold ${e.emergency_stop_active?"text-red-500":"text-green-400"}`,children:e.emergency_stop_active?"ACTIVE":"Inactive"})]})]})]}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Control Actions"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("button",{onClick:()=>h("take"),disabled:e.creator_has_control,className:"bg-purple-600 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed text-white py-3 px-4 rounded-lg transition-colors",children:"Take Control"}),s.jsx("button",{onClick:()=>h("release"),disabled:!e.creator_has_control,className:"bg-gray-600 hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed text-white py-3 px-4 rounded-lg transition-colors",children:"Release Control"}),s.jsx("button",{onClick:()=>h("lock"),disabled:e.state_locked,className:"bg-gray-600 hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed text-white py-3 px-4 rounded-lg transition-colors",children:"Lock State"}),s.jsx("button",{onClick:()=>h("unlock"),disabled:!e.state_locked,className:"bg-gray-600 hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed text-white py-3 px-4 rounded-lg transition-colors",children:"Unlock State"})]})]}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-red-600",children:[s.jsx("h2",{className:"text-lg font-semibold text-red-500 mb-2",children:"Emergency Controls"}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Use these controls only in emergency situations. Emergency stop will immediately halt all autonomous actions."}),(0,s.jsxs)("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>{confirm("This will immediately halt all autonomous actions. Are you sure?")&&h("emergency_stop")},disabled:e.emergency_stop_active,className:"bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-white py-3 px-6 rounded-lg font-bold transition-colors",children:"\uD83D\uDED1 EMERGENCY STOP"}),e.emergency_stop_active&&s.jsx("button",{onClick:()=>h("resume"),className:"bg-green-600 hover:bg-green-700 text-white py-3 px-6 rounded-lg transition-colors",children:"Resume Operations"})]})]}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Agency Settings"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-white",children:"Advisory Mode"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Sallie asks before acting"})]}),(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i,onChange:e=>c(e.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Current Trust Level"}),(0,s.jsxs)("p",{className:"text-white",children:[d.toFixed(2)," - ",d<.6?"Stranger":d<.8?"Associate":d<.9?"Partner":"Surrogate"," Level"]})]})]})]}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Control History"}),s.jsx("button",{onClick:m,className:"text-purple-400 hover:text-purple-300 text-sm",children:"Refresh"})]}),0===r.length?s.jsx("p",{className:"text-gray-500 italic",children:"No recent control activity"}):s.jsx("div",{className:"space-y-2",children:r.map((e,t)=>(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-700 last:border-0",children:[s.jsx("span",{className:"text-white",children:e.action.replace(/_/g," ")}),s.jsx("span",{className:"text-gray-500 text-sm",children:u(e.timestamp)})]},t))})]})]})}},4914:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(9510);let a=(0,r(8570).createProxy)(String.raw`C:\Sallie\web\components\ControlPanel.tsx#ControlPanel`);function n(){return s.jsx("div",{className:"p-6",children:s.jsx(a,{})})}},4752:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>l});var s=r(9510),a=r(7366),n=r.n(a);r(7272);let o=(0,r(8570).createProxy)(String.raw`C:\Sallie\web\app\providers.tsx#Providers`),l={title:"Sallie â€¢ Digital Progeny",description:"Your AI companion and cognitive partner",viewport:"width=device-width, initial-scale=1"};function i({children:e}){return s.jsx("html",{lang:"en",className:"dark",children:s.jsx("body",{className:n().className,children:s.jsx(o,{children:e})})})}},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[195],()=>r(8650));module.exports=s})();