(()=>{var e={};e.id=800,e.ids=[800],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2142:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>h,tree:()=>c}),s(8869),s(4752),s(5866);var a=s(3191),l=s(8716),r=s(7922),i=s.n(r),n=s(5231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let c=["",{children:["limbic",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8869)),"C:\\Sallie\\web\\app\\limbic\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,4752)),"C:\\Sallie\\web\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Sallie\\web\\app\\limbic\\page.tsx"],x="/limbic/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/limbic/page",pathname:"/limbic",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1635:(e,t,s)=>{Promise.resolve().then(s.bind(s,7293))},7293:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(326),l=s(7577);function r({state:e}){let t=[{label:"Trust",value:e.trust,color:"from-primary to-accent",ariaLabel:`Trust level: ${(100*e.trust).toFixed(0)}%`},{label:"Warmth",value:e.warmth,color:"from-accent to-warning",ariaLabel:`Warmth level: ${(100*e.warmth).toFixed(0)}%`},{label:"Energy",value:e.arousal,color:"from-warning to-error",ariaLabel:`Energy level: ${(100*e.arousal).toFixed(0)}%`},{label:"Mood",value:(e.valence+1)/2,color:"from-info to-success",ariaLabel:`Mood level: ${(100*e.valence).toFixed(0)}%`}];return(0,a.jsxs)("div",{role:"region","aria-label":"Emotional state gauges",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-400 uppercase tracking-wider mb-4",children:"Emotional State"}),a.jsx("div",{className:"space-y-4",children:t.map(e=>(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-300",children:e.label}),a.jsx("span",{className:"text-xs text-gray-500 font-mono",children:e.value.toFixed(2)})]}),a.jsx("div",{className:"h-1.5 bg-gray-700 rounded-full overflow-hidden",role:"progressbar","aria-valuenow":100*e.value,"aria-valuemin":0,"aria-valuemax":100,"aria-label":e.ariaLabel,children:a.jsx("div",{className:`h-full bg-gradient-to-r ${e.color} transition-all duration-500`,style:{width:`${100*e.value}%`}})})]},e.label))}),(0,a.jsxs)("div",{className:"mt-6 p-3 bg-gray-700/50 rounded-lg text-center",children:[a.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"Current Mode"}),a.jsx("div",{className:"text-lg font-semibold text-accent-light",children:e.posture||"PEER"})]})]})}var i=s(551);let n={trust:.5,warmth:.6,arousal:.7,valence:.6,posture:"PEER"},o=(0,i.Ue)(e=>({state:n,updateState:t=>e(e=>({state:{...e.state,...t}}))}));function c(){let{state:e,updateState:t}=o(),[s,i]=(0,l.useState)([]),[n,c]=(0,l.useState)(null),[d,x]=(0,l.useState)("24h"),{connect:m,isConnected:h}=function(){let[e,t]=(0,l.useState)(!1),s=(0,l.useRef)(null),a=(0,l.useRef)(null),r=(0,l.useCallback)(e=>{if(s.current?.readyState===WebSocket.OPEN)return;let l=new WebSocket("ws://192.168.1.47:8742/ws");a.current=e,l.onopen=()=>{t(!0)},l.onclose=()=>{t(!1),setTimeout(()=>r(e),3e3)},l.onerror=e=>{console.error("WebSocket error:",e),t(!1)},l.onmessage=e=>{try{let t=JSON.parse(e.data);a.current?.(t)}catch(e){console.error("Failed to parse WebSocket message:",e)}},s.current=l},[]);return{connect:r,send:(0,l.useCallback)(e=>{s.current?.readyState===WebSocket.OPEN&&s.current.send(e)},[]),isConnected:e}}(),u=s.filter(e=>Date.now()-e.timestamp<({"1h":36e5,"24h":864e5,"7d":6048e5,"30d":2592e6})[d]),g=(()=>{let e=[];for(let t=1;t<s.length;t++){let a=s[t-1],l=s[t],r=Math.abs(l.trust-a.trust),i=Math.abs(l.warmth-a.warmth),n=Math.abs(l.arousal-a.arousal),o=Math.abs(l.valence-a.valence);(r>.1||i>.1||n>.1||o>.2)&&e.push({...l,event:`Significant state change: Trust ${r>.1?`\xb1${r.toFixed(2)}`:""} ${i>.1?`Warmth \xb1${i.toFixed(2)}`:""}`})}return e})();return(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Limbic State"}),a.jsx("p",{className:"text-gray-400",children:"Real-time emotional state and historical trends"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[a.jsx("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Current State"}),e?a.jsx(r,{state:e}):a.jsx("p",{className:"text-gray-400",children:"Loading..."})]})}),a.jsx("div",{className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Historical Trends"}),(0,a.jsxs)("select",{value:d,onChange:e=>x(e.target.value),className:"bg-gray-700 text-gray-100 px-3 py-1 rounded-lg border border-gray-600",children:[a.jsx("option",{value:"1h",children:"Last Hour"}),a.jsx("option",{value:"24h",children:"Last 24 Hours"}),a.jsx("option",{value:"7d",children:"Last 7 Days"}),a.jsx("option",{value:"30d",children:"Last 30 Days"})]})]}),u.length>0?(0,a.jsxs)("div",{className:"h-64 relative",children:[(0,a.jsxs)("svg",{width:"100%",height:"100%",className:"overflow-visible",children:[[0,.25,.5,.75,1].map(e=>a.jsx("line",{x1:"0",y1:100*e+"%",x2:"100%",y2:100*e+"%",stroke:"rgba(255,255,255,0.1)",strokeWidth:"1"},e)),u.length>1&&a.jsx("polyline",{points:u.map((e,t)=>`${t/(u.length-1)*100},${(1-e.trust)*100}`).join(" "),fill:"none",stroke:"#8B5CF6",strokeWidth:"2"}),u.length>1&&a.jsx("polyline",{points:u.map((e,t)=>`${t/(u.length-1)*100},${(1-e.warmth)*100}`).join(" "),fill:"none",stroke:"#22d3ee",strokeWidth:"2"}),u.length>1&&a.jsx("polyline",{points:u.map((e,t)=>`${t/(u.length-1)*100},${(1-e.arousal)*100}`).join(" "),fill:"none",stroke:"#f59e0b",strokeWidth:"2"}),g.map((e,t)=>{let s=(e.timestamp-u[0]?.timestamp||0)/(u[u.length-1]?.timestamp-u[0]?.timestamp||1)*100;return a.jsx("circle",{cx:`${s}%`,cy:"50%",r:"4",fill:"#ef4444",className:"cursor-pointer hover:r-6",onClick:()=>c(e),children:a.jsx("title",{children:e.event??""})},t)})]}),(0,a.jsxs)("div",{className:"flex gap-4 mt-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-0.5 bg-violet-500"}),a.jsx("span",{className:"text-gray-400",children:"Trust"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-0.5 bg-cyan-500"}),a.jsx("span",{className:"text-gray-400",children:"Warmth"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-0.5 bg-amber-500"}),a.jsx("span",{className:"text-gray-400",children:"Arousal"})]})]})]}):a.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:a.jsx("p",{children:"No historical data available"})})]})})]}),n&&(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Event Details"}),a.jsx("p",{className:"text-gray-400 mb-4",children:n.event}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Trust"}),a.jsx("div",{className:"text-lg font-semibold",children:n.trust.toFixed(2)})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Warmth"}),a.jsx("div",{className:"text-lg font-semibold",children:n.warmth.toFixed(2)})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Arousal"}),a.jsx("div",{className:"text-lg font-semibold",children:n.arousal.toFixed(2)})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Valence"}),a.jsx("div",{className:"text-lg font-semibold",children:n.valence.toFixed(2)})]})]}),a.jsx("button",{onClick:()=>c(null),className:"mt-4 text-sm text-violet-400 hover:text-violet-300",children:"Close"})]}),(0,a.jsxs)("div",{className:"text-center text-sm text-gray-500",children:["Status: ",h?a.jsx("span",{className:"text-emerald-400",children:"Connected"}):a.jsx("span",{className:"text-red-400",children:"Disconnected"})]})]})}function d(){return a.jsx("div",{className:"min-h-screen bg-gray-900 p-4 md:p-8",children:a.jsx(c,{})})}},8869:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`C:\Sallie\web\app\limbic\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[195,415],()=>s(2142));module.exports=a})();