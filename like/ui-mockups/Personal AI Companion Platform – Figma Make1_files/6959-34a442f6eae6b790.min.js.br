"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="686df9a5-0fc7-582c-a040-ed42f8251458")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[6959],{972699:(e,t,i)=>{i.d(t,{Jw:()=>o,Lm:()=>a,NQ:()=>m,Y1:()=>c,h3:()=>n,i1:()=>r,li:()=>d,um:()=>l,vL:()=>s,xW:()=>p,zP:()=>u});let n="desktop_tool_bar--toolBarSpacerContainer--rLTCP",a="desktop_tool_bar--toolBarContainer--1EjL8",o="desktop_tool_bar--pageViewToolBarContainer--iC3UY desktop_tool_bar--toolBarContainer--1EjL8",r="desktop_tool_bar--toolBarLeftSide--wJapT text--fontPos13--xW8hS text--_fontBase--QdLsd",s="desktop_tool_bar--toolBarCenter--orkTM",l="desktop_tool_bar--toolBarCenterFullWidth---a4El",d="desktop_tool_bar--toolBarRightSide--XfTEn",c="desktop_tool_bar--toolBarTabContent--a1orn ellipsis--ellipsis--Tjyfa",u="desktop_tool_bar--toolBarTabContentBase--CoAtY",m="desktop_tool_bar--adminSettingsToolBarTabContentBase--xaPNN",p="desktop_tool_bar--adminSettingsToolBarTabContentSelected--YOoLG"},967749:(e,t,i)=>{i.d(t,{R1:()=>r,V$:()=>l,Wb:()=>a,Zo:()=>s,ss:()=>n,zS:()=>o});let n=10,a=6,o=7,r=7,s=9,l=7},984204:(e,t,i)=>{i.d(t,{T:()=>_,b:()=>f});var n=i(38989),a=i(536760),o=i(88839),r=i(589360),s=i(147186),l=i(890),d=i(790627),c=i(143020),u=i(916847),m=i(428444),p=i(889323),h=i(807083);let f=(0,a.Iz)(e=>(0,a.eU)(t=>e?t(p.WF4.Query({orgId:e})).transform(({org:e})=>!!d.oA(e?.isSalesAssistedPlanProperty)?.value&&!(0,d.oA)(e?.subscriptionShouldNotAutoRenewPlanProperty)&&d.oA(e?.plan?.termsOfServiceAcceptanceByTermsKey)?.termsKey!==m.Lb.SEATS_MODEL_BILLING_2025):o.Qw.disabled()));function _(e,t){let i=(0,c.CT)(),o=(0,r.Xf)(e?.id),m=(0,u.n)(),p=(0,a.md)(f(e?.id??null)),_=(0,h.D6)("useProductTermsEligibility"),g=(0,h.j_)(_).unwrapOr(!1),b=o.data?.analyze_data_contract_v2_start,y=b?(0,s.A)(b):null,w=(0,s.A)(),v=!!y&&w.isBefore(y)&&90>=y.diff(w,"day"),x=!!y&&w.isBefore(y)&&30>=y.diff(w,"day"),k=(0,s.A)((0,l.tl)().analyze_data_flow_v2_until),C=!!e&&(0,s.A)(e.created_at).isBefore(k),j=(0,n.kc)().terms_of_service_may_2025_update;return e?.id&&(g||t)&&C&&i&&("loaded"!==p.status||p.data)?"loading"===o.status||"loading"===p.status?(0,d.Xm)():v&&p.data&&(m||j&&x)?(0,d.gB)({isEligible:!0,orgTermsInfo:{organizationName:e?.name??"organization",renewalDate:y}}):(0,d.gB)({isEligible:!1}):(0,d.gB)({isEligible:!1})}},732215:(e,t,i)=>{i.d(t,{y:()=>r});var n=i(583325),a=i(227942),o=i(991408);function r(e,t,i,r,s){let{userId:l,orgId:d,teamId:c}=e,u=i.authedUsers.byId[l],m=r?r.orgs.reduce((e,t)=>({...e,[t.id]:t}),{}):i.orgById,p=r?r.teams.reduce((e,t)=>({...e,[t.id]:t}),{}):i.teams,h=(0,a.HE)(i,e,m,p),f=(0,o.R$)(u,d),_=!!s&&!(0,n.MJ)(d?m[d]:null,c?p[c]:null,null);if(!d){let t=r?.plansByUserId[l]?.find(e=>e.plan_id===c),i=t?.is_plan_locked,n=t?.draft_folder_id;return{...e,user:u,workspaceName:h,isDisabledDueToECC:f,isDsePresetsDisabled:_,isPlanLocked:i,draftFolderId:n}}let g=i.orgById[d];if(g?.standing==="SUSPENDED")return null;let b=!!g?.figjam_disabled_at&&"whiteboard"===t,y=!!g?.is_slides_disabled&&"slides"===t,w=r?.plansByUserId[l]?.find(e=>e.plan_id===d),v=(w?.is_sites_disabled??!0)&&"sites"===t,x=(w?.is_cooper_disabled??!0)&&"cooper"===t,k=(w?.is_figmake_disabled??!0)&&"figmake"===t,C=w?.is_plan_locked,j=w?.draft_folder_id;return{...e,user:u,workspaceName:h,isFigJamDisabled:b,isDisabledDueToECC:f,isDsePresetsDisabled:_,isSlidesDisabled:y,isSitesDisabled:v,isCooperDisabled:x,isFigmakeDisabled:k,isPlanLocked:C,draftFolderId:j}}},681369:(e,t,i)=>{i.d(t,{vO:()=>z,T4:()=>U,hh:()=>W,pO:()=>K,ek:()=>q,L9:()=>M,oS:()=>Y});var n=i(104076),a=i(716976),o=i(237420),r=i(278995),s=i(855272),l=i(711839),d=i(468882),c=i(536760),u=i(385446),m=i.n(u),p=i(376162),h=i(790627),f=i(276752),_=i(558789),g=i(402403),b=i(942262),y=i(271308),w=i(761952),v=i(981400),x=i(196531),k=i(568690);let C=[{name:"message",weight:.9},{name:"author.handle",weight:.4}],j={threshold:.1,tokenize:!0,matchAllTokens:!0,shouldSort:!0};var T=i(229462),S=i(838909),I=i(520356),A=i(875283),N=i(864830),E=i(903217),P=i(576074);let R=new Set([]);function M(e){return({creationDate:(0,d.t)("comments.sort_by_date"),recent:(0,d.t)("comments.sort_by_last_action"),unread:(0,d.t)("comments.sort_by_unread"),slide:(0,d.t)("comments.sort_by_slide"),asset:(0,d.t)("comments.sort_by_asset")})[e]}let D=(e,t)=>Date.parse(t.comments[0].created_at)-Date.parse(e.comments[0].created_at),O=(e,t)=>0,F={creationDate:D,recent:(e,t)=>Date.parse(t.lastRepliedAt||t.comments[t.comments.length-1].created_at)-Date.parse(e.lastRepliedAt||e.comments[e.comments.length-1].created_at),unread:(e,t)=>{let i=Number(e.comments.some(e=>e.isUnread)),n=Number(t.comments.some(e=>e.isUnread));return i===n?D(e,t):n-i},slide:O,asset:O};function U(e){return({resolved:(0,d.t)("comments.show_resolved_comments"),yours:(0,d.t)("comments.only_your_threads"),latestMakeVersion:(0,d.t)("comments.only_latest_version"),currentPage:(0,d.t)("comments.only_current_page"),currentSlide:(0,d.t)("comments.only_current_slide"),currentAsset:(0,d.t)("comments.only_current_asset"),currentTest:(0,d.t)("litmus.comments.only_current_test"),currentBuild:(0,d.t)("litmus.comments.only_current_build")})[e]}let B=e=>!e.comments[0].resolved_at,L=e=>e.sidebarItemType===T.kT.COMMENT_THREAD,H=e=>e.sidebarItemType===T.kT.FEED_POST,V={currentPage:!1,currentNode:!1,currentSlide:!1,currentDevModeFocus:!1,currentAsset:!1,currentTest:!1,currentBuild:!1,latestMakeVersion:!1};function q(e){return({commentsOnly:(0,d.t)("comments.only_comments"),postsOnly:(0,d.t)("comments.only_posts")})[e]}let z={postsOnly:[P.mW.RESOLVED],all:[],commentsOnly:[]};async function $(e,t){if(t){let i=t.replace(p.Py,p.H3);return await e.search(i).then(e=>new Set(e.map(e=>e.item.parentId||e.item.id)))}return R}let W=a.createContext({});function K(e){let t=(0,w.wq)(),i=(0,o.wA)(),d=(0,S.UP)(),u=(0,o.d4)(e=>e.comments.showResolved),p=(0,o.d4)(e=>e.comments.showOnlyParticipating),T=(0,o.d4)(e=>e.mirror.appModel.currentPage),R=e.currentNode||T,M=(0,I.TA)()||void 0,D=(0,o.d4)(e=>e.selectedView.commentThreadId),O=(0,A.ut)(r.Ez5?.singleSlideView().focusedNodeId,s.AD),U=(0,A.ut)(r.Ez5?.cooperFocusView().focusedNodeId,s.AD),q=(0,_.hA)(),K=(0,v.Ld)(),[Q,G]=a.useState("creationDate"),[X,J]=a.useState({...V,resolved:!u,yours:p,currentDevModeFocus:!!q,...e.initialFilterState}),[Z,ee]=a.useState("all"),[et,ei]=a.useState(""),[en,ea]=a.useState(null),eo=function(e){let[t]=a.useState(()=>new k.KH({keys:C,...j}));return a.useEffect(()=>{let i=function(e){if("loaded"!==e.status)return[];let t=[];return e.data.forEach(e=>e.comments.forEach(e=>t.push(e))),t.map(e=>{let t={id:e.user.id,handle:e.user.handle},i=e.message_meta.map(e=>e.t||e.user_annotated?.handle||"").join(" ");return{id:e.id,author:t,message:i,parentId:e.parent_id||null}})}(e);t.set(i)},[e,t]),t}(t),er=(0,c.md)(E.J),es=a.useMemo(()=>({resolved:B,yours:e=>M&&e.comments.some(e=>e.user_id===M||(0,x.F$)(e).includes(M))||!1,latestMakeVersion:e=>{let t=(0,h.oA)(e.makeCommentContext);return(t?parseInt(t.fileSequenceNumber):0)===er.fileSequenceNumber},currentPage:e=>T&&e.page===T||!1,currentNode:e=>{let t=e.comments[0].client_meta;return!!t?.in_frame&&t.node_id===R},currentSlide:e=>{let t=e.comments[0].client_meta?.node_id,i=t?(0,l.UN)().get(t):void 0,n=i?i.containingSlideId:s.AD;return O===s.AD||n===s.AD||n===O},currentDevModeFocus:e=>{let t=q?(0,l.UN)().get(q):null;if(!t)return!0;let i=e.comments[0]?.client_meta?.node_id,n=i?(0,l.UN)().get(i):null;return(0,f.WJ)(t,n)},currentAsset:e=>{let t=e.comments[0].client_meta?.node_id,i=t?(0,l.UN)().get(t):void 0,n=i?i.containingCooperFrameId():s.AD;return U===s.AD||n===s.AD||n===U},currentTest:()=>!0,currentBuild:()=>!0}),[M,T,er,R,O,q,U]),el=a.useMemo(()=>({all:()=>!0,commentsOnly:L,postsOnly:H}),[]),ed=a.useCallback(e=>{ei(e)},[]),ec=a.useCallback(e=>{i(y.nL({activeSort:e})),G(e)},[i]),eu=a.useCallback(e=>{"resolved"===e&&(i(y.U3({showResolved:X.resolved})),d&&i((0,b.mH)(X.resolved))),"yours"===e&&(i(y.RO({showOnlyParticipating:!X.yours})),d&&i(g.Zj(X.yours?N.Qv.ALL:N.Qv.ME))),J(t=>(t[e]=!t[e],{...t}))},[i,X,d]),em=a.useMemo(()=>{let e=new Set;for(let t of Object.values(P.mW))X[t]&&e.add(t);return e},[X]),ep=a.useCallback(e=>{ee(e)},[]);a.useEffect(()=>{z[Z].forEach(e=>{Y(em,e)&&eu(e)})},[Z,em,eu]),a.useEffect(()=>{et?$(eo,et).then(e=>{m()(en,e)||ea(e)}):ea(null)},[t,et,en,eo]);let eh=a.useMemo(()=>({...F,...K}),[K]),ef=a.useMemo(()=>(function(e,t,i,n,a,o,r,s){if("loaded"!==e.status)return e;let l=[...e.data];for(let e of(s&&(l=l.filter(e=>s.has(e.id))),n))l=l.filter(o[e]);return l=l.filter(r[i]),{...e,data:l.sort(a[t])}})(t,Q,Z,em,eh,es,el,en),[t,Q,Z,em,eh,es,el,en]),e_=a.useMemo(()=>({setSort:ec,toggleFilter:eu,setMode:ep,setQuery:ed}),[ed,ec,eu,ep]),eg=a.useMemo(()=>({activeQuery:et,activeSort:Q,activeMode:Z,activeFilters:em,threads:t,filteredThreads:ef,filteredSidebarItems:ef,threadManager:e_}),[et,Q,Z,em,t,ef,e_]),eb=a.useMemo(()=>{if(t&&"loaded"===t.status)return t.data.find(e=>e.id===D)},[D,t]);return a.useEffect(()=>{eb&&eb.comments[0].resolved_at&&X.resolved&&eu("resolved")},[X,eb,eu]),a.useEffect(()=>{J(e=>({...e,currentDevModeFocus:!!q}))},[q,J]),(0,n.jsx)(W.Provider,{value:eg,children:e.children})}function Y(e,t){return t===P.mW.RESOLVED?!e.has(t):e.has(t)}},758004:(e,t,i)=>{i.d(t,{Uu:()=>y,rf:()=>v,wV:()=>w});var n=i(104076),a=i(716976),o=i(237420),r=i(468882),s=i(271308),l=i(885347),d=i(777216),c=i(196531),u=i(558221),m=i(972480),p=i(520356),h=i(672971),f=i(25996),_=i(691431),g=i(967749);let b=3679!=i.j?g.ss:null;function y(e){let t=(0,o.d4)(e=>e.comments.typeahead);return e.mentionsDisabled&&t?.type==="mentions"?null:(0,n.jsx)(v,{onInsert:e.onInsert,onClear:e.onClear,isCommunityMentions:!1,decoratorsRef:e.decoratorsRef,width:e.width,direction:e.direction,targetRect:e.targetRect,useFixedPosition:!0,useWindowAsViewport:!0})}function w(e){let t=(0,o.d4)(e=>e.comments.typeaheadPositionOffset),i=a.useMemo(()=>{let i=e.position||{x:0,y:0};return{top:t.top+i.y,right:t.right+i.x,bottom:t.bottom+i.y,left:t.left+i.x,width:t.width,height:t.height}},[t,e.position]),r=(0,c.mz)();return(0,n.jsx)(v,{onInsert:e.onInsert,onClear:e.onClear,isCommunityMentions:e.isCommunityMentions,decoratorsRef:e.decoratorsRef,width:r,direction:_.ri.DOWNWARDS,targetRect:i,useFixedPosition:e.useFixedPosition,useWindowAsViewport:e.useWindowAsViewport})}function v(e){let t=(0,o.d4)(e=>e.comments.emojiPicker),i=(0,o.d4)(e=>e.comments.typeahead),[c,g]=(0,a.useState)(null);a.useEffect(()=>{i?.type==="suggestions"&&g(u.NS)},[i?.type]);let y=(0,o.wA)(),w=a.useCallback(()=>{y(s.RI({visible:!1}))},[y]),v=a.useCallback(e=>{y(s.We(e))},[y]),x=(0,m._X)({subscribeToUpdates_expensive:!0}),k=a.useMemo(()=>e.viewportInfo?e.viewportInfo:e.useWindowAsViewport?{isPanning:!1,isZooming:!1,height:window.innerHeight}:x,[e.useWindowAsViewport,x,e.viewportInfo]),{commentDecoratorsAvailableHeight:C}=(0,l.s)(),j=(k?.isPanning||k?.isZooming)&&t?.visible;a.useEffect(()=>{j&&w()},[j,w]);let T=(0,p.iZ)(),S=!!(t&&t.visible||i),{onClear:I}=e,A=a.useCallback(()=>{t&&t.visible&&w(),i&&I()},[t,i,w,I]),{decoratorsRef:N}=e;a.useEffect(()=>{N&&(N.current={visible:S,clearDecorators:A})},[A,N,S]);let E=C??0,P=E>0?E:k.height,{direction:R,useFixedPosition:M,useWindowAsViewport:D}=e,O="targetRect"in e?e.targetRect:void 0,F="positionFromBottom"in e?e.positionFromBottom:void 0,U=a.useMemo(()=>R===_.ri.UPWARDS?M?{useFixedPosition:!0,targetRect:O,direction:_.ri.UPWARDS,useWindowAsViewport:D}:{positionFromBottom:F,direction:_.ri.UPWARDS,useWindowAsViewport:D}:c&&O&&O.height>0&&O.bottom>P-c&&O.top>P-O.bottom?M?{useFixedPosition:!0,targetRect:O,direction:_.ri.UPWARDS,useWindowAsViewport:D}:{positionFromBottom:{left:O.left,bottom:k.height-O.top},direction:_.ri.UPWARDS,useWindowAsViewport:D}:{useFixedPosition:M,targetRect:O,direction:_.ri.DOWNWARDS,useWindowAsViewport:D},[R,M,O,F,D,c,P,k.height]);return(0,n.jsxs)("div",{style:{pointerEvents:"auto"},children:[t&&t.visible&&(0,n.jsx)(d._,{onInsert:t.onPick,onCancel:t.onCancel??w,targetRect:t.targetRect}),i&&"emojis"===i.type&&(0,n.jsx)(h.j_,{dispatchTypeahead:v,typeahead:i,onInsert:e.onInsert,onClear:e.onClear,width:e.width,setMaxTypeaheadHeight:g,isComments:!0,...U}),T&&i&&"mentions"===i.type&&(i.search||i.mentions.length>0)&&(0,n.jsx)(f.E,{dataTestId:"comment-mentions-typeahead",dispatch:y,entity:T,getAdditionalMetadata:e=>"has_permission"in e&&!e.has_permission||"has_resource_permission"in e&&!e.has_resource_permission?(0,r.t)("whiteboard.editor_mentions_typeahead.not_in_file"):null,isComments:!0,isCommunityMentions:e.isCommunityMentions,onClear:e.onClear,onInsert:e.onInsert,recordingKey:"mentionsTypeaheadView",setMaxTypeaheadHeight:g,setTypeahead:v,typeahead:i,width:e.width,zIndex:e.isCommunityMentions?void 0:b,...U}),i&&"suggestions"===i.type&&(0,n.jsx)(u.Cs,{setTypeahead:v,typeahead:i,onInsert:e.onInsert,onClear:e.onClear,width:e.width,...U})]})}},777216:(e,t,i)=>{i.d(t,{Y:()=>f,_:()=>g});var n=i(104076),a=i(716976),o=i(468882),r=i(873304),s=i(59881),l=i(359081),d=i(890),c=i(314653),u=i(261109),m=i(972480),p=i(337018),h=i(306027);let f="customElements"in window;function _(e){let{containerRef:t,...i}=e,s=a.useRef(null),c=t??s;return(0,l.h)(()=>{new r.LC({...i,ref:c,previewEmoji:" ",styleNonce:(0,d.Ay)().csp_nonce,i18n:{categories:{activity:(0,o.t)("emoji_mart.categories_activity"),flags:(0,o.t)("emoji_mart.categories_flags"),foods:(0,o.t)("emoji_mart.categories_foods"),frequent:(0,o.t)("emoji_mart.categories_frequent"),nature:(0,o.t)("emoji_mart.categories_nature"),objects:(0,o.t)("emoji_mart.categories_objects"),people:(0,o.t)("emoji_mart.categories_people"),places:(0,o.t)("emoji_mart.categories_places"),search:(0,o.t)("emoji_mart.categories_search"),symbols:(0,o.t)("emoji_mart.categories_symbols")},pick:"",search:(0,o.t)("emoji_mart.search"),search_will_update:(0,o.t)("general.search_will_update"),search_for_emojis:(0,o.t)("emoji_mart.search_for_emojis"),search_no_results:(0,o.t)("emoji_mart.search_no_results"),skins:{choose:(0,o.t)("emoji_mart.skins_choose"),1:(0,o.t)("emoji_mart.skins_1"),2:(0,o.t)("emoji_mart.skins_2"),3:(0,o.t)("emoji_mart.skins_3"),4:(0,o.t)("emoji_mart.skins_4"),5:(0,o.t)("emoji_mart.skins_5"),6:(0,o.t)("emoji_mart.skins_6")}}})}),(0,n.jsx)("div",{ref:c})}let g=a.memo(e=>{let{onInsert:t,onCancel:i,targetRect:o}=e,r=(0,m.ni)(),l=a.useCallback(e=>{t(e),(0,s.sx)("emojiIndex.EmojiData Inserted")},[t]),d=a.useCallback(()=>{i&&i()},[i]),f=a.useCallback(e=>{d(),e.stopPropagation()},[d]),g=o.top>405+(r?.y||0),b=h.Xr;return(0,n.jsx)("div",{className:b,onMouseDown:f,children:(0,n.jsx)(p.Cf,{autofocusPrevOnDismount:!0,className:h.qN,disableDropdownScrollContainer:!0,displayAboveTarget:g,lean:e.lean,minLeftMargin:r?.x,minWidth:334,propagateCloseClick:!0,targetRect:o,type:p.it.MATCH_BACKGROUND,children:(0,n.jsx)("div",{className:`${h.Fb} ${u.Dm}`,"data-testid":"emoji-picker",onClick:e=>{e.stopPropagation()},children:(0,n.jsx)(c.i,{displayAs:c.C.Block,children:(0,n.jsx)(_,{set:e.set??"native",onEmojiSelect:l,autoFocus:!0,onEscapeKeydown:d,containerRef:e.containerRef})})})})})})},470343:(e,t,i)=>{i.d(t,{NX:()=>J,dr:()=>X,y_:()=>K});var n=i(104076),a=i(716976),o=i(237420),r=i(801070),s=i(468882),l=i(38989),d=i(125588),c=i(611769),u=i(59881),m=i(761179),p=i(762359),h=i(565698),f=i(790627),_=i(641567),g=i(868606),b=i(922902),y=i(56857),w=i(553538),v=i(390995),x=i(728193),k=i(18611);let C=2e3,j="long-running-operation-loading",T=({longRunningLoadingMessage:e,longRunningSuccessMessage:t,longRunningThresholdMs:i=C,result:n,enabled:r})=>{let s=(0,o.wA)(),l=a.useRef(!1),d=a.useRef(null),c=a.useCallback(()=>{d.current&&clearTimeout(d.current),s(w.F.dequeue({matchType:j}))},[s]);a.useEffect(()=>(r&&"loading"===n.status&&(d.current=setTimeout(()=>{l.current=!0,s(w.F.enqueue({message:e,type:j,timeoutOverride:1/0,icon:k.zX.SPINNER,preventDismissal:!0}))},i)),c),[s,e,i,c,r,n.status]);let u=(0,m.ZC)(n.status);a.useEffect(()=>{r&&"loaded"===n.status&&"loaded"!==u&&l.current&&t&&s(w.F.enqueue({message:t,type:"long-running-operation-success"}))},[n.status,u,t,s,r])};var S=i(445622),I=i(520356),A=i(889323),N=i(799661),E=i(332704),P=i(271308),R=i(161025),M=i(44297),D=i(594557);class O{constructor(e,t,i){this.args=e,this.subscription=t,this.user=i,this.livegraphClient=null}}class F{constructor(e){this.client=e}getReactionsForPost(e){if("loaded"!==this.client.subscription.status)throw Error("Unable to get reaction for unloaded subscription");let t=this.client.subscription.data.file;if(!t)throw Error("Unable to get reaction for unloaded subscription");let i=t.feedPosts.find(t=>t.publicUuid===e);if(!i)throw Error("Unable to find post");let n={};for(let e of i.comments)n[e.id]=e.reactions;return{postReactions:i.reactions,commentReactions:n}}}var U=i(54434),B=i(259114),L=i(637426),H=i(272626),V=i(196531),q=i(438077);class z{constructor(e){this.client=e}toggleReaction(e,t,i){if("loaded"!==this.client.subscription.status)throw Error("Unable to toggle reactions for unloaded subscription");return this.getReactions(e).find(i=>i.emoji===t&&i.fileCommentId===e&&i.userId===this.client.user.id)?this.removeReaction(e,t):this.addReaction(e,t,i)}async addReaction(e,t,i){let n=y.Ay.post(`/api/file/${this.client.fileKey}/comments/${e}/reactions`,{emoji:t,prototype_mode:i?.prototype_mode||!1,selected_view:i?.selectedView||"",quick_reply:i?.quickReply||!1});return this.client.optimistically(async(i,a,o)=>{let r=new Date,s=`${e}_${t}_${o.id}`;await a.optimisticallyCreate({CommentReaction:{[s]:{fileCommentId:e,emoji:t,fileKey:i.file.id,userId:o.id,user:{id:o.id,handle:o.handle,imgUrl:o.img_url},createdAt:r,sortTimestamp:r}}},n)}),await n}async removeReaction(e,t){let i=y.Ay.del(`/api/file/${this.client.fileKey}/comments/${e}/reactions`,{emoji:t});return this.client.optimistically(async(n,a,o)=>{let r=o.id,s=this.getReactions(e).filter(e=>e.emoji===t&&e.userId===r).map(e=>e.id),l=s?.reduce((e,t)=>({...e,[t]:null}),Object.create(null));await a.optimisticallyDelete({CommentReaction:l},i)}),await i}getReactions(e){if("loaded"!==this.client.subscription.status)throw Error("Unable to get reaction for unloaded subscription");let t=this.client.subscription.data.file;if(!t)throw Error("Unable to get reaction for unloaded subscription");if("reactions"in t)return t.reactions.filter(t=>t.fileCommentId===e);{let i=t.mobileCommentThread.find(t=>t.id===e);return i?i.reactions:[]}}}function $(e){return e.map(e=>({...e,id:e.id.toString()}))}let W=(0,d.xx)(e=>{let t=e=>(e.hasOwnProperty("transform")||Object.defineProperty(e,"transform",{get:()=>({filter:i=>t(e.filter(i)),map:i=>t(e.map(i)),join:i=>t([...e,...i||[]])})}),e);return t(e)});function K(e){let t=a.useMemo(()=>(0,c.g)(),[e]),i=(0,h.bc)(R.$J,e,{enabled:!!e.fileKey,traceId:t}),n=(0,h.bc)(A.ZBn,e,{enabled:!!e.fileKey});return{combinedResult:a.useMemo(()=>{if("loaded"!==i.status||!i.data.file)return i;let e=W(i.data.file.comments).transform.filter(e=>null===e.resolvedAt);if("loaded"===n.status){let t=n.data.file?.resolvedComments;e=e.transform.join(t)}let t={...i.data.file,comments:e};return{...i,data:{...i.data,file:t}}},[i,n]),resolvedSubscription:n,unresolvedSubscription:i}}class Y{constructor(e){this.client=e}trackMissingCommentData(e,t,i,n,a,o){let r=!1;L.O.records[i.id]={parentId:i.parent_id,report:(t,s)=>{if(!r&&(r=!0,(0,_.kF)("comments_optimistic_updates","true"),(0,_.kF)("isLoadedComments",a.isLoadedComments?"true":"false"),(0,_.kF)("commentType",e),(0,b.x1)(t,s,{id:i.id,fileKey:this.client.fileKey,parentId:i.parent_id,pageId:i.client_meta?.page_id,userId:this.client.user.id,clientMeta:i.client_meta,...o}),this.client.livegraphClient)){for(let e of n())"SESSION.APPLY_MUTATIONS"===e.type||"SESSION.APPLY_SHADOW_MUTATIONS"===e.type||"REQUEST_MESSAGE"===e.type&&"sync"===e.message.messageType||"RESPONSE_MESSAGE"===e.type&&"synced"===e.message.messageType||"RESPONSE_MESSAGE"===e.type&&"pendingMutations"===e.message.messageType?(0,b.Lo)(t,JSON.stringify(e)):"SESSION.NOTIFY_OBSERVERS"===e.type&&e.view._name.includes("Comments")&&(0,b.Lo)(t,JSON.stringify({type:"SESSION.NOTIFY_OBSERVERS",viewName:e.view._name}));(0,b.x1)(t,s)}}},setTimeout(()=>{let a=L.O.records[i.id];if(a||n(),delete L.O.records[i.id],"loaded"!==this.client.subscription.status)return;let o=this.client.loadedComments.some(e=>e.id===i.id||e.id===t);a&&!o?a.report(`${e} Never Appeared`,"Comment failed to appear within ten seconds of creation"):n()},1e4)}create(e,t){let i=(0,p.S6)(),{fileKey:n,messageMeta:a,attachments:o,clientMeta:r,pageId:s,uuid:l,makeContext:d}=e;(0,u.sx)("New comment API create",{uuid:l});let c=[],m=async e=>{let i=e.data?.reason;if(!i||"comment_validation_failure"!==i.reason||!t?.onValidationError)throw e;let p=i.failure_info,h=await t.onValidationError($(p.users_without_view),$(p.ext_users_without_view),$(p.uninvitable_users),p.user_groups_without_access,p.commenting_user_cannot_invite);return h?((0,u.sx)("New comment API handling validation",{uuid:l}),y.Ay.post(`/api/file/${n}/comments`,{file_key:n,message_meta:a,attachments:o.map(e=>e.id),client_meta:r,page_id:s,prototype_mode:t?.prototypeMode,share_to_mentions:h.forceWithInvite,uuid:l,pending_mentions:c,...d&&{make_context:{chat_message_id:d.chatMessageId,source_code_hash:d.sourceCodeHash,file_sequence_number:d.fileSequenceNumber,message_index:d.messageIndex,version_name:d.versionName}}}).catch(m)):null},h=(0,U.e)(this.client.subscription),f=this.client.subscription.data?.file?.currentUserCommentReadStatus,_=y.Ay.post(`/api/file/${n}/comments`,{file_key:n,message_meta:a,attachments:o.map(e=>e.id),client_meta:r,page_id:s,prototype_mode:t?.prototypeMode,share_to_mentions:null===t.onValidationError,pending_mentions:c,uuid:l,...!f&&{all_read_at:V.gj.allReadAt},...d&&{make_context:{chat_message_id:d.chatMessageId,source_code_hash:d.sourceCodeHash,file_sequence_number:d.fileSequenceNumber,message_index:d.messageIndex,version_name:d.versionName}}});return this.client.optimistically((e,t)=>{let i=this.client.loadedComments.map(e=>e.orderId||0),s=i.length>0?Math.max(...i):0,d=(0,H.Rc)(a);t.optimisticallyCreateWithUUID({Comment:{[l]:{uuid:l,key:n,userId:this.client.user.id,parentId:null,orderId:s+1,canRead:!0,createdAt:new Date,resolvedAt:null,deletedAt:null,clientMeta:{x:r.x,y:r.y,nodeId:r.node_id||null,pageId:r.page_id||null,nodeOffset:r.node_offset||null,inFrame:r.in_frame||null,selectionBoxAnchor:r.selection_box_anchor||null,stablePath:r.stable_path||null},messageMeta:d,messageMetaStylized:d,user:{id:this.client.user.id,handle:this.client.user.handle,imgUrl:this.client.user.img_url},reactions:[],thumbnailUrl:null,isCanvasMention:!1,commentPin:null}}},_);let c=(0,M.Mu)(o,n,l);if(c&&t.optimisticallyCreate({CommentAttachment:c},_),!e.file.currentUserCommentReadStatus){let e=new Date;t.optimisticallyCreate({CommentReadStatus:{[`pending-comment-read-status-${e.getTime()}`]:{userId:this.client.user.id,fileKey:this.client.fileKey,createdAt:e,allReadAt:V.gj.allReadAt,readComments:{},unreadComments:{}}}},_)}}),[_.catch(m).then(e=>{if(!e)return null;try{let n=e.data.meta;this.trackMissingCommentData("New Comment",l,n,i,{isLoadedComments:h},t)}catch{}return e}),l]}reply(e,t){let i=(0,p.S6)(),{threadId:n,threadUuid:a,messageMeta:o,attachments:r,uuid:s,makeContext:l}=e,{fileKey:d}=this.client,c=(0,H.cs)(o),m=y.Ay.post(`/api/file/${d}/comments/${e.threadId}`,{file_key:d,uuid:s,message_meta:o,attachments:r.map(e=>e.id),prototype_mode:t?.prototypeMode,share_to_mentions:t.forceWithInvite||!1,tracking_context:t.trackingContext,pending_mentions:c,...l&&{make_context:{chat_message_id:l.chatMessageId,source_code_hash:l.sourceCodeHash,file_sequence_number:l.fileSequenceNumber,message_index:l.messageIndex,version_name:l.versionName}}}),h=(0,H.Rc)(o),f=(0,U.e)(this.client.subscription),{user:_}=this.client;return this.client.optimistically((e,t)=>{a?t.optimisticallyUpdateWithUUID({Comment:{[a]:{uuid:a,resolvedAt:null}}},m):t.optimisticallyUpdate({Comment:{[n]:{resolvedAt:null}}},m),(0,u.sx)("Livegraph Optimistic Comment Update",{flow:"reply",isOptimistic:!!a}),t.optimisticallyCreateWithUUID({Comment:{[s]:{uuid:s,key:d,userId:_.id,parentId:n,orderId:null,canRead:!0,createdAt:new Date,resolvedAt:null,deletedAt:null,clientMeta:null,messageMeta:h,messageMetaStylized:h,user:{id:_.id,handle:_.handle,imgUrl:_.img_url},reactions:[],thumbnailUrl:null,isCanvasMention:!1,commentPin:null,attachments:r.map(e=>(0,M.QG)(e,d,s))}}},m);let i=(0,M.Mu)(r,d,s);i&&t.optimisticallyCreate({CommentAttachment:i},m)}),[m.then(e=>{if(!e)return null;let n=e.data.meta;return this.trackMissingCommentData("Reply Comment",s,n,i,{isLoadedComments:f},t),e}),s]}}class Q{constructor(e){this.client=e}get commentReceipts(){return this}async markAsUnread(e){let t=this.client.subscription.data?.file?.currentUserCommentReadStatus,i=y.Ay.post(`/api/file/${this.client.fileKey}/unread_comments`,{comment_ids:[e],...!t&&{all_read_at:V.gj.allReadAt}});return this.client.optimistically(async(t,n,a)=>{let o=t.file.currentUserCommentReadStatus,r=new Date;if(o){let{[e]:t,...a}=o.readComments;await n.optimisticallyUpdate({CommentReadStatus:{[o.id]:{...o,allReadAt:V.gj.allReadAt,readComments:a,unreadComments:{...o.unreadComments,[e]:"true"}}}},i)}else await n.optimisticallyCreate({CommentReadStatus:{[`pending-comment-read-status-${r.getTime()}`]:{userId:a.id,fileKey:this.client.fileKey,createdAt:r,allReadAt:V.gj.allReadAt,readComments:{},unreadComments:{[e]:"true"}}}},i)}),await i}async markAllAsRead(){let e=this.client.subscription.data?.file?.currentUserCommentReadStatus,t=y.Ay.del(`/api/file/${this.client.fileKey}/unread_comments`,{...!e&&{all_read_at:V.gj.allReadAt}});return this.client.optimistically(async(e,i,n)=>{let a=e.file.currentUserCommentReadStatus,o=new Date;a?await i.optimisticallyUpdate({CommentReadStatus:{[a.id]:{...a,allReadAt:o,readComments:{},unreadComments:{}}}},t):await i.optimisticallyCreate({CommentReadStatus:{[`pending-comment-read-status-${o.getTime()}`]:{userId:n.id,fileKey:this.client.fileKey,createdAt:o,allReadAt:o,readComments:{},unreadComments:{}}}},t)}),await t}async markAsRead(e){let t=this.client.subscription.data?.file?.currentUserCommentReadStatus,i=y.Ay.del(`/api/file/${this.client.fileKey}/unread_comments`,{comment_ids:e,...!t&&{all_read_at:V.gj.allReadAt}});return this.client.optimistically(async(t,n,a)=>{let o=t.file.currentUserCommentReadStatus,r=new Date,s=e.reduce((e,t)=>({...e,[t]:r.toUTCString()}),{});o?await n.optimisticallyUpdate({CommentReadStatus:{[o.id]:{...o,readComments:{...o.readComments,...s},unreadComments:Object.keys(o.unreadComments).filter(t=>!e.includes(t)).reduce((e,t)=>(e[t]="true",e),{})}}},i):await n.optimisticallyCreate({CommentReadStatus:{[`pending-comment-read-status-${r.getTime()}`]:{userId:a.id,fileKey:this.client.fileKey,createdAt:r,allReadAt:V.gj.allReadAt,readComments:s,unreadComments:{}}}},i)}),await i}}function G(e,t,i){let n=a.useMemo(()=>{if("loaded"!==i.status)return new Set([]);let e=i.data.file;return new Set(e?"comments"in e?e.comments.map(e=>e.id):e.resolvedComments.map(e=>e.id):[])},[i]),o=(0,m.ZC)(n),{removed:r}=a.useMemo(()=>(0,g.Zv)(n,o),[n,o]),s=a.useCallback(e,t);a.useEffect(()=>{r.forEach(e=>{s(e)})},[s,r])}function X(e){let t=(0,h.ZA)(),i=(0,I.iZ)(),{args:n,subscription:o}=e,[s,l]=a.useState(()=>{if(i)return new U.I(n,o,i)});return a.useEffect(()=>{if(!i){l(void 0);return}if(!s||!(0,r.c2)(s.args,n)){l(new U.I(n,o,i));return}},[s,n,o,i,t]),s&&(i&&(s.user=i),s.subscription=o,s.livegraphClient=t),a.useMemo(()=>s?{commentReceipts:new Q(s),reactionsApi:new z(s),writeAPI:new Y(s),pinApi:new B.xI(s)}:{},[s])}function J(e){let{userId:t,file:i,activeId:d,anchorPositions:c,boundingBoxPositions:u,DEPRECATED_updateWatchedNodeIds:m,updateWatchedStablePaths:p,getPageIdsForNodes:_,enableCommentsLoadingVisualBell:g=!1,children:b}=e,y=a.useRef({}),k=(0,x.E3)()===N.nT.Whiteboard,C=!!(0,l.kc)().xr_debounce_threshold,j=i?.key,M=!!j,U=a.useMemo(()=>({fileKey:j??""}),[j]),B=(0,h.bc)(A.qRE,U,{enabled:C&&M}),H=(0,h.bc)(A.gkf,U,{enabled:k&&M}),V=(0,o.d4)(e=>e.comments.lgPendingUuidToServerIdMap),z=(0,o.wA)(),{combinedResult:$,resolvedSubscription:W,unresolvedSubscription:Y}=K(U);T({result:Y,longRunningLoadingMessage:(0,s.t)("comments.loading"),enabled:!!(0,l.kc)().comments_load_visual_bell&&g}),G(e=>{L.O.records[e]?.report?.("New Comment Missing","Comment disappeared within ten seconds of creation")},[],Y),G(e=>{L.O.records[e]?.report?.("New Resolved Comment Missing","Resolved comment disappeared within ten seconds of creation")},[],W),a.useEffect(()=>{(0,l.kc)().comments_load_visual_bell&&"errors"===$.status&&z(w.F.enqueue({message:(0,s.t)("comments.failed_to_load_comments"),error:!0}))},[z,$.status]),a.useMemo(()=>{"loaded"===$.status&&$.data?.file?.comments?.forEach(e=>{e.id in V?(y.current[e.id]=e,e.id=V[e.id]):e.uuid&&e.uuid in V&&y.current[e.uuid]&&y.current[e.uuid]!==e&&(z(P.pI({commentUuid:e.uuid})),delete y.current[e.uuid])})},[z,$,V]);let Q=(0,o.d4)(e=>e.mirror.appModel.pagesList),{commentsAttachedToNodes:J,commentThreadNodeIds:Z,commentThreadStablePaths:ee}=a.useMemo(()=>{if("loaded"!==$.status||!$.data.file)return{commentThreadsNodeIds:[],commentsAttachedToNodes:[]};let e=[],t=new Set,i=new Set;return $.data.file.comments.forEach(n=>{if(null===n.parentId){let a=n.clientMeta?.nodeId,o=n.clientMeta?.stablePath;o&&p?(e.push(n),i.add(`[${o.join(",")}]`)):a&&m&&(e.push(n),t.add(a))}}),{commentsAttachedToNodes:e,commentThreadNodeIds:t,commentThreadStablePaths:i}},[$,m,p]),et=a.useMemo(()=>{if("loaded"!==$.status||!$.data.file||C&&!B.data?.file)return[];let e=new Set(Z);return C&&(0,S.N)(B.data.file.feedPosts).forEach(t=>{e.add(t)}),Array.from(e)},[$,B,C,Z]),ei=a.useMemo(()=>"loaded"===$.status&&$.data.file?Array.from(new Set(ee)):[],[$,ee]);a.useEffect(()=>{m&&m(et),p&&p(ei)},[m,et,p,ei]);let en=(0,q.W9)(t,$,d,c,_,Q),ea=(0,q.gu)(t,H,e.activeId),eo=(0,E.in)(B,e.activeId,_,u),er=a.useMemo(()=>{if("loaded"!==$.status||C&&"loaded"!==B.status||k&&"loaded"!==H.status)return(0,f.gB)([]);let e=[];return en.data&&(e=e.concat(en.data)),ea.data&&(e=e.concat(ea.data)),eo.data&&(e=e.concat(eo.data)),(0,f.gB)(e)},[$.status,C,B.status,k,H.status,en.data,ea.data,eo.data]),es=X({args:U,subscription:$}),el=function(e){let t=(0,h.ZA)(),i=(0,I.iZ)(),{args:n,subscription:o}=e,[s,l]=a.useState(()=>{if(i)return new O(n,o,i)});return a.useEffect(()=>{if(!(0,D.y)()||!i){l(void 0);return}if(!s||!(0,r.c2)(s.args,n)){l(new O(n,o,i));return}},[s,n,o,i,t]),s&&(i&&(s.user=i),s.subscription=o,s.livegraphClient=t),a.useMemo(()=>s?{reactionsApi:new F(s)}:{},[s])}({args:U,subscription:B});es.canvasMentionReceipts=(0,v.pf)({canvasMentionArgs:U,canvasMentionSubscription:H}),(0,q.Hu)(J,{enabled:!!(0,l.kc)().comments_absolute_positioning});let ed=a.useMemo(()=>M?{...$,api:es,feedApi:el,threads:er,isUnresolvedLoaded:"loaded"===$.status}:{status:"loading",data:null,errors:null,threads:(0,f.Xm)(),api:{},isUnresolvedLoaded:!1},[M,$,es,el,er]);return(0,n.jsx)(R.kR,{value:ed,children:b})}},778546:(e,t,i)=>{i.d(t,{E:()=>c});var n=i(716976),a=i(385446),o=i.n(a),r=i(59881),s=i(705518),l=i(355448);let d={PENDING_COMMENT:"comments.web.pending_comment",PENDING_FROM_LG_COMMENT:"comments.web.pending_from_lg_comment",PENDING_COMMENT_SLOW:"comments.web.pending_comment.slow"};function c(e){let[t,i]=n.useState(new Set),[a,c]=n.useState(new Set),u=n.useRef(new Map),m=n.useRef(new Map),p=n.useRef(new Map),h=n.useCallback(()=>{(0,l.rI)(Array.from(u.current).map(([e,t])=>{let i=performance.now()-t.startTime;return{metric:d.PENDING_COMMENT,value:i/1e3,tags:{pending_comment_aborted:"true",backgrounded:t.backgrounded?"true":"false"}}}))},[]),f=n.useCallback(()=>{u.current&&u.current.forEach(e=>{e.backgrounded=!0})},[]);n.useEffect(()=>{for(let t of e)if(!t.isPendingFromSinatra&&t.uuid){let e=`comment_creation_${t.uuid}`,i=s.sn.get(e);if(i&&i.isRunning&&!i.isUnreliable){let t=s.sn.tryStop(e);t&&(0,r.sx)("comment_creation",{elapsedMs:t},{forwardToDatadog:!0})}}},[e]),n.useEffect(()=>{let t=new Set(e.filter(e=>e.isPendingFromSinatra).map(e=>e.id)),n=new Set(e.filter(e=>e.uuid&&e.isPendingFromLg).map(e=>e.uuid));t.forEach(e=>{if(u.current.has(e))return;u.current.set(e,{startTime:performance.now(),backgrounded:!1});let t=setTimeout(()=>{(0,l.Rh)(d.PENDING_COMMENT_SLOW,{})},3e4);p.current.set(e,t)}),n.forEach(e=>{m.current.has(e)||m.current.set(e,{startTime:performance.now(),backgrounded:!1})}),i(e=>o()(t,e)?e:t),c(e=>o()(n,e)?e:n)},[e]),n.useEffect(()=>{u.current.forEach((e,i)=>{if(!t.has(i)){let t=performance.now()-e.startTime;(0,l.S3)(d.PENDING_COMMENT,t/1e3,{backgrounded:e.backgrounded}),u.current.delete(i),p.current.has(i)&&(clearTimeout(p.current.get(i)),p.current.delete(i))}})},[t]),n.useEffect(()=>{m.current.forEach((e,t)=>{if(!a.has(t)){let i=performance.now()-e.startTime;(0,l.S3)(d.PENDING_FROM_LG_COMMENT,i/1e3,{backgrounded:e.backgrounded}),m.current.delete(t)}})},[a]),n.useEffect(()=>(window.addEventListener("beforeunload",h),()=>window.removeEventListener("beforeunload",h)),[h]),n.useEffect(()=>{let e=()=>{"hidden"===document.visibilityState&&f()};return window.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[f])}},113503:(e,t,i)=>{i.d(t,{d:()=>$});var n=i(104076),a=i(716976),o=i(237420),r=i(730275),s=i(219155),l=i(296610),d=i(239513),c=i(283002),u=i(116039),m=i(468882),p=i(38989),h=i(611769),f=i(59881),_=i(34108),g=i(565698),b=i(748399),y=i(58257),w=i(907479),v=i(996061),x=i(626660),k=i(554841),C=i(271308),j=i(161025),T=i(758004),S=i(898025),I=i(470343),A=i(196531),N=i(192992),E=i(439497),P=i(229462),R=i(520356),M=i(889323),D=i(476469),O=i(691431),F=i(53559),U=i(850346),B=i(159269);let L="thread_view--column--pFFpC",H="thread_view--fileName--4NIoC",V="thread_view--headerButton--hhuMt",q=new class{get file(){throw Error("Data should not be accessed directly from quick replies, we need to create standard API for comments to use this view. see: file_comments_api.tsx")}get fileFollower(){throw Error("Data should not be accessed directly from quick replies, we need to create standard API for comments to use this view. see: file_comments_api.tsx")}get comments(){throw Error("Data should not be accessed directly from quick replies, we need to create standard API for comments to use this view. see: file_comments_api.tsx")}},z=null,$=(0,a.forwardRef)((e,t)=>{let i=(0,g.bc)(M.Uhm,{fileKey:e.quickReplyInfo.fileKey,rootId:e.quickReplyInfo.threadId});return(0,n.jsx)("div",{className:"thread_view--container--VP-cU",ref:t,children:(0,n.jsxs)("div",{className:L,children:[(0,n.jsxs)("div",{className:"thread_view--header--Ci9Mz",children:[(0,n.jsx)("div",{className:V,children:!e.fileBrowser&&(0,n.jsx)(v.J,{"aria-label":(0,m.t)("quick_reply.navigate_back"),onClick:e.onClose,children:(0,n.jsx)(l.C,{})})}),e.fileBrowser?(0,n.jsx)("div",{className:H,children:"loaded"===i.status&&i.data.file&&i.data.file.name}):(0,n.jsx)("h2",{className:H,children:"loaded"===i.status&&i.data.file&&i.data.file.name}),(0,n.jsx)("div",{className:V,children:e.fileBrowser?(0,n.jsx)(v.J,{"aria-label":(0,m.t)("quick_reply.close"),onClick:e.onClose,children:(0,n.jsx)(d.X,{})}):(0,n.jsx)("div",{style:{display:"none"},children:(0,n.jsx)(v.J,{"aria-label":(0,m.t)("quick_reply.more"),children:(0,n.jsx)(c.J,{})})})})]}),(0,n.jsx)(W,{quickReplyInfo:e.quickReplyInfo,result:i,inFileBrowser:e.fileBrowser})]})})});function W(e){let t=(0,R.iZ)();return t?"loading"===e.result.status||"disabled"===e.result.status?(0,n.jsx)(y.qc,{size:"medium"}):"errors"===e.result.status||null==e.result.data.file?(0,n.jsx)("div",{className:"thread_view--errorState--0zDhR",children:(0,m.t)("quick_reply.unable_to_load_thread")}):(0,n.jsx)(K,{quickReplyInfo:e.quickReplyInfo,result:e.result,user:t,inFileBrowser:e.inFileBrowser}):null}function K(e){let{quickReplyInfo:t,result:i,user:s}=e,{fileKey:l,threadId:d}=t,c=(0,I.dr)({args:{fileKey:l,rootId:d},subscription:i}),h=(0,o.wA)(),{file:g}=i.data,y=(0,a.useMemo)(()=>(0,D.mp)({currentOrgId:g.parentOrgId,teamId:g.teamId,fileKey:l,users:[],userGroupAtMentionsEnabled:(0,p.kc)().user_groups_at_mentions}),[g.parentOrgId,g.teamId,l]),{mobileCommentThread:w}=g,{currentUserCommentReadStatus:x}=g,k=w.find(e=>e.id===d),T=a.useMemo(()=>w.reduce((e,t)=>t.createdAt.getTime()>e.createdAt.getTime()?t:e).thumbnailUrl,[w]),S=(0,o.d4)(e=>e.comments.savingCommentUuids),N=(0,o.d4)(e=>e.comments.lgPendingUuidToServerIdMap);if(!k)return(0,n.jsx)("div",{children:(0,m.t)("quick_reply.unable_to_load_thread")});let E=w.map(e=>(0,A.G9)(s.id,k,e,x??A.gj,S,N,e.attachments)),R={id:k.id,key:l,anchored:!1,canvasPosition:null,selectionAnchorCanvasPosition:null,comments:E,messageMeta:E[0].message_meta,page:k.clientMeta?.pageId||null,isActive:!0,replyCount:w.length-1,isCanvasMention:!1,pageName:k.clientMeta?.pageId||null,sidebarItemType:P.kT.COMMENT_THREAD},M={api:c,status:i.status,data:q,threads:{status:i.status,data:[R],errors:i.errors},errors:i.errors,isUnresolvedLoaded:!0};return(0,n.jsx)(j.kR,{value:M,children:(0,n.jsxs)("div",{className:"thread_view--mouseContainer--HL60q",onMouseEnter:()=>{let e=E.some(e=>e.isUnread);z=setTimeout(()=>{c.commentReceipts&&e&&(h(C.AY({receiptsAPI:c.commentReceipts,thread:R})),(0,f.sx)("Comment Thread Read",{commentThreadId:d,threadType:"file_browser_quick_reply"}))},1e3)},onMouseLeave:()=>{z&&clearTimeout(z)},children:[(0,n.jsxs)("div",{className:"thread_view--preview--z-6n-",children:[(0,n.jsx)(_.B,{children:(0,n.jsx)(b.oW,{src:T||void 0,className:"thread_view--previewImage--jVECf",style:{backgroundColor:(0,r.C)(g.checkpointClientMeta)},alt:"thumbnail"})}),(0,n.jsx)("div",{className:"thread_view--openFileButton--f0HVP",children:(0,n.jsx)(v.J,{"aria-label":(0,m.t)("quick_reply.open_file"),onClick:()=>{let e=t.deeplink??`/file/${l}?fuid=${s.id}&#${d}`;window.location.href=e},children:(0,n.jsx)(u.V,{})})})]}),(0,n.jsx)(Y,{loadedComments:E,user:s,quickReplyInfo:t,commentMentionables:y,inFileBrowser:e.inFileBrowser})]})})}function Y(e){let{loadedComments:t,user:i,quickReplyInfo:r,commentMentionables:l,inFileBrowser:d}=e,{fileKey:c,threadId:u}=r,p=(0,o.wA)();(0,a.useEffect)(()=>{p(C.Fm({threadId:u}))},[p,u]);let f=(0,o.d4)(e=>e.comments.typeahead),_=(0,o.d4)(e=>e.comments.editingComment),g=(0,o.d4)(e=>e.comments.activeThread?.id),b=(0,o.d4)(e=>e.comments.threads),y=g&&b[g]||null,v=y?.reply.messageMeta||[],{submitReply:I,updateMessage:A,submitEdit:R}=function(e){let t=(0,o.wA)(),i=(0,j.I_)().writeAPI,n=j.GH()?.threads;return{submitReply:a.useCallback(e=>{if(!i){console.error("Calling submitReply with no write API");return}n&&"loaded"===n.status&&n.data.find(t=>t.id===e.threadId)&&(e.onCommentValidationFailure=(n,a,o,r,s,l)=>C.dB(i,t,n,a,o,r,s,l,e.uuid,U.y),t(C.lV({...e,commentsWriteApi:i,commentsConfiguration:U.y,trackingContext:{feature:"web_quick_reply_screen"}})))},[t,n,i]),updateMessage:a.useCallback(i=>{t(C.k7({threadId:e,messageMeta:i}))},[t,e]),submitEdit:a.useCallback((e,i)=>{t(C._v({comment:e,messageMeta:i}))},[t])}}(u),M=(0,S._B)(),D=a.useRef(null),H=a.useRef(null),V=a.useRef(null),[q,z]=a.useState(null),[$,W]=a.useState(a.useRef(null)),K=a.useRef(null),Y=0,Q=0,G=0;K.current&&K.current.offsetParent&&(Y=K.current.offsetWidth,Q=K.current.offsetLeft,G=K.current.offsetParent.clientHeight-K.current.offsetTop);let X=e=>e||{x:0,y:0},J=a.useRef(null);(0,a.useEffect)(()=>{J.current&&J.current.scrollToBottom()},[]);let Z=(0,a.useCallback)(e=>{p((0,k.to)({type:F.E,data:{comment:e,onConfirm:()=>{p(C.Mv({comment:e}))}}}))},[p]),ee=[...new Set(t.map(e=>e.user.handle))],et=t.find(e=>e.id===u);return et?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:x.sx.flex1.$}),(0,n.jsx)(w.P,{className:"thread_view--bottomAnchoredScrollContainer--VHpoB",useBottomPinning:!0,ref:J,enableScrollShadow:!0,children:(0,n.jsx)("div",{className:L,children:t.slice().map((e,a)=>(0,n.jsx)(N.I,{allowAttachments:!1,comment:e,dispatch:p,editingComment:_,editorOnClear:M.editorOnClear,editorOnInsert:M.editorOnInsert,editorRef:V,editorType:"comment-editor-thread",hideEmojiPicker:!1,hideReactions:!1,hideResolve:!1,hyperlinkLocation:q,index:a,isQuickReplyThreadView:!0,mentionables:l,mountInputFocused:!0,onDelete:Z,overflowMenuActions:d?[]:void 0,prevAuthor:0===a?null:t[a-1].user_id,setHyperlinkEditorRef:W,setHyperlinkLocation:z,setIsEditorFocused:s.lQ,setResolved:s.lQ,showEditedIndicator:!!e.edited_at,submitEdit:R,thread:{comments:t,key:c,id:u},threadPosition:{x:0,y:0},typeahead:f,user:i,viewportPositionFromClientPosition:X},`thread-comment-${e.id}`))})}),(0,n.jsx)(E.K,{allowAttachments:!1,authorNames:ee,className:B.MJ,dispatch:p,editingExistingComment:!1,editorOnClear:M.editorOnInsert,editorOnInsert:M.editorOnClear,editorRef:H,editorType:"comment-editor-reply",fileKey:c,hideEmojiPicker:!1,hyperlinkLocation:q,isDisabled:!1,isEmojiPickerDisabled:null!==_,mentionables:l,messageMeta:v,mountInputFocused:e.inFileBrowser??!1,onCancel:s.lQ,onComposeFocus:void 0,onSubmit:()=>{I({threadId:u,threadUuid:et.uuid||void 0,uuid:(0,h.g)()})},placeholderText:(0,m.t)("comments.reply"),recordingKey:P.Dw.quickReply,replyContainerRef:K,setHyperlinkEditorRef:W,setHyperlinkLocation:z,setIsEditorFocused:s.lQ,submitText:(0,m.t)("comments.reply"),threadId:u,threadPosition:null,typeahead:f,updateMessage:A,user:i,viewportPositionFromClientPosition:X}),(0,n.jsx)(T.rf,{decoratorsRef:D,onClear:M.onClear,onInsert:M.onInsert,width:Y,direction:O.ri.UPWARDS,positionFromBottom:{left:Q,bottom:G}})]}):null}},800736:(e,t,i)=>{i.d(t,{N:()=>d});var n=i(716976),a=i(237420),o=i(611769),r=i(565698),s=i(889323),l=i(435249);function d(){let e=n.useMemo(()=>(0,o.g)(),[]),t=(0,a.d4)(l.kY),i=(0,r.bc)(s.gfM,{cacheNonce:e});return n.useMemo(()=>{if("loaded"===i.status){let e=i.data?.lockClient;if(e)return e.lock}return t},[i,t])}},316569:(e,t,i)=>{i.d(t,{ST:()=>r,zl:()=>o});var n=i(716976),a=i(536760);function o({_atom:e,machine:t}){let[{currentState:i,lastEvent:o,previousState:r},s]=(0,a.fp)(e),l=t.isComplete(i);return(0,n.useMemo)(()=>({completed:l,currentState:i,lastEvent:o,previousState:r,reset:s}),[l,i,o,r,s])}function r(e,t){let i=(0,n.useRef)(null),{currentState:a,lastEvent:o,previousState:r}=e;(0,n.useEffect)(()=>{i.current!==o&&(i.current=o,null!=o&&null!=r&&t({event:o,from:r,to:a}))},[a,o,r,t])}i(490432)},445622:(e,t,i)=>{i.d(t,{N:()=>a,j:()=>o});var n=i(278995);function a(e){let t=[];return e.forEach(e=>{e.content.forEach(e=>{let i=JSON.parse(e);i.nodeId&&t.push(i.nodeId)})}),t}function o(e,t){return[...new Set(e)].reduce((e,i)=>{let a=t(i),o=(n.Egt?.nodeIsPage(i)?a?.absoluteRenderBounds:a?.absoluteBoundingBox)??null;return e[i]=o?{x:o.x,y:o.y,width:o.w,height:o.h}:o,e},{})}},226922:(e,t,i)=>{i.d(t,{F:()=>a});var n=i(685430);function a(e,t,i){let{authedUsers:a,authedActiveCommunityProfile:o}=e,r=[],s=[];if(o?.associated_users)for(let e of o.associated_users){let t=a.byId[e.user_id];t&&(r.push(e.user_id),s.push(t))}return o?.team_id&&e.teams[o.team_id]?.org_id?[{teamId:null,orgId:e.teams[o.team_id].org_id,userId:e.user.id}]:o?.org_id||o?.team_id?[{teamId:o?.team_id??null,orgId:o?.org_id??null,userId:e.user.id}]:s.reduce((e,t)=>{let a=i.plansByUserId[t.id]||[];return e.concat(a.map(e=>(0,n.O)(e,t.id))||[])},[])}},186379:(e,t,i)=>{i.d(t,{t:()=>l});var n=i(716976),a=i(59881),o=i(365094),r=i(490384),s=i(520356);function l(e,t){let[i,l]=(0,n.useState)(!1),d=(0,s.TA)(),[c]=(0,n.useState)(()=>performance.now()),u=(0,r.tS)(),m=o.xK.loadID();(0,n.useEffect)(()=>{l(!1)},[m]),(0,n.useEffect)(()=>{e((e,t)=>{i||((0,a.sx)(e,{start_time:c,end_time:performance.now(),file_key:u,user_id:d,load_id:m,...t}),l(!0))})},[...t||[],c,i,m,u])}},916847:(e,t,i)=>{i.d(t,{n:()=>r});var n=i(237420),a=i(146500);let o=443==i.j?["orgAdminSettings","billingGroupDashboard","orgDomainManagement","orgIdpManagement","abandonedDraftFiles","teamAdminConsole","seatRequests","licenseGroup"]:null;function r(){let e=(0,n.d4)(e=>e.selectedView);return!!o.some(t=>t===e.view)||"workspace"===e.view&&e.subView===a.V0.ADMIN}},251291:(e,t,i)=>{i.d(t,{DK:()=>o,aT:()=>r});var n=i(807729),a=i(613316);function o(e,t,i){return n.Ay.shared.textToPrompt({contents:e,options:{from:t}},(0,a.sF)({clientLifecycleId:i}))}function r(e){return e.message_meta.map(e=>e.t??"").join("\n")}},162014:(e,t,i)=>{i.d(t,{R:()=>l,jn:()=>s});var n=i(565698),a=i(428444),o=i(889323),r=i(807083);function s(){let e=(0,r.T5)("useIsCurrentTeamProLocked").unwrapOr(null);return!!(e&&e.tier===a.Ag.PRO&&e?.planSubscription?.status===a.UX.SUSPENDED)}function l(e){let t=(0,r.T5)("useIsEligbileForProTeamLockedRevampUI").unwrapOr(null),i=function(e){let t=(0,n.bc)(o.TNJ,{id:e||""},{enabled:!!e});return!!t.unwrapOr({team:{hasPermission:!1}})?.team?.hasPermission}(e||t?.key.parentId);if(e&&t?.key.parentId!==e||!t||t.tier!==a.Ag.PRO)return!1;let s=i?[a.UX.UNPAID,a.UX.SUSPENDED]:[a.UX.SUSPENDED],l=t?.planSubscription?.status;return!!l&&!!s.includes(l)}},672971:(e,t,i)=>{i.d(t,{j_:()=>f,yn:()=>h,z:()=>p});var n=i(104076),a=i(511570),o=i.n(a),r=i(873304),s=i(133202),l=i(376162),d=i(590248),c=i(691431),u=i(587839),m=i(368394);let p="emoji-typeahead-view-listbox",h=e=>`emoji-typeahead-item-${e}`;class f extends d.o6{constructor(e){super(e),this.getDefaultEmojiSkinTone=()=>r.il.getDefaultSkin()||1,this.hasEmojiSkinTonePreference=()=>!!r.il.getDefaultSkin(),this.pointerMoved=!1,this.state={isPointerDownInTypeahead:!1,wasPointerDownInTypeahead:!1,isSkinToneSelectorToggled:!1},this.setWasPointerDownInTypeahead=e=>{this.setState(t=>({...t,wasPointerDownInTypeahead:e}))},this.setIsPointerDownInTypeahead=e=>{this.setState(t=>({...t,isPointerDownInTypeahead:e}))},this.toggleSkinToneSelector=()=>{this.setState(e=>({...e,isSkinToneSelectorToggled:!e.isSkinToneSelectorToggled}))},this.forceCloseSkinToneSelector=()=>{this.setState(e=>({...e,isSkinToneSelectorToggled:!1,wasPointerDownInTypeahead:!1,isPointerDownInTypeahead:!1}))},this.onEmojiTypeaheadClick=(e,t)=>{this.props.onInsert(),this.props.dispatchTypeahead(null)},this.placeEmoji=e=>{this.props.dispatchTypeahead({...this.props.typeahead,index:e})},this.props.setMaxTypeaheadHeight&&this.props.setMaxTypeaheadHeight(this.props.typeahead.maxEmojis*(0,s.jz)(m.nX))}componentDidUpdate(e){e.typeahead.emojis!==this.props.typeahead.emojis&&(this.pointerMoved=!1),(e.setMaxTypeaheadHeight!==this.props.setMaxTypeaheadHeight||e.typeahead.maxEmojis!==this.props.typeahead.maxEmojis)&&this.props.setMaxTypeaheadHeight&&this.props.setMaxTypeaheadHeight(this.props.typeahead.maxEmojis*(0,s.jz)(m.nX))}render(){let e=this.props.typeahead.emojis.map((e,t)=>{let a="",r=this.getDefaultEmojiSkinTone();return a=e.skins[r-1]?e.skins[r-1].unified:e.skins[0].unified,(0,n.jsxs)(c.Hn,{__tempScreenReaderFixAriaSelected:!0,className:m.I2,id:h(e.id),onClick:(e=r)=>{this.state.isPointerDownInTypeahead||(!this.hasEmojiSkinTonePreference()&&i().length>1?this.toggleSkinToneSelector():this.onEmojiTypeaheadClick(t,e))},onPointerDown:()=>{this.pointerMoved=!0,this.placeEmoji(t)},onPointerOver:()=>{this.pointerMoved&&this.placeEmoji(t)},recordingKey:d.Pt(this.props.recordingKey,t,"item"),selected:this.props.typeahead.index===t,selectedClassName:o()({[m.K9]:!this.props.isComments&&this.props.isFigJam,[m.xN]:this.props.isComments||!this.props.isFigJam}),children:[this.props.isComments?(0,n.jsx)("p",{className:m.Pg,children:(0,l.iA)(a)}):(0,n.jsx)("img",{src:(0,l.PC)(a,this.props.emojiImageSet),className:m.Pg,alt:""}),(0,n.jsx)("p",{className:m.cC,children:(0,l.OV)(e,this.props.typeahead.query)})]},e.id)}),t=(0,c.f6)(this.props),i=()=>{let e=this.props.typeahead.emojis[this.props.typeahead.index];return e.skins.map((t,i)=>({emojiName:e.id,src:(0,l.PC)(t.unified,this.props.emojiImageSet),skin:i}))},a=i().length>1,r=!this.hasEmojiSkinTonePreference()&&a,s=this.state.isSkinToneSelectorToggled&&r,f=this.state.wasPointerDownInTypeahead&&a,_=s||f,g=[(0,n.jsx)("div",{style:{height:6}},"emoji-typeahead-top-padding-div"),...e,(0,n.jsx)("div",{style:{height:6}},"emoji-typeahead-bottom-padding-div")],b=(0,n.jsx)(u.A,{allSkinTones:i(),onInsert:this.props.onInsert,onClear:this.props.onClear,forceCloseSkinToneSelector:this.forceCloseSkinToneSelector,isComments:!!this.props.isComments,isFigJam:!!this.props.isFigJam},"skin-tone-selector"),y=[...g.slice(0,this.props.typeahead.index+1),b,...g.slice(this.props.typeahead.index+1)];return(0,n.jsx)(c.xD,{className:o()({[m.oQ]:!0,[m.mS]:this.props.isComments&&this.props.direction===c.ri.DOWNWARDS,[m.jn]:this.props.isComments&&this.props.direction===c.ri.UPWARDS}),dispatchTypeahead:this.props.dispatchTypeahead,id:p,isPointerDownInTypeahead:this.state.isPointerDownInTypeahead,onClear:this.props.onClear,onInsert:()=>{this.state.isSkinToneSelectorToggled||!r||f?this.props.onInsert():this.toggleSkinToneSelector()},onPointerMove:()=>this.pointerMoved=!_,recordingKey:this.props.recordingKey,setIsPointerDownInTypeahead:this.setIsPointerDownInTypeahead,setWasPointerDownInTypeahead:this.setWasPointerDownInTypeahead,shouldNotClearOnEnter:r,shouldNotHandleKeyDown:_,typeahead:this.props.typeahead,wasPointerDownInTypeahead:this.state.wasPointerDownInTypeahead,width:this.props.width,zIndex:this.props.zIndex,...t,children:_?y:g})}}f.displayName="EmojiTypeaheadView"},919251:(e,t,i)=>{i.d(t,{pG:()=>u,rw:()=>m});var n=i(104076),a=i(716976),o=i(65371),r=i(972699),s=(e=>(e.DEFAULT="default",e.ADMIN_SETTINGS="adminSettings",e))(s||{});class l extends o.o{constructor(){super(...arguments),this.styleOverrides=()=>({base:r.zP})}}class d extends o.o{constructor(){super(...arguments),this.styleOverrides=()=>({base:r.NQ,selected:r.xW})}}class c extends a.PureComponent{constructor(e){super(e),this.getTabClassWithStyling=()=>"adminSettings"===this.props.variant?d:l}render(){let e=this.getTabClassWithStyling();return(0,n.jsx)(e,{tab:this.props.tab,selectedTab:this.props.selectedTab,onClick:this.props.onClick,disabled:this.props.disabled,tooltipText:this.props.tooltipText,showTooltipWhenDisabled:this.props.showTooltipWhenDisabled,dataText:this.props.dataText,children:(0,n.jsx)("span",{className:r.Y1,"data-onboarding-key":this.props["data-onboarding-key"],children:this.props.children})})}}let u=c.name;function m(){return c}},996061:(e,t,i)=>{i.d(t,{J:()=>r});var n=i(104076),a=i(716976),o=i(922251);let r=a.forwardRef(function({children:e,...t},i){return(0,n.jsx)(o.E,{...t,ref:i,className:"icon_button_32--iconButton--gFcI9",children:(0,n.jsx)("span",{"aria-hidden":!0,className:"icon_button_32--icon--8SoTm",children:e})})})},296672:(e,t,i)=>{i.d(t,{H:()=>s,s:()=>l});var n=i(278995),a=i(728193),o=i(428444),r=i(875283);function s(){let e=(0,a.lg)(),t=(0,r.ut)(n.Ez5?.cooperFocusView().focusedNodeId,null),i=(0,r.ut)(n.Ez5?.singleSlideView().focusedNodeId,null);switch(e){case o._Y.COOPER:return t;case o._Y.SLIDES:return i;default:return null}}function l(e,t){switch(t){case o._Y.COOPER:return e.containingCooperFrameId();case o._Y.SLIDES:return e.containingSlideId;default:return null}}},41814:(e,t,i)=>{i.d(t,{ID:()=>n}),i(224433);let n={inputMargin:"8px",previewRowHeight:"48px",containerWidth:"380px",containerWidthDesktopNewTab:"816px",bottomPaddingDesktopNewTab:"32px",barHeight:"32px"}},601346:(e,t,i)=>{i.d(t,{H:()=>o});var n=i(716976),a=i(219155);let o=n.createContext({onClick:()=>!1,toggleQuickReply:a.lQ,onMouseMove:a.lQ,onRemove:a.lQ,inDesktopTray:!1})},588591:(e,t,i)=>{i.d(t,{IP:()=>e5,fd:()=>n,he:()=>e0,e8:()=>e1,ql:()=>eZ});var n,a=i(104076),o=i(716976),r=i(237420),s=i(932732),l=i(51091),d=i(659942),c=i(922251),u=i(468882),m=i(511570),p=i.n(m),h=i(62591),f=i(576719),_=i(908397),g=i(155549),b=i(761179),y=i(847863),w=i(56857),v=i(907479),x=i(139537),k=i(553538),C=i(511245),j=i(47972),T=i(143020),S=i(266132),I=i(118896),A=i(490384),N=i(203745),E=i(482051),P=i(520356),R=i(808655),M=i(225434),D=i(475765),O=i(688365),F=i(611287),U=i(235313),B=i(927055),L=i(860398),H=i(289157),V=i(395237),q=i(376162),z=i(890),$=i(84784),W=i(977051),K=i(622038),Y=i(872798),Q=i(790476),G=i(277066),X=i(119369),J=i(870765),Z=i(601346),ee=i(79579);let et="block_kit_row--rowContainer--hsQo5",ei="block_kit_row--rowWidth--kC8ex",en="block_kit_row--metadataContainer--tcs33",ea="block_kit_row--usersContainerStructuredView--PUPYI",eo="block_kit_row--quickReplyChevronContainerBase--Z-3oi",er="block_kit_row--quickReplyChevronContainerDesktop--Nn5jL block_kit_row--quickReplyChevronContainerBase--Z-3oi",es="block_kit_row--imagePreview--CqQsi";function el(e){return`notification-${e.notification_id}`}function ed(e){return(0,a.jsx)("span",{className:"block_kit_row--htmlTextBlock--wINSP",dangerouslySetInnerHTML:{__html:(0,$.p)(e.block.html_text)}})}function ec(e){let t=(0,q.UF)(e.block.emoji_shortcode)[0];return t.meta?(0,a.jsx)("span",{className:"block_kit_row--emojiUnicode--qBoed",children:t.unicode}):(0,a.jsx)(a.Fragment,{})}function eu(e){return e?e.map((e,t)=>"HtmlTextBlock"===e._block_type?(0,a.jsx)(ed,{block:e},t):(0,a.jsx)(ec,{block:e},t)):[]}function em(e){let{block:t,size:i}=e;return(0,a.jsx)(X.Ro,{entity:{...t,id:t.entity_id},size:i,hideFallbackInitial:!1,shape:t.shape.toUpperCase()})}function ep(e){let{block:t}=e;return(0,a.jsx)("div",{className:`${es} thumbnail_DEPRECATED--tileThumbnail--4kE7l`,style:{background:`url(${(0,G.A)()})`},children:(0,a.jsx)("div",{className:"thumbnail_DEPRECATED--thumbnailContainer--xPcsg",style:{backgroundColor:(e=>{if(!e||0===e.alpha)return"transparent";let{red:t,green:i,blue:n,alpha:a}=e;return`rgba(${255*t|0}, ${255*i|0}, ${255*n|0}, ${a})`})(t.background_color)},children:(0,a.jsx)("div",{className:"thumbnail_DEPRECATED--thumbnail--WuuvA thumbnail_DEPRECATED--baseThumbnail--8p9z4",style:{backgroundImage:`url(${t.img_url})`}})})})}function eh(e){let{block:t}=e;return(0,a.jsx)("div",{className:"block_kit_row--square--vD5SO",children:(0,a.jsx)("div",{className:es,style:{backgroundImage:`url(${t.img_url})`}})})}function ef(e){let{avatars:t,icon:i}=e;return 0===t.length?null:t.length>1?(0,a.jsxs)("div",{className:ea,children:[(0,a.jsx)("div",{className:"block_kit_row--secondaryUser--hkjpm",children:(0,a.jsx)(em,{block:t[1],size:Q.Pf.MEDIUM})}),(0,a.jsx)("div",{className:"block_kit_row--primaryUser--lg4hR",children:(0,a.jsx)(em,{block:t[0],size:Q.Pf.MEDIUM})}),i&&(0,a.jsx)(e_,{icon:i})]}):(0,a.jsxs)("div",{className:ea,children:[(0,a.jsx)(em,{block:t[0],size:Q.Pf.LARGE}),i&&(0,a.jsx)(e_,{icon:i})]})}function e_(e){let{icon:t}=e,i=new Set([(0,z.ck)("fc8b3d0c889b51bd8800945089e8b473ff4d619d")]);return(0,a.jsx)("div",{className:"block_kit_row--icon--YApgQ",children:"ImageThumbnailBlock"===t._block_type?(0,a.jsx)("img",{className:`block_kit_row--iconImg--SRdFH ${i.has(t.img_url)?"":"block_kit_row--iconInvert--7YBRA"} `,src:t.img_url,alt:""}):"ReacjiBlock"===t._block_type?(0,a.jsx)(ec,{block:t}):"AvatarBlock"===t._block_type?(0,a.jsx)(em,{block:t,size:Q.Pf.SMALL16}):void 0})}function eg(e){let t=(0,r.wA)(),{block:i,callbacks:n,isPrimary:o=!0,isDisabled:s,setIsDisabled:l}=e,d=async e=>{try{l(!0);let a=(await n.buildNotificationActionRequest(i.notification_action)).data.meta.updated_notification_blob;e&&t(k.F.enqueue({message:e,error:!1,role:"status"})),i.hide_after_action?n.hideNotification():(n.followLinkIfPossible(),a&&n.updateNotification(a.notification_id,a))}catch(n){let e=n.message||("resolve"===i.notification_action?(0,u.t)("user_notification.an_error_occurred_while_clicking_this_notification"):(0,u.t)("user_notification.an_error_occurred_while_removing_this_notification"));t(K.s.error(e))}finally{l(!1)}},c=eu([i.text]);return(0,a.jsx)(U.IK,{variant:o?"primary":"secondary",onClick:()=>{d(i.screenreader_action_success_announcement)},disabled:s,"aria-describedby":e.describedById,children:c})}function eb(e){let{block:t,actionBlockCallbacks:i,describedById:n}=e,[r,s]=o.useState(!1);return(0,a.jsxs)("div",{className:"block_kit_row--rowBottom--dKrKA",children:[(0,a.jsx)(eg,{block:t.secondary_action,callbacks:i,isPrimary:!1,isDisabled:r,setIsDisabled:s,describedById:n}),(0,a.jsx)(eg,{block:t.primary_action,callbacks:i,isPrimary:!0,isDisabled:r,setIsDisabled:s,describedById:n})]})}function ey(e){let{block:t,plan:i,shouldShowChevron:n,userLastViewedTimestamp:o,inDesktopTray:r,openQuickReply:s}=e;switch(t._block_type){case"BodyAndThumbnailBlock":return(0,a.jsx)(ew,{block:t,plan:i,shouldShowChevron:n});case"SplitlineTitleAndBodyBlock":return(0,a.jsx)(ev,{block:t,shouldShowChevron:n,userLastViewedTimestamp:o,inDesktopTray:r,openQuickReply:s})}}function ew(e){let{block:t,plan:i,shouldShowChevron:n}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"block_kit_row--contentContainer--ZbpO2 text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,a.jsxs)("div",{className:"block_kit_row--content--52-rY",children:[(0,a.jsx)("div",{children:eu(t.title)}),(0,a.jsxs)("div",{className:en,children:[(0,a.jsxs)("div",{className:"block_kit_row--textContainer--168xh",children:[t.description&&(0,a.jsx)("div",{className:"block_kit_row--notificationDescription--lMjfr ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k",children:eu(t.description)}),(0,a.jsxs)("div",{className:"block_kit_row--fromNow--ryp9b",children:[i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(J.H,{entityId:i.id.toString(),entityName:i.name,imgUrl:i.img_url||void 0}),(0,M.gN)(i.name,21),(0,a.jsx)("div",{className:"block_kit_row--planDivider--XnNq8",children:"\xb7"})]}),(0,a.jsx)(W.h1,{date:t.created_at,style:"short"})]})]}),n&&(0,a.jsx)("div",{className:"block_kit_row--quickReplyChevron--0rKX3",children:(0,a.jsx)(V.a,{})})]})]})}),(()=>{if(!t.thumbnail)return null;let e=t.thumbnail;switch(e._block_type){case"AvatarBlock":return(0,a.jsx)(em,{block:e,size:Q.Pf.XLARGE});case"ImageThumbnailBlock":return(0,a.jsx)(eh,{block:e});case"FileThumbnailBlock":return(0,a.jsx)(ep,{block:e})}})()]})}function ev(e){let{block:t,shouldShowChevron:i,userLastViewedTimestamp:n,inDesktopTray:o,openQuickReply:r}=e;return(0,a.jsxs)("div",{className:"block_kit_row--contentContainerRevamp--voNSM text--fontPos11--2LvXf text--_fontBase--QdLsd",children:[(0,a.jsxs)("div",{className:"block_kit_row--titleAndTimestamp--30RnS",children:[(0,a.jsx)("div",{className:"block_kit_row--title--gqwu-",children:eu(t.title)}),(0,a.jsx)(eT,{createdAt:t.created_at,lastSeenTimestamp:n})]}),(0,a.jsxs)("div",{className:en,children:[(0,a.jsx)("div",{className:"block_kit_row--subtitle--jIRsg",children:eu(t.subtitle)}),t.description&&(0,a.jsx)("div",{className:"block_kit_row--notificationDescriptionStructuredView--yUeTV ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k",children:eu(t.description)}),i&&r&&(0,a.jsx)("div",{className:p()(o?er:eo,"block_kit_row--quickReplyGradient--Nj1l9")})]})]})}function ex(e){let{notification:t}=e,i=(0,u.t)("user_notifications.unread_notifcation_sr");return(0,a.jsxs)("div",{className:p()("block_kit_row--rowTop--4zNja",ei),id:el(t),children:[t.is_unread?(0,a.jsx)("div",{className:"block_kit_row--unreadDotStructuredView--WluAp"}):null,(0,a.jsx)(ef,{avatars:t.avatars,icon:t.icon}),t.is_unread?(0,a.jsx)(B.E,{children:i}):null,e.children]})}function ek(e){let{attachment:t,notification:i,dontShowPlanIcon:n}=e;return(0,a.jsx)(ex,{notification:i,children:(0,a.jsx)(ey,{block:t.body,plan:!0===n?void 0:i.plan,userLastViewedTimestamp:i.filters.user_last_viewed_timestamp})})}function eC(e){let{attachment:t,notification:i,dontShowPlanIcon:n,openQuickReply:r}=e,{inDesktopTray:s}=o.useContext(Z.H);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(L.hE,{as:"span",children:(0,a.jsx)(ex,{notification:i,children:(0,a.jsx)(ey,{block:t.body,plan:!0===n?void 0:i.plan,userLastViewedTimestamp:i.filters.user_last_viewed_timestamp,inDesktopTray:s,shouldShowChevron:(0,ee.UC)(i),openQuickReply:r})})}),(0,ee.UC)(i)&&r&&(0,a.jsx)("div",{className:s?er:eo,children:(0,a.jsx)(L.HG,{children:(0,a.jsx)(H.K,{onClick:r,htmlAttributes:{"data-testid":"quick-reply-chevron"},"aria-label":(0,u.t)("user_notifications.open_quickreply"),children:(0,a.jsx)(V.a,{})})})})]})}function ej(e){let{attachment:t,notification:i,actionBlockCallbacks:n}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ex,{notification:i,children:(0,a.jsx)(ey,{block:t.body,plan:i.plan,userLastViewedTimestamp:i.filters.user_last_viewed_timestamp})}),(0,a.jsx)(eb,{block:t.actions,actionBlockCallbacks:n,describedById:el(i)})]})}function eT(e){let{createdAt:t,lastSeenTimestamp:i}=e,n=eS(t,i),o=(0,W.Ak)(t,"narrow");if("today"!==n&&"new"!==n){let e=new Date(t),i={};i=!function(e){let t=new Date;return t.setDate(t.getDate()-365),e>=t}(e)?{month:"short",day:"numeric",year:"numeric"}:{month:"short",day:"numeric"},o=new Intl.DateTimeFormat((0,Y.Gq)().getPrimaryLocale(!1),i).format(e)}return(0,a.jsx)("div",{className:"block_kit_row--timestamp--FiNtf",children:o})}function eS(e,t){let i=new Date(e),n=new Date,a=new Date(n);return(a.setDate(n.getDate()-1),t&&new Date(t)<i)?"new":eI(i,n)?"today":eI(i,a)?"yesterday":i>=new Date(n.getFullYear(),n.getMonth(),n.getDate()-7)?"last_week":"older"}function eI(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}var eA=(e=>(e.NEW="new",e.TODAY="today",e.YESTERDAY="yesterday",e.LAST_WEEK="last_week",e.OLDER="older",e))(eA||{});let eN={new:(0,u.tx)("user_notifications.new"),today:(0,u.tx)("user_notifications.today"),yesterday:(0,u.tx)("user_notifications.yesterday"),last_week:(0,u.tx)("user_notifications.last_7_days"),older:(0,u.tx)("user_notifications.older")};function eE(e){return e.preferred_attachments.length>0&&"ActionableAttachment"===e.preferred_attachments[0]._block_type}var eP=(e=>(e.ACTIONABLE="actionable",e.ACTIONED="actioned",e))(eP||{});let eR={actionable:(0,u.tx)("user_notifications.pending"),actioned:(0,u.tx)("user_notifications.done")};var eM=i(414393),eD=i(59881),eO=i(922902),eF=i(952891);function eU(e){let t=e.preferred_attachments.find(e=>eF.p.BlockKit.Block.ATTACHMENT_TYPES.has(e._block_type));if(void 0===t)throw Error(`Unable to render attachment. Hiding notification ${e.notification_id}`);return t}function eB(e){var t;let i;let n=(0,r.wA)(),[s,l]=(0,o.useState)(!1),d=(0,r.d4)(e=>e.selectedView.view),{onClick:m,toggleQuickReply:h,onMouseMove:f,onRemove:_,inDesktopTray:g}=o.useContext(Z.H),b=e.notification;o.useEffect(()=>()=>{_(b)},[_,b]);try{i=eU(e.notification)}catch(e){return console.error(`Unsupported Notification: ${e}`),null}let y=t=>{let i=d+"_quickreply";h(t,b,async()=>{try{await D.sr.markNotificationAsRead({notification_id:b.notification_id,currentView:i}),e.updateNotificationCallback(b.notification_id,{...b,is_unread:!1})}catch(e){(0,eO.x1)("Error marking notification as read",e)}})},w=e=>{f(e)},v=async t=>{(0,eD.sx)("file_browser_notification_clicked",{notification_id:b.notification_id,notification_type:b.notification_type,actionable:"ActionableAttachment"===i._block_type,selectedView:d,plan_filter:e.currentPlanFilter,notification_filter:e.currentNotificationFilter}),x(t);let a=m(b);try{await D.sr.markNotificationAsRead({notification_id:b.notification_id,currentView:d}),a||e.followLinkOnClickCallback(),e.updateNotificationCallback(b.notification_id,{...b,is_unread:!1})}catch(e){n(K.s.error((0,u.t)("user_notification.an_error_occurred_while_clicking_this_notification")))}},x=e=>{e.stopPropagation()},k=()=>{l(!0),e.onHide&&e.onHide()},C=(t,i=d)=>{switch(eD.az.trackDefinedEvent("notification.file_browser_notification_actioned",{notification_id:b.notification_id,notification_type:b.notification_type,notification_action:t,selectedView:d,plan_filter:e.currentPlanFilter||void 0,notification_filter:e.currentNotificationFilter}),t){case"resolve":return D.sr.acceptNotification({notification_id:b.notification_id,currentView:i});case"reject":return D.sr.rejectNotification({notification_id:b.notification_id,currentView:i});default:(0,eM.xb)(t)}},j=(t,i,n)=>{try{switch(t._block_type){case"ActionableAttachment":{let n={updateNotification:e.updateNotificationCallback,hideNotification:k,followLinkIfPossible:e.followLinkOnClickCallback,buildNotificationActionRequest:C};return(0,a.jsx)(ej,{attachment:t,notification:i,actionBlockCallbacks:n})}case"ClientActionableAttachment":return(0,a.jsx)(eC,{attachment:t,notification:i,openQuickReply:n});case"BodyAndThumbnailAttachment":case"BodyAttachment":return(0,a.jsx)(ek,{attachment:t,notification:i,dontShowPlanIcon:e.dontShowPlanIcon})}}catch(e){console.error(`Unable to render attachment: ${t}`),k()}},T="ActionableAttachment"===(t=i)._block_type?(0,a.jsx)("article",{className:et,onMouseMove:w,children:j(t,b)}):"ClientActionableAttachment"===t._block_type?(0,a.jsxs)(L.bL,{className:et,children:[(0,a.jsx)(L.O6,{className:"block_kit_row--clientActionableRowFocus--OB-8f",onClick:v,htmlAttributes:{onMouseEnter:g?void 0:y,onMouseMove:w,"data-testId":"client-actionable-button",role:"link"}}),j(t,b,y)??(0,a.jsx)(a.Fragment,{})]}):(0,a.jsx)(c.E,{className:p()(et,ei),htmlAttributes:{onMouseEnter:g?void 0:y,onMouseMove:w,role:"link"},onClick:v,children:j(t,b)});return!s&&T||null}var eL=i(219155),eH=i(391550),eV=i(38989),eq=i(743023),ez=i(424307),e$=i(224996),eW=i(113503);let eK=class e{constructor(){this.circularBuffer=new eq.C(e.BUFFER_CAPACITY),this.lastTimestamp=0}clear(){this.circularBuffer.clear()}push(t,i){i-this.lastTimestamp>e.THROTTLE_DURATION_MS&&(this.circularBuffer.push(t),this.lastTimestamp=i)}getLocation50msAgo(){let e=this.circularBuffer.toArray();return e.length>0?e[0]:new e$.Mi(window.innerWidth,window.innerHeight)}};function eY(e){let[t,i]=(0,o.useState)(null),[n,r]=(0,o.useState)(0),s=(0,A.q5)(),l=o.useRef(eL.lQ),d=o.useRef(eL.lQ),c=o.useRef(null),u=o.useRef(null),m=(0,ee.zr)(s,t),p=o.useRef({notificationId:"",mouseLocationHistory:new eK,scheduledShowQuickReply:void 0,scheduledMarkAsRead:void 0});(0,o.useEffect)(()=>{u.current&&u.current.addEventListener("mouseover",e=>{clearTimeout(p.current?.scheduledShowQuickReply)})},[t]);let h=()=>{clearTimeout(p.current?.scheduledMarkAsRead),p.current.scheduledMarkAsRead=setTimeout(()=>{d.current=l.current},1e3)},f=o.useMemo(()=>{function e(e,t,n){let a=window.innerWidth>900&&window.innerHeight>650;p.current.notificationId=e.notification_id,a&&(0,ee.UC)(e)?(i((0,ee.AS)(e)),r(t),l.current=n):(i(null),l.current=eL.lQ),p.current.mouseLocationHistory.clear()}return{onClick:e=>!1,toggleQuickReply:(t,i,n)=>{let a=!1;if(i.notification_id!==p.current.notificationId&&u.current&&t instanceof MouseEvent){let e=u.current.getBoundingClientRect(),i=new e$.Mi(e.left,e.top),n=new e$.Mi(e.left,e.bottom),o=[p.current.mouseLocationHistory.getLocation50msAgo(),i,n];a=(0,ez.y)(new e$.Mi(t.clientX,t.clientY),o)}let o=t.target;if(a){var r;r=()=>{e(i,o.getBoundingClientRect().bottom,n)},clearTimeout(p.current?.scheduledShowQuickReply),p.current&&(p.current.scheduledShowQuickReply=setTimeout(r,500))}else clearTimeout(p.current?.scheduledShowQuickReply),e(i,o.getBoundingClientRect().bottom,n)},onMouseMove:e=>{p.current.mouseLocationHistory.push(new e$.Mi(e.clientX,e.clientY),e.timeStamp)},onRemove:e=>{e.notification_id===p.current.notificationId&&i(null)},inDesktopTray:!1}},[u]);if(!(0,eV.kc)().desktop_quickreply_filebrowser)return(0,a.jsx)(a.Fragment,{children:e.children});let _=Math.max(0,n-(c.current?.getBoundingClientRect().y??0)-(u.current?.getBoundingClientRect().height??640));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"quick_reply_switcher--hoverContainer--eL8mU",ref:c,children:t&&!m&&(0,a.jsx)("div",{className:"quick_reply_switcher--quickReplyContainer--7Qpx8","data-testid":"quick-reply-container",style:{top:_,maxHeight:640,minHeight:450},onMouseEnter:()=>{h()},onMouseLeave:()=>{clearTimeout(p.current?.scheduledMarkAsRead),d.current(),d.current=eL.lQ,l.current=eL.lQ},children:(0,a.jsx)(eH.i,{children:(0,a.jsx)(eW.d,{quickReplyInfo:t,onClose:()=>i(null),fileBrowser:!0,ref:u})})})}),(0,a.jsx)(Z.H.Provider,{value:f,children:e.children})]})}eK.BUFFER_CAPACITY=10,eK.DESIRED_DURATION_MS=50,eK.THROTTLE_DURATION_MS=eK.DESIRED_DURATION_MS/eK.BUFFER_CAPACITY;let eQ="user_notifications_dropdown--arrowRight--g36M8",eG="user_notifications_dropdown--dropdownContainerEmptyState--7D3ct user_notifications_dropdown--dropdownContainer--ON3UV text--fontPos11--2LvXf text--_fontBase--QdLsd",eX="user_notifications_dropdown--dateHeader---l8oH",eJ="user_notifications_dropdown--markAllReadButton--TwhKK text--fontPos11--2LvXf text--_fontBase--QdLsd";function eZ(e,t){let i=(0,r.wA)(),n=(0,r.d4)(e=>e.user.id),a=(0,r.d4)(e=>e.user.community_profile_id),l=(0,r.d4)(e=>e.authedUsers.byId[n]?.plans),d=o.useMemo(()=>void 0!==l&&(new Map(l.map(e=>[e.plan_id,e.is_org])).get(t)||!1),[l,t]),c=(0,r.d4)(e=>e.userNotifications.communityProfileBellStates),m=(0,r.d4)(e=>e.selectedView.view),[p,f]=(0,o.useState)(()=>new Map),[_,b]=(0,o.useState)(!0),y=(0,g.F)(c);o.useEffect(()=>{let o=(0,s.s)(()=>{e?a&&(y.current[a]&&i((0,M.X2)({isBellStateHigh:!1,userInitiated:!0,profileId:a})),D.sr.getCommunityServerDriven({currentView:m}).then(({data:e})=>{v(e.meta)}).catch(e=>{i(k.F.enqueue({message:(0,u.t)("user_notification.an_error_occurred_while_fetching_your_community_notifications"),type:"user-notification",error:!0})),i(j.oB())})):((0,M.Zo)(!1,M.td,n),D.sr.getServerDrivenPlan({currentPlanId:t,currentView:m,isPlanOrg:d}).then(({data:e})=>{v(e.meta)}).catch(e=>{i(k.F.enqueue({message:(0,u.t)("user_notification.an_error_occurred_while_fetching_your_notifications"),type:"user-notification",error:!0})),i(j.oB())}))},800,!0);b(!0),o()},[t,y,m,i,e,d,a,n]);let v=e=>{let t=new Map,i=!1;e.forEach(e=>{t.set(e.notification_id,e),!i&&e.filters.is_priority&&(i=!0)}),f(t),b(!1)};return{notificationFeedMap:p,isFetchingNotifications:_,markAllAsReadFn:()=>{(e?w.Ay.post("/api/user_notifications/community/mark_read",{currentView:m,source:h.S8?"desktopbell":"web"}):w.Ay.post("/api/user_notifications/mark_read/plan",{current_plan_id:t,currentView:m,is_plan_org:d,source:h.S8?"desktopbell":"web"})).then(()=>{f(new Map(Array.from(p,([e,t])=>(t.is_unread=!1,[e,t]))))}).catch(()=>{i(k.F.enqueue({message:(0,u.t)("user_notification.an_error_occurred_marking_all_as_read"),type:"user-notification",error:!0}))})},updateNotification:(e,t)=>{f(new Map(p.set(e,t)))}}}function e0(e,t){return e.filter(e=>!t.includes(e.notification_id))}function e1(e){return e.some(e=>e.filters.is_priority)}function e5(e){let{inCommunity:t,containerClassName:i,arrowRight:r}=e,[s,l]=(0,o.useState)(M.td),{notificationFeedMap:d,isFetchingNotifications:c,markAllAsReadFn:u,updateNotification:m}=eZ(!!t,s),h=o.useCallback(e=>{e===F.a&&(e=M.td),(0,S.FE)(e,"notifications",void 0),l(e)},[l]);return c?(0,a.jsxs)(n.Container,{classNameProp:p()(eG,i,{[eQ]:r}),children:[(0,a.jsx)(n.Header,{selectedPlan:s,onPlanFilterUpdate:h,inCommunity:!!t,inDesktopTray:!1}),(0,a.jsx)(n.LoadingFeed,{})]}):(0,a.jsx)(e2,{...e,selectedPlan:s,planFilterFn:h,notificationFeedMap:d,markAllAsReadFn:u,updateNotification:m})}function e2({containerClassName:e,arrowRight:t,inCommunity:i,selectedPlan:r,planFilterFn:s,notificationFeedMap:d,markAllAsReadFn:c,updateNotification:u}){let[m,h]=(0,o.useState)([]),f=r===M.td?F.a:r,_=e0([...d.values()],m),g=e1(_),y=(0,M.I5)(_),w=(0,T.xb)(g&&y),[v,x,k]=l.t.useTabs({all:!0,priority:g,unread:!0},{defaultActive:()=>w?"priority":"all"}),C=(0,b.ZC)(k.activeTab),j=(0,M.RH)(_);o.useEffect(()=>{k.activeTab!==C&&(0,S.Cu)({filter_type:k.activeTab},"user_notifications_filter_clicked")},[C,k.activeTab,y,j]);let I=o.useMemo(()=>_.filter(e=>e.filters.is_priority),[_]),A=o.useMemo(()=>_.filter(e=>e.is_unread),[_]),N=e=>(0,a.jsx)(n.Feed,{notifications:e,currentPlanFilter:f,currentNotificationFilter:k.activeTab,hiddenNotificationIds:m,setHiddenNotificationIds:h,inCommunity:i,fillParent:!1,updateNotificationCallback:u});return(0,a.jsx)(n.Container,{classNameProp:p()(0!==d.size?"user_notifications_dropdown--dropdownContainer--ON3UV text--fontPos11--2LvXf text--_fontBase--QdLsd":eG,e,{[eQ]:t}),children:(0,a.jsxs)(eY,{children:[(0,a.jsx)(n.Header,{selectedPlan:r,onPlanFilterUpdate:e=>s(e),inCommunity:!!i,inDesktopTray:!1}),(0,a.jsx)(n.FilterToggle,{notificationFilter:k.activeTab,toggleNotificationFilter:e=>{(0,S.Cu)({filter_type:e},"user_notifications_filter_clicked")},notifications:_,markAllAsReadFn:c,tabManager:k,tabPropsMap:v}),(0,a.jsx)(l.t.TabPanel,{...x.all,children:N(_)}),(0,a.jsx)(l.t.TabPanel,{...x.priority,children:N(I)}),(0,a.jsx)(l.t.TabPanel,{...x.unread,children:N(A)})]})})}function e6(e){return e.some(e=>e.is_unread)}(e=>{function t(e){return(0,a.jsx)("h3",{className:eX,children:eN[e.notificationDateGroup]})}function i(e){return(0,a.jsx)("h3",{className:eX,children:eR[e.notificationPriorityGroup]})}e.Container=function({children:e,classNameProp:t}){return(0,a.jsx)(d.o,{eventListeners:["onClick","onMouseDown"],children:(0,a.jsx)("div",{className:t,"data-onboarding-key":O.fD,children:e})})},e.LoadingFeed=function(){return(0,a.jsx)("div",{className:"user_notifications_dropdown--loadingContainer--jY9PZ",children:(0,a.jsx)(x.k,{})})},e.Feed=function(e){let n=(0,P.Pc)(),s=(0,r.d4)(e=>n?e.authedUsers.byId[n.id]?.plans:null),l=(0,r.Pj)(),d=(0,r.wA)(),c=(0,E.FC)(),m=(0,A.q5)(),p=(0,N.sZ)(),{Sprig:g}=(0,y.A)(),b=t=>{e.setHiddenNotificationIds([...e.hiddenNotificationIds,t])},w=!1;if(n&&!e.inCommunity&&s?.length===1&&(w=!0,e.currentPlanFilter===F.a)){let t=s[0].plan_id;for(let i of e.notifications)if(i.plan?.id.toString()!==t){w=!1;break}}let x=o.useCallback(t=>()=>{var i,n;if(!t.deeplink)return;let a=new URL(t.deeplink.href),o=a.pathname;if(o.includes("project"))i=o.split("project/")[1],(0,S.xr)("file_browser_folder_click",i,null,c,{selectedView:"notifications",planFilterId:e.currentPlanFilter===F.a?null:e.currentPlanFilter});else if(o.includes("team"))n=o.split("team/")[1],(0,S._J)("file_browser_team_click",n,c,{selectedView:"notifications",planFilterId:e.currentPlanFilter===F.a?null:e.currentPlanFilter});else if((0,f.ek)(o)){let t=(0,f.zv)(o);t&&d(C.UN({fileKey:t,entrypoint:"notifications",currentPlanFilter:{planId:e.currentPlanFilter===F.a?void 0:e.currentPlanFilter||void 0},sprig:g}))}d(j.oB());let r=!!m&&m.key===(0,f.zv)(a.pathname);if(!h.eD&&r)d((0,I.H)({params:a.searchParams.toString(),hash:a.hash}));else if(t.deeplink.use_unsafe)_.Ay.unsafeRedirect(a.href,h.eD?void 0:"_blank");else if(e.inDesktopTray)_.Ay.redirect(a.href);else try{let e=(0,R.vU)(l.getState(),o);if("teamFeed"===e.view){p&&t.plan?.id.toString()===p.id?d(j.sf(e)):_.Ay.redirect(a.href,h.eD?void 0:"_blank");return}_.Ay.redirect(a.href,h.eD?void 0:"_blank");return}catch{_.Ay.redirect(a.href,h.eD?void 0:"_blank")}},[d,m,e.currentPlanFilter,e.inDesktopTray,c,l,p,g]);if(0===e.notifications.length)return(0,a.jsx)("div",{className:"user_notifications_dropdown--emptyRow--4UwYl",children:(0,u.tx)("user_notifications.dropdown.no_notifications")});{var k;let n,r;"priority"===e.currentNotificationFilter&&e.notifications.sort((e,t)=>Number(eE(t))-Number(eE(e)));let s=e.inCommunity?"user_notifications_dropdown--scrollContainer--phbbl":"user_notifications_dropdown--scrollContainerWithPlan---Z4H1",l=eS((k=e.notifications)[0].preferred_attachments[0].body.created_at,k[0].filters.user_last_viewed_timestamp)===eS(k[k.length-1].preferred_attachments[0].body.created_at,k[0].filters.user_last_viewed_timestamp),d=e=>{let i;let o=null;if(!l)try{i=eU(e);let r=eS(i.body.created_at,e.filters.user_last_viewed_timestamp);r!==n&&(n=r,o=(0,a.jsx)(t,{notificationDateGroup:r},`date-${e.notification_id}`))}catch(e){console.error("Skipping date header, unsupported notification")}return o},c=e=>{let t=null,n=eE(e)?"actionable":"actioned";return n!==r&&(r=n,t=(0,a.jsx)(i,{notificationPriorityGroup:n},`priority-${e.notification_id}`)),t};return(0,a.jsx)(v.P,{className:`${e.fillParent?"":s}`,children:(0,a.jsx)("div",{children:e.notifications.map(t=>{let i=null;return i="priority"===e.currentNotificationFilter?c(t):d(t),(0,a.jsxs)(o.Fragment,{children:[i,(0,a.jsx)(eB,{notification:t,updateNotificationCallback:e.updateNotificationCallback,dontShowPlanIcon:w,currentPlanFilter:e.currentPlanFilter,currentNotificationFilter:e.currentNotificationFilter,inDesktopTray:e.inDesktopTray,onHide:()=>b(t.notification_id),followLinkOnClickCallback:x(t)},`row-${t.notification_id}`)]},`row-container-${t.notification_id}`)})})})}},e.UnreadBar=function(e){return e6(e.notifications)?(0,a.jsxs)("div",{className:"user_notifications_dropdown--unreadToggleBar---1U5q",children:[function(e){let t=e.reduce((e,t)=>e+Number(t.is_unread),0);return(0,a.jsx)("div",{className:"user_notifications_dropdown--unread--e14XU",children:(0,u.t)("user_notifications.unread_count",{unreadCount:t})})}(e.notifications),e6(e.notifications)&&(0,a.jsx)(c.E,{onClick:e.markAllAsReadFn,className:eJ,children:(0,u.tx)("user_notifications.dropdown.mark_all_as_read")})]}):null},e.DateHeader=t,e.PriorityHeader=i,e.Header=function(e){let t=!e.inDesktopTray;return(0,a.jsxs)("div",{className:"user_notifications_dropdown--header--aOhWS",children:[e.inCommunity?(0,a.jsx)("div",{className:"user_notifications_dropdown--orgName--vbTxV ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,u.t)("user_notification.community_notifications")}):(0,a.jsx)(F.j,{currentPlanFilter:e.selectedPlan===M.td?F.a:e.selectedPlan,onPlanFilterUpdate:e.onPlanFilterUpdate,displaySettings:t}),e.children]})},e.FilterToggle=function(e){let t=(0,a.jsxs)(l.t.TabStrip,{manager:e.tabManager,children:[(0,a.jsx)(l.t.Tab,{...e.tabPropsMap.all,children:(0,u.t)("user_notification.all")}),(0,a.jsx)(l.t.Tab,{...e.tabPropsMap.priority,children:function(e){let t=e.reduce((e,t)=>e+Number(eE(t)),0);return 0===t?(0,u.t)("user_notifications.requests_empty"):(0,u.t)("user_notifications.requests_toggle_count",{actionableCount:t})}(e.notifications)}),(0,a.jsx)(l.t.Tab,{...e.tabPropsMap.unread,children:function(e){let t=e.reduce((e,t)=>e+Number(t.is_unread),0);return 0===t?(0,u.t)("user_notifications.unread_empty"):(0,u.t)("user_notifications.unread_toggle_count",{unreadCount:t})}(e.notifications)})]});return(0,a.jsxs)("div",{className:"user_notifications_dropdown--filterToggleBar--VhBmn user_notifications_dropdown--unreadToggleBar---1U5q",children:[t,e6(e.notifications)&&(0,a.jsx)(c.E,{onClick:e.markAllAsReadFn,className:eJ,children:(0,u.tx)("user_notifications.dropdown.mark_all_as_read")})]})}})(n||(n={}))},611287:(e,t,i)=>{i.d(t,{a:()=>S,j:()=>I});var n=i(104076),a=i(716976),o=i(237420),r=i(748716),s=i(289157),l=i(445006),d=i(567252),c=i(922251),u=i(116366),m=i(468882),p=i(927903),h=i(47972),f=i(554841),_=i(266132),g=i(490384),b=i(520356),y=i(75293),w=i(225434),v=i(65464),x=i(651376),k=i(445191);let C="notifs_plan_filter--boldTitle--ZUcpT",j="notifs_plan_filter--planFilterContainer--E2TSh";var T=i(364616);let S="ALL_PLANS_FILTER";function I(e){let{currentPlanFilter:t,onPlanFilterUpdate:i}=e,[I,A]=a.useState(S),N=(0,o.wA)(),E=(0,g.q5)(),P=(0,a.useRef)(null),{getTriggerProps:R,manager:M}=r.b(),D=(0,b.iZ)(),O=(0,o.d4)(e=>e.plans),F=(0,o.d4)(y.P),U=(0,o.d4)(e=>e.orgById),B=()=>{N(h.oB()),(0,_.Cu)({userId:D?.id,fileKey:E?.key,eventName:"Notification Settings Button Clicked"}),N(f.to({type:k.s,data:{tab:k.c.NOTIFICATIONS}}))};if(!D||!O||O.length<=1)return(0,n.jsxs)("div",{className:j,children:[(0,n.jsx)("h1",{className:C,children:(0,m.t)("user_notification.all_notifications")}),e.displaySettings&&O?.length===1&&(0,n.jsx)(s.K,{"aria-label":(0,m.t)("user_notifications.settings"),htmlAttributes:{"data-dropdown-tooltip":(0,m.t)("user_notifications.settings"),"data-tooltip-type":x.Ib.TEXT,"data-tooltip-show-above":!0},onClick:B,children:(0,n.jsx)(u.n,{})})]});let L=O.map(e=>e.plan_id);L.unshift(S);let H=(e,t)=>e===S?(0,m.t)("user_notification.all_notifications"):t[e],V=O.reduce((e,t)=>{if("plan_type"in t){let i="";if(t.plan_type===v.O.ORG){let e=U[t.plan_id];i=e?.name??i}else{let e=F[t.plan_id];i=e?.name??i}e[t.plan_id]=i}else"name"in t&&(e[t.plan_id]=t.name);return e},{}),q=L.map(e=>(0,n.jsx)(l.CU,{value:e,children:H(e,V)},e));return(0,n.jsxs)("div",{className:j,ref:P,children:[(0,n.jsx)(d.nK,{children:(0,n.jsxs)(r.bL,{manager:M,children:[(0,n.jsxs)(c.E,{"aria-label":(0,m.t)("user_notifications.notif_filter_label",{planName:H(t,V)}),className:"notifs_plan_filter--dropdownButton--hQgHc",...R(),children:[(0,n.jsx)("span",{className:[C,"notifs_plan_filter--autoTruncate--gl9us ellipsis--ellipsis--Tjyfa"].join(" "),children:(0,w.gN)(H(t,V),35)}),(0,n.jsx)(p.B,{svg:T.A,className:"notifs_plan_filter--chevronIcon--0Rqnp"})]}),(0,n.jsx)(r.mc,{children:(0,n.jsx)(l.z6,{title:null,onChange:e=>{i(e),A(e)},value:I,children:q})})]})}),e.displaySettings&&(0,n.jsx)(s.K,{"aria-label":(0,m.t)("user_notifications.settings"),htmlAttributes:{"data-dropdown-tooltip":(0,m.t)("user_notifications.settings"),"data-tooltip-type":x.Ib.TEXT,"data-tooltip-show-above":!0},onClick:B,children:(0,n.jsx)(u.n,{})})]})}},332704:(e,t,i)=>{i.d(t,{DG:()=>P,Kc:()=>I,OQ:()=>A,Zp:()=>T,dy:()=>E,in:()=>R,rS:()=>N});var n=i(716976),a=i(237420),o=i(385446),r=i.n(o),s=i(59881),l=i(790627),d=i(333863);if(3679!=i.j)var c=i(511245);var u=i(707698),m=i(884492),p=i(196531),h=i(229462),f=i(594557),_=i(445622),g=i(794134),b=i(397617),y=i(428444),w=i(214099),v=i(807083),x=i(939156),k=i(607329);if(3679!=i.j)var C=i(124928);var j=i(214152),T=(e=>(e.TILE="tile",e.DETAIL_MODAL="detail",e))(T||{});function S(e,t,i){return e===i&&t!==y.Xn.GUEST}function I(e,t){let i=`${location.origin}/files/${e}/feed-posts`;return t?.uuid&&(i+=`/${t.uuid}`),i}function A({fileVersionId:e,fileKey:t,startingNodeId:i},n){let a=(0,x.lD)({startingPointNodeId:i,versionId:e});a["redirect-src"]="feed",Object.assign(a,n);let o=Object.entries(a).map(([e,t])=>`${e}=${t}`).join("&");return`${location.origin}/proto/${t}?${o}`}function N(e,t,i){let o=(0,a.wA)(),r=t.find(e=>e.type===k.cM.NODE||e.type===k.cM.PROTOTYPE),l=(r?r.fileKey:void 0)||i;n.useEffect(()=>{o(m.ZN({file_key:l??void 0}))},[o,l]);let u=w.M4.useFile(l).data,p=(0,d.$E)(),h=n.useMemo(()=>u&&r&&r.type===k.cM.PROTOTYPE?d.y1.PROTOTYPE:u?p(u):void 0,[u,r,p]),f=u&&void 0!==h;return{fileData:u,fileIcon:h,fileLoaded:f,openFile:n.useCallback(()=>{if((0,s.sx)("Team Feed File Clicked",{postUuid:e}),r){if(r.type===k.cM.NODE){let t=(0,b.jN)({file:{key:r.fileKey},commentId:(0,C.iw)(e)});o(c.V3({url:t}))}else r.type===k.cM.PROTOTYPE&&o(c.V3({url:A(r)}))}if(l){let e=(0,b.jN)({file:{key:l}});o(c.V3({url:e}))}},[o,r,e,l])}}var E=(e=>(e.TILE="tile",e.DETAIL="detail",e))(E||{});function P(e,t){let i=(0,a.wA)();return n.useCallback(()=>{(0,s.sx)("Team Feed Copy Link Clicked",{postUuid:e,source:t}),i(u.le({view:"teamFeed",postUuid:e}))},[i,e,t])}function R(e,t,i,a){let[o,d]=n.useState({}),[c,u]=n.useState({}),m=(0,g.eY)(),b=(0,v.D6)("useFeedPostInfo").unwrapOr(null),w=b?.key.type===y.h4.ORG_USER?b.planKey.parentId??void 0:void 0,x=b?.key.type===y.h4.ORG_USER?b.permission:void 0;return n.useEffect(()=>{if(e.errors&&e.errors.length){let t=JSON.stringify(e.errors.map(e=>({code:e.code,path:e.path,message:e.error?.message||""})));console.error(`Failed to load feed posts: ${t}`),(0,s.sx)("Livegraph Feed Post Comments Errors",{errors:t})}},[e.errors]),n.useMemo(()=>{if((0,f.y)()&&"loaded"===e.status&&e.data.file&&m?.get){let t=e.data.file.feedPosts,n=t.filter(e=>!!e.org&&!!x&&S(w,x,e.org.id)),s=(0,_.N)(n),l=i(s);Object.entries(l).every(([e,t])=>null===o[e]&&null===t||!!o[e]&&!!t&&o[e]===t)||d(l);let p=a(s,m?.get.bind(m),t);Object.entries(p).every(([e,t])=>{let i=c[e];return!!i&&r()(i,t)})||u(p)}},[e,m,i,a,x,w,o,c]),n.useMemo(()=>w?function(e,t,i,n,a,o){if("loaded"!==e.status)return e;if(!e.data.file)return(0,l.gB)([]);let r={},s=(e.data.file?.feedPosts||[]).sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime()).filter(e=>!!e.org&&S(a,o,e.org.id)).map(e=>{let a=e.comments.map(e=>({id:`feed_comment_${e.id}`,uuid:e.uuid,key:"",parent_id:null,user_id:e.user.id,created_at:e.createdAt.toISOString(),resolved_at:null,deleted_at:null,message_meta:(0,p.o8)(e.messageMeta),client_meta:null,order_id:null,isUnread:!1,isPendingFromSinatra:!1,user:(0,p.CR)(e.user),feed_id:e.id,attachments:e.attachments,makeCommentContext:(0,l.Wk)(null)})),[o,...s]=(0,_.N)([e]);r[o]=r[o]+1||0;let d=i[o]??null,c=n[e.publicUuid]?.[o],u={};for(let t of s)i[t]===d&&(u[t]=n[e.publicUuid]?.[t]);let m=null,f=null;c&&(f={x:c.x+c.width,y:c.y},m={x:c.x,y:c.y+c.height});let g=(0,p.CR)(e.creator),b=(0,C.iw)(e.publicUuid),y=e.content.map(e=>JSON.parse(e)),{thumbnail:w,padImage:v,thumbnailBackground:x}=(0,j.i)(y,e.backgroundColor??void 0);return{id:b,uuid:"",key:e.fileKey||"",anchored:!1,selectionAnchorCanvasPosition:null,page:d,pageName:null,isActive:t===b,isPendingFromSinatra:!1,canvasPosition:f,boundingBoxAnchorCanvasPosition:m,comments:[{id:b,uuid:"",key:e.fileKey||"",parent_id:null,user_id:g.id,created_at:e.createdAt.toISOString(),resolved_at:null,deleted_at:null,message_meta:(0,p.o8)(e.descriptionMeta),client_meta:null,order_id:null,isUnread:!1,isPendingFromSinatra:!1,user:g,feed_id:e.id,makeCommentContext:(0,l.Wk)(null)},...a],messageMeta:[],attachments:[],isCanvasMention:!1,sidebarItemType:h.kT.FEED_POST,feedPostPublicUuid:e.publicUuid,feedPostTitle:e.title,feedPostThumbnail:w,feedPostThumbnailBackground:x,feedPostNumContent:e.content.length,padFeedPostThumbnail:v,otherBoundingBoxes:u,pinVerticalStagger:r[o]}});return(0,l.gB)(s)}(e,t,o,c,w,x):(0,l.gB)([]),[e,t,o,c,w,x])}},214152:(e,t,i)=>{i.d(t,{i:()=>a,m:()=>o});var n=i(607329);function a(e,t){let i=e.find(e=>e.type===n.cM.NODE),a=i?.mediumImageUrl||i?.preview_image_url||i?.image_url;if(a)return{thumbnail:a,padImage:!i.preview_image_url,thumbnailBackground:o(i,t)};let r=e.find(e=>e.type===n.cM.PROTOTYPE),s=r?.imageUrl;if(s)return{thumbnail:s,padImage:!1,thumbnailBackground:o(r,t)};let l=e.find(e=>e.type===n.cM.IMAGE),d=l?.mediumImageUrl||l?.preview_image_url||l?.url;if(d)return{thumbnail:d,padImage:!l?.preview_image_url,thumbnailBackground:o(l,t)};let c=e.find(e=>e.type===n.cM.VIDEO),u=c?.coverImage;return u?{thumbnail:u,padImage:!1,thumbnailBackground:o(c,t)}:{thumbnail:"",padImage:!1,thumbnailBackground:o(null,t)}}function o(e,t){return e?(0,n.aT)(e)?"backgroundColor"in e&&e.backgroundColor||t:"black":"var(--color-bg-secondary)"}},801283:(e,t,i)=>{i.d(t,{B1:()=>w,Gq:()=>k,MS:()=>C,ON:()=>I,Oo:()=>v,SU:()=>p,b7:()=>y,bM:()=>j,ep:()=>A,zi:()=>x});var n=i(278995),a=i(818822),o=i(855272),r=i(528191),s=i(711839),l=i(468882),d=i(59881),c=i(685070);let u=[a.Z6A.STICKY,a.Z6A.TEXT,a.Z6A.SHAPE_WITH_TEXT],m=[a.Z6A.STICKY,a.Z6A.TEXT];function p(e){return e?e.textSublayer?e.textSublayer.textContent:e.textContent?e.textContent:null:null}let h=(e,t)=>e?p(e)||(e.name?e.name:null):null,f=e=>!!["STICKY","TEXT","SHAPE_WITH_TEXT"].includes(e.type),_=e=>!!["STICKY","TEXT"].includes(e.type),g=(e,t,i)=>{if(!f(e))return null;let n=i[e.guid],a=h(e,t);if(!a)return null;let o={t:a,bounds:e.absoluteRenderBounds,id:e.guid,type:e.type};return n&&(o.stamps=n),o},b=e=>{if(!n.DV9)return{};let t=n.DV9.getStampsOnNodes(e),i={};for(let[e,n]of t)i[e]=Object.fromEntries(n);return i};function y(e){let t=function(e){if(!n.glU)return[];let t=n.glU.searchForNodesInSelection(u),i=[];for(let n of t){let t=e.get(n);t&&i.push(t)}return i.filter(e=>f(e))}(e),i=b(t.map(e=>e.guid)),a=[];for(let n of t){let t=g(n,e,i);t&&a.push(t)}return{v:1,data:a}}function w(e){if(!n.glU)return[];let t=n.glU.searchForNodesInSelection(m),i=[];for(let n of t){let t=e.get(n);t&&i.push(t)}return i.filter(e=>_(e))}function v(e){let t=[],i=0;for(let n of e)if(n){let e=(0,r.DJ)(n);if(null!==e&&""!==e){if((i+=e.length)>78e4)throw(0,d.sx)("activation.send_to_make_from_figjam.exceeded_token_length_limit",{},{forwardToDatadog:!0}),Error("context-window-exceeded");t.push(e)}}return t}function x(e){let t=function(e){if(!n.glU)return[];let t=n.glU.getStickyThreadsFromSelection(),i=[];for(let n of t){let t=!1,a={id:"",text:""};for(let i of n){let n=e.get(i);if(n&&"STICKY"===n.type){let e=n.textSublayer&&n.textSublayer.textContent||"";if(t)a.id=a.id?`${a.id}|${i}`:i,e&&(a.text=a.text?`${a.text}|${e}`:e);else{if(t=!0,!e)continue;a.id=n.guid,a.text=e;continue}}}a.text&&i.push(a)}return i}(e),i=JSON.stringify(t).length;return{v:1,data:t,characterCount:i}}function k(){if(!n.glU||!n.DV9)return[];let e=n.glU.searchForNodesInSelection([a.Z6A.STICKY]),t=n.DV9.getStickyClustersByAuthor(e),i=[];for(let e of t)i.push({clusterName:e[0],messages:e[1]});return i}function C(){if(!n.glU||!n.DV9)return[];let e=n.glU.searchForNodesInSelection([a.Z6A.STICKY]),t=n.DV9.getStickyClusterByColor(e),i=[];for(let e of t)i.push({clusterName:"",messages:e[1]});return i}function j(){if(!n.glU||!n.DV9)return[];let e=n.glU.searchForNodesInSelection([a.Z6A.STICKY]),t=n.DV9.getStickyClusterByStampCount(e),i=[];for(let e of t)i.push({clusterName:e[0],messages:e[1]});return i.sort((e,t)=>parseInt(t.clusterName)-parseInt(e.clusterName)),i}let T=e=>{if(!n.DV9)return[];let t=n.DV9.getStickyClusterByStampType(e),i=[];return t.forEach((e,t)=>{let n="No stamps"===t?null:(0,c.Pu)(t),a=i.find(e=>e.stampType===n);a||(a={stampType:n,stickyThreadGuids:[]},i.push(a)),a.stickyThreadGuids.push(...e)}),i},S=(e,t,i)=>{let n=[],a=e.get(t);if(!a)return n;for(let e of a.stuckNodes)e&&e.name===c.k_[i].nodeNameOnCanvas&&n.push(e.guid);return n};function I(){if(!n.glU)return[];let e=T(n.glU.searchForNodesInSelection([a.Z6A.STICKY])),t=(0,s.UN)(),i=[];for(let n of e){let e=n.stickyThreadGuids.flatMap(e=>e.split("|")),a=[];if(n.stampType)for(let i of e)a.push(...S(t,i,n.stampType));i.push({clusterName:function(e){switch(e){case c.SS.HEART:return(0,l.t)("whiteboard.clustering.heart_stamp_cluster");case c.SS.DOT:return(0,l.t)("whiteboard.clustering.dot_stamp_cluster");case c.SS.PLUS_ONE:return(0,l.t)("whiteboard.clustering.plus_one_stamp_cluster");case c.SS.PROFILE:return(0,l.t)("whiteboard.clustering.face_stamp_cluster");case c.SS.QUESTION:return(0,l.t)("whiteboard.clustering.question_mark_stamp_cluster");case c.SS.STAR:return(0,l.t)("whiteboard.clustering.star_stamp_cluster");case c.SS.THUMBS_DOWN:return(0,l.t)("whiteboard.clustering.thumbs_down_stamp_cluster");case c.SS.THUMBS_UP:return(0,l.t)("whiteboard.clustering.thumbs_up_stamp_cluster");case c.SS.OTHER:default:return(0,l.t)("whiteboard.clustering.other_stamp_cluster");case null:return(0,l.t)("whiteboard.clustering.no_stamps_cluster")}}(n.stampType),messages:n.stickyThreadGuids,allowedStampsToCopyGuids:a})}return i}function A(e,t){let i=e.get(t);if(!i||!i.isDiagramNode)return null;let n=p(i);if(!n)return null;let a=[],r=i.diagramParentId;for(;r&&r!==o.AD;){let t=e.get(r);if(!t)break;let i=p(t);i&&a.push(i),r=t.diagramParentId}a.reverse();let s=[];for(let t of i.diagramChildIds){let i=p(e.get(t));i&&s.push(i)}return{selectedNode:n,parentHierarchy:a,children:[],excludedSuggestions:s}}},78587:(e,t,i)=>{i.d(t,{dV:()=>K});var n=i(104076),a=i(716976),o=i(237420),r=i(567252),s=i(38576),l=i(922251),d=i(594251),c=i(498020),u=i(861208),m=i(468253),p=i(709120),h=i(225363),f=i(752488),_=i(278995),g=i(818822),b=i(468882),y=i(536760),w=i(611769),v=i(511570),x=i.n(v),k=i(966559),C=i(431120),j=i(115479),T=i(420398),S=i(554841),I=i(848755),A=i(469790),N=i(794134),E=i(520356),P=i(770462),R=i(107959),M=i(799661),D=i(448160),O=i(605020),F=i(124790),U=i(479163),B=i(51769),L=i(788627),H=i(946383),V=i(453269);let q="edit_color_palette_modal--modalLabel--AVogh text--fontPos11--2LvXf text--_fontBase--QdLsd",z="edit_color_palette_modal--circleButton--ewqgH";function $({color:e,setColor:t,index:i,isColorPickerOpen:a,setColorPickerOpen:o,removeColor:d,theme:c,dropperDisabled:u}){let{getContainerProps:m,getTriggerProps:p}=r.fP({isOpen:a,onOpenChange:o,type:"menu",softDismiss:!0});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.mc,{...m(),children:(0,n.jsx)(L.w,{color:e,theme:c,currentTool:g.NLJ.NONE,dropdownShown:null,onColorChange:t,dropperDisabled:u})}),(0,n.jsxs)("div",{className:"edit_color_palette_modal--colorCircleOuter--ZJqke",children:[(0,n.jsx)(s.u,{"aria-label":(0,b.t)("whiteboard.colors.palette.hexadecimal",{hex:(0,k.colorToHex)(e)}),className:z,...p(),children:(0,n.jsx)(B.pt,{size:"large",value:e,selectionState:a?"selected":"unselected",paletteType:"base",background:"light"},e+"-"+i)}),(0,n.jsx)(l.E,{className:x()({"edit_color_palette_modal--deleteColorButton--rWqOY":!0,"edit_color_palette_modal--deleteColorButtonDisabled--dwsFr":a}),onClick:()=>d(),"aria-label":(0,b.t)("whiteboard.color_palettes.modal.remove_color",{color_name:(0,b.t)("whiteboard.colors.palette.hexadecimal",{hex:(0,k.colorToHex)(e)})}),"data-testid":`delete-color-button-${i}`,children:(0,n.jsx)(h.A,{className:"edit_color_palette_modal--deleteColorIcon--BlYrV"})})]},"wrapper"+e+"-"+i)]})}function W({onSave:e,onCancel:t,palette:i,enableSubmitWithNoChanges:r,manager:l,isPaletteEyedropperActive:p,theme:h}){let g=(0,o.wA)(),[v,x]=a.useState(i?.name||""),[I,N]=(0,y.fp)(V.Jq),D=a.useCallback(()=>-1!==I&&(N(-1),!0),[I,N]);(0,A.O1)(D,A.KD.OVERLAY);let O=a.useMemo(()=>i?.baseColors||(0,U.Vk)(),[i?.baseColors]),[L,W]=(0,y.fp)(V.rN),Y=(0,y.Xr)(F.Bw),Q=!(0,C.$K)(O,L)||r,[G,X]=a.useState(!1);a.useEffect(()=>(N(-1),W(O),Y(_.cxo.EDIT_PALETTE_MODAL),()=>{N(-1),W(O),Y(_.cxo.SELECTION)}),[N,W,Y,O]);let J=(0,o.d4)(e=>{let t=e.selectedView;return"fullscreen"!==t.view||t.editorType!==M.nT.Whiteboard}),Z=a.useCallback(e=>{W([...L,e])},[L,W]),ee=a.useCallback((e,t)=>{W([...L.slice(0,e),t,...L.slice(e+1)])},[L,W]),et=e=>{W([...L.slice(0,e),...L.slice(e+1)])},ei=a.useCallback(e=>{g(S.$O({type:K.type,data:{palette:{uuid:e,name:v,baseColors:L},enableSubmitWithNoChanges:!0,theme:h}}))},[g,v,L,h]),en=(0,P.cD)(),ea=(0,E.TA)(),eo=(0,H.Bw)(),er=a.useCallback(()=>{let t=L.some((e,t)=>L.some((i,n)=>t!==n&&(0,C.DA)(e,i)));if(X(t),t)return;let n=L.map(e=>(0,k.colorToHex)(e,1));if(v&&ea&&n.length){let t=i?.uuid||(0,w.g)();i?(0,V.NK)({name:v,teamId:en,baseColors:n,uuid:t},g,()=>ei(t)):((0,V.cl)({name:v,teamId:en,uuid:t,baseColors:n,creatorId:ea,isTeamDefault:!1,canRead:!0},g,()=>ei(t)),eo(t,n.length,!0)),e()}},[L,v,ea,i,e,en,g,ei,eo]),es=function(e){let t=(0,C.tK)(C.ol.MULTIPLAYER_PURPLE)||C.Uv;if(!e)return t;let i=(0,f.oB)(e),n=360*i.h,a={...i,h:(n+40)%360/360};return(0,f.In)(a)}(L.length>0?L[L.length-1]:null),el=L.length>=R.I_,ed=v&&v.trim()&&L.length>0&&(!i||Q||v!==i.name),ec=i?(0,b.t)("whiteboard.color_palettes.modal.edit_palette"):(0,b.t)("whiteboard.color_palettes.modal.create_palette");return(0,n.jsx)(d.bL,{width:"fit-content",height:"dynamic",manager:l,children:(0,n.jsxs)(c.vo,{allowOverflow:!0,children:[(0,n.jsx)(c.Y9,{children:(0,n.jsx)(c.hE,{children:ec})}),(0,n.jsxs)(c.nB,{style:{overflow:"visible"},children:[(0,n.jsx)(u.J,{htmlFor:"palette-name-input",className:q,children:(0,b.tx)("whiteboard.color_palettes.modal.name")}),(0,n.jsx)("div",{className:"edit_color_palette_modal--nameInput--iRWoM",children:(0,n.jsx)(m.p,{id:"palette-name-input",placeholder:(0,b.t)("whiteboard.color_palettes.modal.palette_name"),value:v||"",onChange:e=>x(e.slice(0,100)),size:"lg","data-testid":"palette-name-input"})}),(0,n.jsxs)("div",{className:"edit_color_palette_modal--colorsContainer--VNvss",children:[(0,n.jsx)("h3",{className:q,children:(0,b.tx)("whiteboard.color_palettes.modal.colors")}),(0,n.jsx)("p",{className:"edit_color_palette_modal--modalDescription--SeVmv text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,b.tx)("whiteboard.color_palettes.modal.choose_up_to_9_colors")}),G&&(0,n.jsx)("p",{className:"edit_color_palette_modal--modalDescriptionError--W6hs7 text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,b.tx)("whiteboard.color_palettes.modal.duplicate_colors")}),(0,n.jsxs)("div",{className:"edit_color_palette_modal--colorPaletteContainer--aQ-En",children:[L.map((e,t)=>(0,n.jsx)($,{color:e,setColor:e=>ee(t,e),index:t,isColorPickerOpen:!p&&I===t,setColorPickerOpen:e=>N(e?t:-1),removeColor:()=>et(t),dropperDisabled:J,theme:h},"editbutton-"+e+"-"+t)),!el&&(0,n.jsx)(s.u,{"aria-label":(0,b.t)("whiteboard.color_palettes.modal.add_color"),"aria-haspopup":!0,"aria-expanded":!1,"data-testid":"add-color-button",className:z,onClick:()=>{N(L.length),Z(es)},children:(0,n.jsx)(B.HL,{size:"large",value:B.WW,swatchStyle:{boxShadow:"0px 0px 0px 1px rgba(0, 0, 0, 0.2) inset"},fallbackSvg:B.xY})})]})]})]}),(0,n.jsx)(c.wi,{children:(0,n.jsxs)(c.jk,{children:[(0,n.jsx)(T.E,{color:"secondary",children:(0,b.tx)("whiteboard.color_palettes.modal.palettes_visible_to_everyone")}),(0,n.jsx)(j.$z,{variant:"secondary",onClick:t,children:(0,b.tx)("whiteboard.color_palettes.modal.cancel")}),(0,n.jsx)(j.$z,{variant:"primary",disabled:!ed,type:"submit",onClick:er,htmlAttributes:{"data-testid":"save-button"},children:(0,b.tx)("whiteboard.color_palettes.modal.save_palette")})]})})]})})}let K=(0,O.Ju)(function({palette:e,theme:t,enableSubmitWithNoChanges:i,...r}){let s=(0,o.wA)(),l=(0,E.TA)(),d=(0,P.cD)(),c=p.hS({open:r.open,onClose:r.onClose}),u=(0,N.dH)(),m=(0,y.md)(F.Bw),h=u===g.NLJ.DROPPER_COLOR&&m===_.cxo.EDIT_PALETTE_MODAL,f=a.useCallback(()=>{s(S.Lo())},[s]);return(0,n.jsx)("div",{className:x()("edit_color_palette_modal--headerModalTransitionContainer--C-CFV",{"edit_color_palette_modal--hidden--EDk-H":h}),children:(0,n.jsx)(I.fu,{name:D.e0.FIGJAM_EDIT_PALETTE_MODAL,properties:{userId:l,teamId:d,type:e?"edit palette":"new palette"},children:(0,n.jsx)(W,{onSave:f,onCancel:f,palette:e,enableSubmitWithNoChanges:i,manager:c,isPaletteEyedropperActive:h,theme:t})})})},"EditColorPaletteModal")},943095:(e,t,i)=>{i.d(t,{j:()=>B});var n=i(104076),a=i(237420),o=i(709120),r=i(594251),s=i(498020),l=i(239268),d=i(289157),c=i(324532),u=i(853683),m=i(468882),p=i(759095),h=i(959248),f=i(115479),_=i(139537),g=i(256112),b=i(554841),y=i(848755),w=i(556862),v=i(520356),x=i(889323),k=i(770462),C=i(107959),j=i(651376),T=i(448160),S=i(605020),I=i(440392),A=i(453269),N=i(201019);let E=(0,S.Ju)(function({paletteUuid:e}){let t=(0,a.wA)();return(0,n.jsx)(I.yX,{size:300,confirmText:(0,m.t)("whiteboard.color_palettes.modal.delete_color_palette_button"),confirmationTitle:(0,m.t)("whiteboard.color_palettes.modal.delete_color_palette_confirmation_modal_title"),popStack:!0,destructive:!0,onConfirm:()=>{(0,A.RN)(e,t)},children:(0,n.jsx)("div",{className:N.jE,children:(0,m.tx)("whiteboard.color_palettes.modal.delete_color_palette_confirmation_modal_content")})})},"DeleteColorPaletteConfirmationModal");var P=i(479163),R=i(51769),M=i(946383),D=i(78587);let O=(0,S.Ju)(function({paletteName:e,paletteUuid:t}){let i=(0,a.wA)(),o=(0,k.cD)(),r=(0,a.d4)(e=>e.teams[o]?.name);return r||console.error("No team name found for team id",o),(0,n.jsx)(I.yX,{size:360,confirmationTitle:(0,m.t)("whiteboard.color_palettes.make_default_confirmation_modal.title"),confirmText:(0,m.t)("whiteboard.color_palettes.make_default_confirmation_modal.confirm_button"),content:(0,m.t)("whiteboard.color_palettes.make_default_confirmation_modal.description",{teamName:r,paletteName:e||(0,m.t)("whiteboard.color_palettes.make_default_confirmation_modal.this_palette")}),onConfirm:()=>{t===C.fJ?(0,A.In)(o,i):(0,A.dq)(o,t,i)},popStack:!0})},"MakePaletteTeamDefaultConfirmationModal");function F({showMakeDefaultButton:e,entryPoint:t,theme:i,...l}){let d=(0,v.TA)(),c=(0,k.cD)(),u=o.hS({open:l.open,onClose:l.onClose}),h=(0,a.wA)(),[g]=(0,p.IT)((0,x.iP2)({teamId:c}),{enabled:!!c});return(0,n.jsx)(y.fu,{name:T.e0.FIGJAM_MANAGE_PALETTES_MODAL,properties:{entryPoint:t,userId:d,teamId:c},children:(0,n.jsx)(r.bL,{width:"fit-content",height:"dynamic",manager:u,children:(0,n.jsxs)(s.vo,{children:[(0,n.jsx)(s.Y9,{children:(0,n.jsx)(s.hE,{children:(0,m.t)("whiteboard.color_palettes.manage_modal.color_palettes")})}),(0,n.jsxs)(s.nB,{padding:16,children:[(0,n.jsxs)("div",{className:"manage_color_palettes_modal--subheader--2Aol7",children:[(0,n.jsx)("div",{className:"manage_color_palettes_modal--manageText---c1Ro",children:(0,m.tx)("whiteboard.color_palettes.manage_modal.manage_your_teams_color_palettes")}),(0,n.jsx)(f.$z,{variant:"primary",onClick:()=>{h(b.$O({type:D.dV.type,data:{theme:i}}))},htmlAttributes:{"data-testid":"create-color-palette-button"},children:(0,m.tx)("whiteboard.color_palettes.manage_modal.create_new_palette")})]}),(0,n.jsx)("div",{className:"manage_color_palettes_modal--paletteRowsOuter--d2OIk","aria-busy":"loading"===g.status,children:"loaded"===g.status&&g.data.colorPalettesForTeam?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(U,{palette:{uuid:C.fJ,name:(0,m.t)("whiteboard.color_palettes.figjam_colors"),baseColors:(0,P.TS)("base").map(e=>w.z5.format(e)),isTeamDefault:g.data.colorPalettesForTeam.every(e=>!e.isTeamDefault)},theme:i,showMakeDefaultButton:e},C.fJ),g.data.colorPalettesForTeam.map(t=>(0,n.jsx)(U,{palette:t,theme:i,showMakeDefaultButton:e},t.uuid))]}):(0,n.jsx)(_.k,{size:"lg",htmlAttributes:{"data-testid":"loading-spinner"}})})]})]})})})}function U({palette:e,theme:t,showMakeDefaultButton:i}){let o=(0,a.wA)(),r=e.uuid===C.fJ,s=e.name||(0,m.t)("whiteboard.color_palettes.unnamed_palette");return(0,n.jsxs)(g.Y,{width:"fill-parent",direction:"vertical",spacing:"4px",children:[(0,n.jsxs)(g.Y,{direction:"horizontal",spacing:"8px",children:[(0,n.jsx)("h3",{children:s}),e.isTeamDefault&&(0,n.jsx)(l.E,{variant:"brandOutline",children:(0,m.t)("whiteboard.color_palettes.manage_modal.default")})]}),(0,n.jsxs)(g.Y,{direction:"horizontal",width:"fill-parent",horizontalAlignItems:"space-between",children:[(0,n.jsx)(g.Y,{direction:"horizontal",width:"hug-contents",spacing:"0px",children:e.baseColors.map(e=>(0,n.jsx)(R.pt,{value:w.z5.parse(e),paletteType:"base",background:"light",role:"img",ariaLabel:(0,m.t)("whiteboard.colors.palette.hexadecimal",{hex:e})},e))}),(0,n.jsxs)(g.Y,{direction:"horizontal",width:"hug-contents",spacing:"8px",children:[!r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.K,{onClick:()=>{o(b.$O({type:D.dV.type,data:{palette:{uuid:e.uuid,name:e.name,baseColors:(0,M.$v)(e?.baseColors),isTeamDefault:e.isTeamDefault},theme:t}}))},"aria-label":(0,m.t)("whiteboard.color_palettes.modal.edit_named_palette_tooltip",{palette_name:s}),htmlAttributes:{"data-testid":"edit-color-palette-button-"+e.uuid,"data-tooltip-type":j.Ib.TEXT,"data-tooltip":(0,m.t)("whiteboard.color_palettes.modal.edit_named_palette_tooltip",{palette_name:s})},children:(0,n.jsx)(c.C,{})}),(0,n.jsx)(d.K,{onClick:()=>{o(b.$O({type:E.type,data:{paletteUuid:e.uuid}}))},"aria-label":(0,m.t)("whiteboard.color_palettes.modal.delete_named_palette_tooltip",{palette_name:s}),htmlAttributes:{"data-testid":"delete-color-palette-button-"+e.uuid,"data-tooltip-type":j.Ib.TEXT,"data-tooltip":(0,m.t)("whiteboard.color_palettes.modal.delete_named_palette_tooltip",{palette_name:s})},children:(0,n.jsx)(u.B,{})})]}),i&&(0,n.jsx)(f.$z,{variant:"secondary",disabled:e.isTeamDefault,onClick:()=>{o(b.$O({type:O.type,data:{paletteUuid:e.uuid,paletteName:e.name}}))},htmlAttributes:{"data-testid":"make-palette-team-default-button-"+e.uuid},children:(0,m.tx)("whiteboard.color_palettes.modal.set_default")})]})]})]})}let B=(0,S.Ju)(function(e){return(0,n.jsx)(h.u9,{label:"ManageColorPalettesModal",children:(0,n.jsx)(F,{...e})})},"ManageColorPalettesModal")},835729:(e,t,i)=>{i.d(t,{J:()=>o});var n=i(716976),a=i(104076);let o=(0,n.memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M10.197 5a2 2 0 0 1 1.664.89L13.268 8H19a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2zM5 6a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-7a1 1 0 0 0-1-1h-6.268L11.03 6.445A1 1 0 0 0 10.197 6zm5.5 2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1z"})})})},551208:(e,t,i)=>{i.d(t,{Q:()=>o});var n=i(716976),a=i(104076);let o=(0,n.memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M7.5 6A1.5 1.5 0 0 0 6 7.5v1a.5.5 0 0 0 1 0v-1a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 0-1 0v1A1.5 1.5 0 0 0 7.5 18h9a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 16.5 6zm4.146 3.146a.5.5 0 0 1 .708 0l2.5 2.5a.5.5 0 0 1 0 .708l-2.5 2.5a.5.5 0 0 1-.708-.708l1.647-1.646H9.5a.5.5 0 0 1 0-1h3.793l-1.647-1.646a.5.5 0 0 1 0-.708",clipRule:"evenodd"})})})},8942:(e,t,i)=>{i.d(t,{H:()=>o});var n=i(716976),a=i(104076);let o=(0,n.memo)(function(e){return(0,a.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:[(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M8 8.75A.75.75 0 0 1 8.75 8h6.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-6.5A.75.75 0 0 1 8 9.25zm0 3a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-6.5a.75.75 0 0 1-.75-.75zM8.75 14a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h6.5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75z",clipRule:"evenodd"}),(0,a.jsx)("path",{fill:"var(--fpl-icon-color-3, var(--color-icon-tertiary))",fillRule:"evenodd",d:"M6.5 6h11a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5M5 6.5A1.5 1.5 0 0 1 6.5 5h11A1.5 1.5 0 0 1 19 6.5v11a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 5 17.5z",clipRule:"evenodd"})]})})},638926:(e,t,i)=>{i.d(t,{w:()=>o});var n=i(716976),a=i(104076);let o=(0,n.memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M18 4a2 2 0 0 1 2 2v6.172l-.01.197a2 2 0 0 1-.576 1.217l-5.828 5.828-.146.133a2 2 0 0 1-1.268.453H6l-.204-.01A2 2 0 0 1 4 18V6a2 2 0 0 1 2-2zM6 5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h6v-5a2 2 0 0 1 2-2h5V6a1 1 0 0 0-1-1zm8 8a1 1 0 0 0-1 1v4.586L18.586 13z"})})})},853683:(e,t,i)=>{i.d(t,{B:()=>o});var n=i(716976),a=i(104076);let o=(0,n.memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M6 5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .496.5h12.008a.5.5 0 0 0 .496-.5v-1A.5.5 0 0 0 18 5zM4.5 6.5a1.5 1.5 0 0 0 1.037 1.427L5.725 10H5a.5.5 0 0 0 0 1h.816l.653 7.181A2 2 0 0 0 8.46 20h7.078a2 2 0 0 0 1.992-1.819L18.184 11H19a.5.5 0 0 0 0-1h-.725l.188-2.073A1.5 1.5 0 0 0 19.5 6.5v-1A1.5 1.5 0 0 0 18 4H6a1.5 1.5 0 0 0-1.5 1.5zm2.965 11.59L6.548 8h10.905l-.918 10.09a1 1 0 0 1-.996.91H8.461a1 1 0 0 1-.996-.91M11 10.5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0zm3 0a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z",clipRule:"evenodd"})})})}}]);

//# debugId=686df9a5-0fc7-582c-a040-ed42f8251458

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/0e8080d469cb34966fb5eb45b764c0224c25ee22/6959-34a442f6eae6b790.min.js.map